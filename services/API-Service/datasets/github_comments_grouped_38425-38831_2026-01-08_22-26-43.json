{
  "metadata" : {
    "exportTime" : "2026-01-08T22:26:43.627948",
    "issueRange" : "38425-38831",
    "totalComments" : 868,
    "totalIssues" : 218
  },
  "issues" : [ {
    "issueNumber" : 38425,
    "commentsCount" : 7,
    "comments" : [ {
      "numberIssue" : 38425,
      "numberCommentInIssue" : 1,
      "authorComment" : "filipwiech",
      "commentText" : "Might be fixed by #38179, released in Zed v0.205.0 preview. \uD83D\uDC4D \n\nEDIT: scratch that, looks like it was backported to the stable v0.204.1 as well, it's just not in the published release notes. \uD83E\uDD14 "
    }, {
      "numberIssue" : 38425,
      "numberCommentInIssue" : 2,
      "authorComment" : "clain23",
      "commentText" : "Zed 0.204.1 \n8127523d0f9ee8b3753561135dfdc400490717ff\n\nstill sluggish"
    }, {
      "numberIssue" : 38425,
      "numberCommentInIssue" : 3,
      "authorComment" : "berkus",
      "commentText" : "Still happening with \n\nZed: v0.204.3 (Zed) \nOS: macOS 26.0\nMemory: 24 GiB\nArchitecture: aarch64\n\nbut\nI switch to zed, it doesn't react, I double click a word, switch to a different desktop, and then back, and that word becomes selected (and Zed unfreezes), so it actually receives and handles the events, just doesn't update the UI."
    }, {
      "numberIssue" : 38425,
      "numberCommentInIssue" : 4,
      "authorComment" : "rmehner",
      "commentText" : "Same here. Was hoping it to be fixed with 26.0.1 as it's part of the update, see https://hachyderm.io/@rmondello/115289447031935389, but alas doesn't change much. \n\nMaybe we can set the plist entry as advised in that post?\n\nZed: v0.205.8 (Zed) \nOS: macOS 26.0.1\nMemory: 96 GiB\nArchitecture: aarch64"
    }, {
      "numberIssue" : 38425,
      "numberCommentInIssue" : 5,
      "authorComment" : "miguelraz",
      "commentText" : "@berkus Checking in - is this issue still happening to you?"
    }, {
      "numberIssue" : 38425,
      "numberCommentInIssue" : 6,
      "authorComment" : "berkus",
      "commentText" : "<strike>It was happening just recently on the Tahoe+Zed machine, but I switched to Zed Preview and it seems to be fixed there. \n\nZed: v0.218.3+preview.104.4adf4c6c1dc3cad2cb35273ee707812c6874ac3b (Zed Preview) \nOS: macOS 26.1\nMemory: 24 GiB\nArchitecture: aarch64\n\n^ this works fine</strike>"
    }, {
      "numberIssue" : 38425,
      "numberCommentInIssue" : 7,
      "authorComment" : "berkus",
      "commentText" : "Just had it happen in the Zed Preview too. Reliably happens after screen unlock. Especially if Zed Preview is the front window that you unlock into. Losing and re-gaining focus helps to fix it."
    } ]
  }, {
    "issueNumber" : 38427,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38427,
      "numberCommentInIssue" : 1,
      "authorComment" : "zxy198717",
      "commentText" : "@osiewicz remote ssh failed use this version https://github.com/zed-industries/zed/actions/runs/17969083593\r\n\r\n<img width=\"790\" height=\"384\" alt=\"image\" src=\"https://github.com/user-attachments/assets/87a56eb8-e4ec-48cc-a8cb-4021ec72b7fe\" />\r\n"
    }, {
      "numberIssue" : 38427,
      "numberCommentInIssue" : 2,
      "authorComment" : "osiewicz",
      "commentText" : "Uh-oh. Do you have any password on your ssh remote?"
    }, {
      "numberIssue" : 38427,
      "numberCommentInIssue" : 3,
      "authorComment" : "zxy198717",
      "commentText" : "use public key to login"
    }, {
      "numberIssue" : 38427,
      "numberCommentInIssue" : 4,
      "authorComment" : "zxy198717",
      "commentText" : "<img width=\"1166\" height=\"922\" alt=\"image\" src=\"https://github.com/user-attachments/assets/adc1a271-6c03-4bbc-92af-3f8e25ef6615\" />\r\n\r\nuse password not work also."
    } ]
  }, {
    "issueNumber" : 38429,
    "commentsCount" : 15,
    "comments" : [ {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 1,
      "authorComment" : "briancampo",
      "commentText" : "Same problem here.  Tried reinstalling Zed including removing persistent settings and does not resolve.  Still shows only Loading... in top of sidebar window. "
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 2,
      "authorComment" : "rtfeldman",
      "commentText" : "@briancampo Are you also using Windows? Also, was this Gemini CLI as well, or a different agent?"
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 3,
      "authorComment" : "Net-zen",
      "commentText" : "Same problem here. Windows 11, gemini-cli. Also tried to delete directory \"c:\\Users\\UserName\\AppData\\Local\\Zed\\external_agents\\gemini\\\" and restart Zed. Didn't help. Allways shows \"installing\". If I close Zen and start again, it always shows \"Loading\".\nZed Nightly 0.206.0 \n891a06c2940b7aa441aac047a98d0dce86fb39a0"
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 4,
      "authorComment" : "m-ar-c",
      "commentText" : "Edit : Just after I commented I observed that gemini-cli threads are working again, maybe removing `~/.local/share/zed/external_agents/gemini` did solve the issue.\n\nSame issue for me today, but on debian sid. Gemini-cli is \"loading\" forever. Working fine in my terminal. I don't remember I was updating it while exiting, but zed did crash today (I don't know if the issue occurred only right after that). I tried to remove `~/.local/share/zed/external_agents/gemini` and restart zed but the issue remains.\n\nZed: v0.204.5 (Zed) \nOS: Linux Wayland debian unknown\nMemory: 15.3 GiB\nArchitecture: x86_64\nGPU: Intel(R) Iris(R) Xe Graphics (ADL GT2) || Intel open-source Mesa driver || Mesa 25.2.3-1"
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 5,
      "authorComment" : "thelamplighter-0",
      "commentText" : "Same issues for me too, tried deleting \"c:\\Users\\UserName\\AppData\\Local\\Zed\\external_agents\\gemini\" directory and restarted Zed but it didn't work. Keeps showing \"installing\" and if I close Zed and restart again, it then shows \"Loading\".\n\nZed Nightly 0.207.0 \nd321cf93ba074542f10b99e95d055059eec076e2\nOS; Windows 11"
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 6,
      "authorComment" : "cole-miller",
      "commentText" : "For Windows this is tracked at #38754 --it's an upstream issue with Gemini CLI, which we've opened https://github.com/google-gemini/gemini-cli/pull/10339 to fix."
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 7,
      "authorComment" : "briancampo",
      "commentText" : "> [@briancampo](https://github.com/briancampo) Are you also using Windows? Also, was this Gemini CLI as well, or a different agent?\n\nYes that was on Windows. \n"
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 8,
      "authorComment" : "benbrandt",
      "commentText" : "Are any of you using the sandbox features of gemini cli? It seems the CLI has issues loading the auth if so. "
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 9,
      "authorComment" : "franciskafyi",
      "commentText" : "@maharshi365 Are you still having this issue? Gemini CLI shipped their upstream fix so Gemini CLI should work in Zed now!"
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 10,
      "authorComment" : "briancampo",
      "commentText" : "> [@maharshi365](https://github.com/maharshi365) Are you still having this issue? Gemini CLI shipped their upstream fix so Gemini CLI should work in Zed now!\n\nlatest update seems to be working. "
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 11,
      "authorComment" : "Exadra37",
      "commentText" : "I got stuck in Loading... for the Gemini CLI on the first time I open Zed after updating to 0.208.6 . "
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 12,
      "authorComment" : "franciskafyi",
      "commentText" : "@Exadra37 what version of the Gemini CLI do you have installed?"
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 13,
      "authorComment" : "Exadra37",
      "commentText" : "> [@Exadra37](https://github.com/Exadra37) what version of the Gemini CLI do you have installed?\n\nVersion `0.9.0`., but not sure if it was the same at the time, because I had to install it again."
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 14,
      "authorComment" : "franciskafyi",
      "commentText" : "Could you try installing the latest Gemini CLI: https://github.com/google-gemini/gemini-cli/blob/main/docs/releases.md#stable. There was an upstream issue that the Gemini CLI team has since fixed. "
    }, {
      "numberIssue" : 38429,
      "numberCommentInIssue" : 15,
      "authorComment" : "morgankrey",
      "commentText" : "Resolved with GeminiCLI fix"
    } ]
  }, {
    "issueNumber" : 38432,
    "commentsCount" : 7,
    "comments" : [ {
      "numberIssue" : 38432,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @Driftcell on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38432,
      "numberCommentInIssue" : 2,
      "authorComment" : "driftcell",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38432,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @Driftcell on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38432,
      "numberCommentInIssue" : 4,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38432,
      "numberCommentInIssue" : 5,
      "authorComment" : "driftcell",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38432,
      "numberCommentInIssue" : 6,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38432,
      "numberCommentInIssue" : 7,
      "authorComment" : "danilo-leal",
      "commentText" : "Hey @Driftcell, thanks for the PR! Closing it though as I've recently merged another one (https://github.com/zed-industries/zed/pull/38419) that changed the layout of this whole section to which point these buttons are not displayed like that anymore. Appreciate it, though!"
    } ]
  }, {
    "issueNumber" : 38433,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38433,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report! \n\nI think we actually have something like this, namely `git_hosting_providers`. Sadly, this was never documented since this was added some time ago.\n\nCan you try adding \n\n```json\n\"git_hosting_providers\": [\n  {\n   \"provider\": \"gitlab\",\n    \"name\": \"Tdd\",\n    \"base_url\": \"https://git.tdd.io\"\n  }\n],\n```\n\n(note I haven't tested this, but it should be either this or something similar) and report back whether that works for you?"
    }, {
      "numberIssue" : 38433,
      "numberCommentInIssue" : 2,
      "authorComment" : "brycefranzen",
      "commentText" : "This works perfectly!  Thanks for the quick response, and sorry for my slow response back \uD83D\uDE05 "
    }, {
      "numberIssue" : 38433,
      "numberCommentInIssue" : 3,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for getting back, glad to hear that worked! I'll reopen this so we have a place to track once we finally have documentation for this."
    } ]
  }, {
    "issueNumber" : 38434,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38434,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @buttercrab on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38434,
      "numberCommentInIssue" : 2,
      "authorComment" : "buttercrab",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38434,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    } ]
  }, {
    "issueNumber" : 38436,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38436,
      "numberCommentInIssue" : 1,
      "authorComment" : "osiewicz",
      "commentText" : "Ok, we're now just waiting for new version of Rust to become available on Nix.\r\n\r\nTbh I was kinda considering staying on 1.89 anyways, as 1.90 is a pretty uninteresting release otherwise."
    }, {
      "numberIssue" : 38436,
      "numberCommentInIssue" : 2,
      "authorComment" : "nia-e",
      "commentText" : "1.90 enables lld by default on x86 Linux which should be a pretty big increase in speed when testing our Linux builds"
    }, {
      "numberIssue" : 38436,
      "numberCommentInIssue" : 3,
      "authorComment" : "osiewicz",
      "commentText" : "I think we're already using mold on linux"
    } ]
  }, {
    "issueNumber" : 38439,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38439,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @Simek on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38439,
      "numberCommentInIssue" : 2,
      "authorComment" : "Simek",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38439,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    } ]
  }, {
    "issueNumber" : 38442,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38442,
      "numberCommentInIssue" : 1,
      "authorComment" : "notpeter",
      "commentText" : "I'm going to merge this into:\n- https://github.com/zed-industries/zed/issues/16156\n\nThanks for reporting."
    } ]
  }, {
    "issueNumber" : 38443,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38443,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for this! Given that this has been stale for quite some time, I'll close this out, but feel free to reopen once you pick this up again."
    } ]
  }, {
    "issueNumber" : 38445,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38445,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 15b878671027e8e96b1e1137ecbd8219f96577ff\n</p>\n"
    }, {
      "numberIssue" : 38445,
      "numberCommentInIssue" : 2,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 15b878671027e8e96b1e1137ecbd8219f96577ff\n</p>\n"
    } ]
  }, {
    "issueNumber" : 38446,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38446,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @Clouder0 on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38446,
      "numberCommentInIssue" : 2,
      "authorComment" : "Clouder0",
      "commentText" : "Sorry, duplicate of #38434 !  Closed now."
    } ]
  }, {
    "issueNumber" : 38450,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38450,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 604d45635c64581e08a70a2f51c479795334153a\n</p>\n"
    }, {
      "numberIssue" : 38450,
      "numberCommentInIssue" : 2,
      "authorComment" : "mikayla-maki",
      "commentText" : "Thanks for this PR, we know the non-instant search is a big issue we're going to work on.\r\n\r\nHowever, we're going to be solving this with a different approach, and so can't accept this PR :)"
    }, {
      "numberIssue" : 38450,
      "numberCommentInIssue" : 3,
      "authorComment" : "iyht",
      "commentText" : "> Thanks for this PR, we know the non-instant search is a big issue we're going to work on.\n> \n> \n> \n> However, we're going to be solving this with a different approach, and so can't accept this PR :)\n\nThanks for the review and sharing the progress. Looking forward to it!"
    } ]
  }, {
    "issueNumber" : 38453,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38453,
      "numberCommentInIssue" : 1,
      "authorComment" : "SamYouatt",
      "commentText" : "I guess maybe when submitting text to the LSP it would need to go through something similar to `fs.rs > chunks(rope: &Rope, line_ending: LineEnding)`, using the line ending from the buffer?\n\nI have no idea the performance implications or if it's intentional to not apply this de-normalisation of line endings."
    }, {
      "numberIssue" : 38453,
      "numberCommentInIssue" : 2,
      "authorComment" : "klanchman",
      "commentText" : "I am experiencing this on Windows and macOS. With eslint-plugin-prettier, every line of every file gets a squiggle, which is quite distracting \uD83D\uDE05 \n\n<img height=\"400\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1bf67614-b885-430f-8e1c-cd796b20a53c\" />\n\n***\n \nIt looks like the PR that closed this issue was reverted: https://github.com/zed-industries/zed/commit/1b6cde7032fea1ff38f885419ab4e79c4f8c3231\n\nCan this be reopened, or does it need a new issue created?"
    } ]
  }, {
    "issueNumber" : 38454,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38454,
      "numberCommentInIssue" : 1,
      "authorComment" : "adorabilis",
      "commentText" : "Here's another comparison between `204.1` and `203.5`. The font rendering in `204.1` with font smoothing off on macOS is out of place with the way fonts are rendered everywhere else. `203.5` is the correct behaviour.\n\n<img width=\"640\" src=\"https://github.com/user-attachments/assets/a52e4287-d7b9-4164-aca9-0940805c351a\" />"
    }, {
      "numberIssue" : 38454,
      "numberCommentInIssue" : 2,
      "authorComment" : "waynerv",
      "commentText" : "Are there any workarounds? This is an unbearable issue."
    }, {
      "numberIssue" : 38454,
      "numberCommentInIssue" : 3,
      "authorComment" : "reflectronic",
      "commentText" : "This issue has been fixed in https://github.com/zed-industries/zed/pull/38467"
    } ]
  }, {
    "issueNumber" : 38455,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38455,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report! I believe this to be a duplicate report of [#38343](https://github.com/zed-industries/zed/pull/38343), hence I'll optimistically close it as such. Will be fixed with tne next release. Thanks for the report!"
    } ]
  }, {
    "issueNumber" : 38456,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38456,
      "numberCommentInIssue" : 1,
      "authorComment" : "taranlu-houzz",
      "commentText" : "I switched to a different project, and it does seem that the `tombli` extension is working, because it highlighted parts of a different `pyproject.toml` that it has issues with. Formatting still does not work, however...\n\nI did also see this in the log, but I am not sure if it is related:\n```\n2025-09-18T14:36:12-07:00 INFO  [project::lsp_store] language server 9: unregistered workspace/DidChangeWatchedFiles capability with id 83b1846a-6f03-49fe-9364-c86751b9dedc\n```"
    }, {
      "numberIssue" : 38456,
      "numberCommentInIssue" : 2,
      "authorComment" : "lemorage",
      "commentText" : "Did you notice when this started to be broken, vaguely from which version?"
    }, {
      "numberIssue" : 38456,
      "numberCommentInIssue" : 3,
      "authorComment" : "taranlu-houzz",
      "commentText" : "Unfortunately, I'm not sure... I think it may have been working at some point in the last two weeks, and I do tend to update Zed as soon as I see that an update is available."
    }, {
      "numberIssue" : 38456,
      "numberCommentInIssue" : 4,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "I think the main event is described in https://github.com/zed-industries/zed/issues/36766#issuecomment-3255137817\n\nUnfortunately, toml language servers caused more issues for Zed than the usefulness they've provided, so those were removed from Zed code in favor of a minimalistic extension without language server capabilities.\nhttps://github.com/zed-industries/zed/pull/37561  had updated the documentation accordingly.\n\nNow, this, Zed core, repo does not have any toml-related code hence this issue is not actionable.\nSeems that there could be other extensions existing/created, that support toml and provide language servers."
    }, {
      "numberIssue" : 38456,
      "numberCommentInIssue" : 5,
      "authorComment" : "manuel-plavsic",
      "commentText" : "For those that are having trouble getting `tombi` to format files, [this comment](https://github.com/tombi-toml/tombi/issues/1232#issuecomment-3527283131) suggests adding the code below to your configuration:\n\n```\n\"languages\": {\n    \"TOML\": {\n      \"formatter\": { \"language_server\": { \"name\": \"tombi\" } }\n    }\n  }\n```\n\nIt worked for me."
    } ]
  }, {
    "issueNumber" : 38457,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38457,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report! I think this is a duplicate of https://github.com/zed-industries/zed/issues/8107, hence I'll close it as such. We are currently looking into stuff related to this, so there might be progress here soon.\n\nStill, thank you very much for taking the time to write up a proper report! Much appreciated."
    } ]
  }, {
    "issueNumber" : 38458,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38458,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @derekntnguyen on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38458,
      "numberCommentInIssue" : 2,
      "authorComment" : "derekntnguyen",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38458,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38458,
      "numberCommentInIssue" : 4,
      "authorComment" : "cole-miller",
      "commentText" : "Thanks!"
    } ]
  }, {
    "issueNumber" : 38460,
    "commentsCount" : 30,
    "comments" : [ {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 1,
      "authorComment" : "saschanaz",
      "commentText" : "Upgrading to wasmtime 36 requires various changes in `crates/extension_host/src/wasm_host` to fix build errors \uD83D\uDC40 (updating tree-sitter alone didn't fix the issue.)"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 2,
      "authorComment" : "saschanaz",
      "commentText" : "Any reason it's specifically 36 rather than older versions? Could try gradual upgrade "
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 3,
      "authorComment" : "kubkon",
      "commentText" : "Could it be that this is `aarch64-windows` specific? I have the repo loaded in local build on `x86_64-windows` and cannot get it to crash."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 4,
      "authorComment" : "localcc",
      "commentText" : "+1 doesn't seem to repro for me on x86_64"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 5,
      "authorComment" : "saschanaz",
      "commentText" : "There were other comments about aarch64 from another user here which are all removed now, I'm confused now \uD83E\uDD14\n\nBut yes I'd not be surprised if it was aarch64 specific. "
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 6,
      "authorComment" : "kubkon",
      "commentText" : "I just built it from source on my `aarch64-windows` and no crashes there either.\n\nEDIT: FWIW I built it in release. I'll try debug build next."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 7,
      "authorComment" : "saschanaz",
      "commentText" : "(One of the removed comments pointed out that it could be limited to a large repository) "
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 8,
      "authorComment" : "kubkon",
      "commentText" : "> (One of the removed comments pointed out that it could be limited to a large repository)\n\nSo I've tested it on x86_64-windows and aarch64-windows debug and release on the firefox repo and no crashes thus far."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 9,
      "authorComment" : "saschanaz",
      "commentText" : "Hmm, maybe I should just pull and rebuild \uD83D\uDC40"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 10,
      "authorComment" : "kubkon",
      "commentText" : "> Hmm, maybe I should just pull and rebuild \uD83D\uDC40\n\nThat would be greatly appreciated!"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 11,
      "authorComment" : "saschanaz",
      "commentText" : "As of 6a24ad7d it still crashes \uD83E\uDD14"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 12,
      "authorComment" : "saschanaz",
      "commentText" : "Perhaps the repro requires actual build obj directories? (i.e. the result of `./mach build`?)"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 13,
      "authorComment" : "saschanaz",
      "commentText" : "But removing all build results still makes it crash \uD83E\uDD14"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 14,
      "authorComment" : "kubkon",
      "commentText" : "I cannot remember if I checked, but are you opening the project in WSL perhaps?"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 15,
      "authorComment" : "saschanaz",
      "commentText" : "No, it's Windows native."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 16,
      "authorComment" : "kubkon",
      "commentText" : "Oh wait, maybe I am missing an extension?"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 17,
      "authorComment" : "saschanaz",
      "commentText" : "I haven't done anything on Zed on this machine yet, so no."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 18,
      "authorComment" : "saschanaz",
      "commentText" : "Could it be that my local build has somehow gone wrong? I now find that it's not just local firefox clone but triggering any kind of language server causes crash.\n\n1. Create or open an empty file\n2. Select a language from the bottom right manually\n3. It crashes\n\nFWIW, this is the debug build log until it crashes:\n\n```\n2025-09-23T23:04:16+02:00 INFO  [zed] ========== starting zed version 0.206.0, sha unknown ==========\n2025-09-23T23:04:16+02:00 ERROR [gpui] Error { code: HRESULT(0x887A002D), message: \"The application requested an operation that depends on an SDK component that is missing or mismatched.\" }\n2025-09-23T23:04:16+02:00 WARN  [gpui::platform::windows::directx_devices] Failed to get DXGI debug interface. DirectX debugging features will be disabled.\n2025-09-23T23:04:16+02:00 INFO  [gpui::platform::windows::directx_devices] Using GPU: Qualcomm(R) Adreno(TM) X1-85 GPU\n2025-09-23T23:04:16+02:00 INFO  [gpui::platform::windows::directx_devices] Created device with Direct3D 11.1 feature level.\n2025-09-23T23:04:16+02:00 INFO  [gpui::platform::windows::direct_write] Use Segoe UI as UI font.\n2025-09-23T23:04:16+02:00 INFO  [zed] Using git binary path: None\n2025-09-23T23:04:16+02:00 WARN  [zed::reliability] Minidump endpoint not set\n2025-09-23T23:04:17+02:00 INFO  [extension_host] extensions updated. loading 1, reloading 0, unloading 0\n2025-09-23T23:04:17+02:00 ERROR [zed] canonicalizing \"crates/languages/src\"\n\nCaused by:\n    The system cannot find the path specified. (os error 3)\n2025-09-23T23:04:17+02:00 INFO  [gpui::platform::windows::vsync] DirectComposition is supported for VSync, interval: 8.333ms\n2025-09-23T23:04:17+02:00 ERROR [worktree] failed to open local worktree root\n\nCaused by:\n    Access is denied. (os error 5)\n2025-09-23T23:04:17+02:00 WARN  [fs] Failed to watch: Input watch path is neither a file nor a directory.\n2025-09-23T23:04:17+02:00 INFO  [zed::zed] Using GPU: GpuSpecs { is_software_emulated: false, device_name: \"Qualcomm(R) Adreno(TM) X1-85 GPU\", driver_name: \"Unknown Vendor (ID: 0x4D4F4351)\", driver_info: \"31.0.112.0\" }\n2025-09-23T23:04:18+02:00 ERROR [project::git_store] failed to get working directory environment for repository \"D:\\\\test\\\\intmax-divbyminus1\"\n2025-09-23T23:04:18+02:00 ERROR [project::git_store] failed to get working directory environment for repository \"D:\\\\test\\\\glean-sdk-bisect\"\n\n```"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 19,
      "authorComment" : "saschanaz",
      "commentText" : "> extensions updated. loading 1\n\nSo I installed something?\n\nEdit: Yeah, there's HTML v0.2.2. I don't remember this one... \uD83D\uDC40 but uninstalling it doesn't solve the issue."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 20,
      "authorComment" : "maxbrunsfeld",
      "commentText" : "Can you reproduce this on our nightly build? Do you have access to an x86 machine?"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 21,
      "authorComment" : "saschanaz",
      "commentText" : "Running x86-64 nightly build seems fine. It's either arm64 build that is busted or my local build. I wonder an arm64 CI job can be set up to see what's going on?\n\nFWIW, today's main branch fails to build gemm-common 0.18.2: (`jj file annotate Cargo.lock` says it's added by #38217)\n\n```\nerror: instruction requires: fullfp16\n    --> C:\\Users\\sasch\\.cargo\\registry\\src\\index.crates.io-1949cf8c6b5b557f\\gemm-common-0.18.2\\src\\simd.rs:1952:18\n     |\n1952 |                 \"fmul {0:v}.8h, {1:v}.8h, {2:v}.8h\",\n     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n     |\nnote: instantiated into assembly here\n    --> <inline asm>:1:2\n     |\n   1 |     fmul v0.8h, v1.8h, v2.8h\n     |     ^\n\nerror: could not compile `gemm-f16` (lib) due to 11 previous errors\n```\n\nHmm.\n\nEdit: filed #39346. With the workaround applied, it still crashes as of fb343a77."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 22,
      "authorComment" : "reflectronic",
      "commentText" : "I can't reproduce crashes with an Arm64 build of main:\n```powershell\n$env:RUSTFLAGS=\"-Ctarget-feature=+fp16,+fhm,+crt-static -Clink-args=/OPT:NOLBR\"\ncargo build --target=aarch64-pc-windows-msvc --release\n```\nI've tried launching various language servers and they don't seem to crash.\n"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 23,
      "authorComment" : "saschanaz",
      "commentText" : "Hah. I was using rust-lld for the linker. Looking at your -Clink-args I thought maybe that's doing something wrong, and bingo. The default lld-link makes it work.\n\n```\nZed: v0.208.0 (Zed Dev) \nOS: Windows 10.0.26200\nMemory: 31.6 GiB\nArchitecture: aarch64\nGPU: Qualcomm(R) Adreno(TM) X1-85 GPU || Unknown Vendor (ID: 0x4D4F4351) || 31.0.112.0\n```\n\nNice.\n\n<img width=\"2320\" height=\"1435\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8ac00037-ef9b-4e55-984e-9c22678aad90\" />"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 24,
      "authorComment" : "saschanaz",
      "commentText" : "Closing as this is not Zed issue."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 25,
      "authorComment" : "workingjubilee",
      "commentText" : "No, this is in fact a Zed issue if it is expecting unconditional success of a toolchain invocation in order to provide language server functionality. Please reopen this so the diagnosis of the problem, instead of the solution, can be finished."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 26,
      "authorComment" : "saschanaz",
      "commentText" : "I sorta agree, but with the default linker it doesn't happen, so I think it's not straightforward to say it's not the linker issue?"
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 27,
      "authorComment" : "workingjubilee",
      "commentText" : "If Zed does not expect people to configure a non-default linker that doesn't work which causes their rustc invocations, via `cargo` or otherwise, to fail, that too seems like a Zed problem. Mind, it's not entirely clear to me that Zed even expects such and that such is the problem, because a solution was found (\"avoid doing thing\") instead of the problem (which would answer \"but why does 'avoid doing thing' work?\").\n\nTools should, speaking very broadly, assume that users will do the equivalent of taking a machinegun to anything resembling a correct workflow once they are given the opportunity. They can then either fail in a way that bubbles up as much error context as is relevant, so that people can report an issue and it can be fixed, or provide clearly-marked warnings and deliberately not support that usage. I don't use Zed, so I can't recognize Zed's error patterns on-sight, but I do know the conclusion of this issue should not have ended in opening a rust-lang/rust issue without a rustc or cargo command to run and repro the problem (and what, exactly, is the problem internally that ends in unhandled exceptions, and in what?)."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 28,
      "authorComment" : "saschanaz",
      "commentText" : "> If Zed does not expect people to configure a non-default linker that doesn't work which causes their rustc invocations, via `cargo` or otherwise, to fail, that too seems like a Zed problem. Mind, it's not entirely clear to me that Zed even expects such and that such is the problem, because a solution was found (\"avoid doing thing\") instead of the problem (which would answer \"but why does 'avoid doing thing' work?\").\n\nThat makes it Zed *and* linker problem, not the Zed-only problem, right? It's indeed sad that Zed crashes outright, but even if it doesn't crash, the core feature of Zed will remain broken with rust-lld."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 29,
      "authorComment" : "workingjubilee",
      "commentText" : "If you can figure out what the problem is such that setting a linker induces the crash, so that we now know what behavior the toolchain should consider changing, then report away. We'll be happy to look at it and figure out what can be done to improve on things. Even if we ultimately have to e.g. report something to LLVM, we can usually do that ourselves. But just \"Zed crashed\" doesn't tell us enough to even go looking without booting up Zed, and we're responsible for fixing the toolchain, not Zed."
    }, {
      "numberIssue" : 38460,
      "numberCommentInIssue" : 30,
      "authorComment" : "saschanaz",
      "commentText" : "That's just trying to waive the responsibility away. Why? Having an issue doesn't force anyone in Rust team to do anything, it just tracks that there's an issue, even though no one knows how to proceed further."
    } ]
  }, {
    "issueNumber" : 38462,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38462,
      "numberCommentInIssue" : 1,
      "authorComment" : "ivan-aksamentov",
      "commentText" : "Could be related: https://github.com/zed-industries/zed/pull/38186, https://github.com/zed-industries/zed/issues/35603"
    }, {
      "numberIssue" : 38462,
      "numberCommentInIssue" : 2,
      "authorComment" : "hakanensari",
      "commentText" : "This is a big one and just landed in stable with the latest build. It breaks basic piped commands the agent relies on.\n\nIt's not model-specific.\n\n<img width=\"1175\" height=\"962\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4084f580-040b-4b1e-aeca-f8d85c007032\" />\n\nZed: v0.205.6 (Zed) \nOS: macOS 26.0\nMemory: 16 GiB\nArchitecture: aarch64"
    }, {
      "numberIssue" : 38462,
      "numberCommentInIssue" : 3,
      "authorComment" : "Veykril",
      "commentText" : "This indeed regressed in https://github.com/zed-industries/zed/commit/92b946e8e5d340fc44e4ac4ac82fadd71868fab7"
    } ]
  }, {
    "issueNumber" : 38465,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38465,
      "numberCommentInIssue" : 1,
      "authorComment" : "miguelraz",
      "commentText" : "@aka1prime-svg checking in - is this issue still biting you on stable Zed?"
    } ]
  }, {
    "issueNumber" : 38467,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38467,
      "numberCommentInIssue" : 1,
      "authorComment" : "dvanoni",
      "commentText" : "@P1n3appl3, thanks so much for fixing this so quickly! ❤️ "
    } ]
  }, {
    "issueNumber" : 38470,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38470,
      "numberCommentInIssue" : 1,
      "authorComment" : "achieve-dream1221",
      "commentText" : "when i switch to bash: `chsh -s /usr/bin/bash`, and reboot wsl, got this error\nhttps://github.com/zed-industries/zed/issues/38491"
    } ]
  }, {
    "issueNumber" : 38472,
    "commentsCount" : 8,
    "comments" : [ {
      "numberIssue" : 38472,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @ewgenius on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38472,
      "numberCommentInIssue" : 2,
      "authorComment" : "ewgenius",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38472,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38472,
      "numberCommentInIssue" : 4,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for catching this and opening this PR for the fix!\r\n\r\nLooks good, do you think that, although rare, we should also truncate the string for these cases? We could add a `.truncate()` there as well. Curious if that would be better or whether we should just leave it as is."
    }, {
      "numberIssue" : 38472,
      "numberCommentInIssue" : 5,
      "authorComment" : "ewgenius",
      "commentText" : "@MrSubidubi thanks for pointing out!\r\n\r\n`.truncate()` is called on the label, but it doesn't seem to be applied or may not be visible. Even when I wrap the label with a div that has a max width set:\r\n\r\n<img width=\"1480\" height=\"866\" alt=\"CleanShot 2025-09-20 at 07 37 23@2x\" src=\"https://github.com/user-attachments/assets/f021b47c-e62b-4a6a-af58-ef32a5e63a46\" />\r\n\r\nI'll spend more time on this to figure it out.\r\n"
    }, {
      "numberIssue" : 38472,
      "numberCommentInIssue" : 6,
      "authorComment" : "ewgenius",
      "commentText" : "Figured it out: `single_line` styles conflict with `truncate`, looks like it can't be used together\r\n\r\nhttps://github.com/zed-industries/zed/blob/be77682a3fd3ace184a9059cc7b212e3ea4891d3/crates/ui/src/components/label/label_like.rs#L236-L239\r\n\r\nAfter removing `single_line` truncation correctly applied, though that brings original issue back. Need to digg deeper."
    }, {
      "numberIssue" : 38472,
      "numberCommentInIssue" : 7,
      "authorComment" : "ewgenius",
      "commentText" : "One more detail - bug with text wrap happens only when commit time label is large enough\r\n\r\n<img width=\"1252\" height=\"388\" alt=\"CleanShot 2025-09-20 at 13 48 40@2x\" src=\"https://github.com/user-attachments/assets/fc3b79b5-ad3d-4225-b8ce-5871276983c6\" />\r\n\r\n<img width=\"1368\" height=\"436\" alt=\"CleanShot 2025-09-20 at 13 50 28@2x\" src=\"https://github.com/user-attachments/assets/87afc14e-bf69-4b8e-b61a-18d719172c94\" />\r\n\r\n"
    }, {
      "numberIssue" : 38472,
      "numberCommentInIssue" : 8,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "I will close it for now, as it's a draft for over a month."
    } ]
  }, {
    "issueNumber" : 38475,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38475,
      "numberCommentInIssue" : 1,
      "authorComment" : "teknalb",
      "commentText" : "For me `step over` is the most confusing one, icon doesn't reflect the action."
    } ]
  }, {
    "issueNumber" : 38480,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38480,
      "numberCommentInIssue" : 1,
      "authorComment" : "pankajpatel",
      "commentText" : "It played around a bit more and issue is more related to the Project Navigator having focus.\n\nWhen project navigator has the focus, the minimizing shortcut has no effect whether there is a file open or not."
    }, {
      "numberIssue" : 38480,
      "numberCommentInIssue" : 2,
      "authorComment" : "mchisolm0",
      "commentText" : "Hey @pankajpatel thank you for the report! I was trying to repro it, but I am concerned I am clicking in the wrong spot. What do you mean \"Project Navigator\"? I thought you meant either the title bar or what you press to switch projects in the top right.\n\nHaving given both of those focus, I was still able to minimize Zed with `cmd + m`. Looking forward to your answer so I can help repro this. \uD83D\uDE01 "
    } ]
  }, {
    "issueNumber" : 38483,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38483,
      "numberCommentInIssue" : 1,
      "authorComment" : "mchisolm0",
      "commentText" : "Hey @morlinbrot thank you for the report! I believe the expectation is only one of the two should be active at a time. There is an issue where that was discussed https://github.com/zed-industries/zed/issues/42662."
    } ]
  }, {
    "issueNumber" : 38485,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38485,
      "numberCommentInIssue" : 1,
      "authorComment" : "jacobtread",
      "commentText" : "^ The change #38367 is causing a crash for me aswell, when developing the editor while having a different icon theme selected, I have to reset my icon theme before starting otherwise it crashes on startup and this change fixes that\r\n"
    } ]
  }, {
    "issueNumber" : 38487,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38487,
      "numberCommentInIssue" : 1,
      "authorComment" : "notpeter",
      "commentText" : "Thanks"
    } ]
  }, {
    "issueNumber" : 38489,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38489,
      "numberCommentInIssue" : 1,
      "authorComment" : "danilo-leal",
      "commentText" : "Hey, thanks for the PR! I'm a bit confused, though, my multibuffer header doesn't look like your before picture... I can't repro this. Will close it for now, but feel free to ping me with a follow up so we can reconsider."
    }, {
      "numberIssue" : 38489,
      "numberCommentInIssue" : 2,
      "authorComment" : "Simek",
      "commentText" : "@danilo-leal Hmm, I can still reproduce this using local build from `main`, also tried multiple themes to make sure this does not affect the appearance.\r\n\r\nI'm currently developing on macOS, might be able to try that later on Windows. Do you have any idea what might be a reason why the button looks differently for me? Is there any related setting?\r\n\r\n<img width=\"1660\" height=\"654\" alt=\"Screenshot 2025-10-18 at 18 58 37\" src=\"https://github.com/user-attachments/assets/e98e2458-6ad8-4f13-a1ab-17e43daabd8c\" />\r\n\r\n<img width=\"1660\" height=\"654\" alt=\"Screenshot 2025-10-18 at 19 00 21\" src=\"https://github.com/user-attachments/assets/d6dc0fd9-b5c4-406c-9d7c-b0287ab12a5e\" />\r\n\r\n<img width=\"1660\" height=\"654\" alt=\"Screenshot 2025-10-18 at 19 01 14\" src=\"https://github.com/user-attachments/assets/8a237d82-817f-446d-8d1e-48e72ba4b473\" />"
    }, {
      "numberIssue" : 38489,
      "numberCommentInIssue" : 3,
      "authorComment" : "danilo-leal",
      "commentText" : "Are you maybe using a custom UI/buffer font size? I couldn't repro this with default settings."
    }, {
      "numberIssue" : 38489,
      "numberCommentInIssue" : 4,
      "authorComment" : "Simek",
      "commentText" : "Yup, it looks like smaller UI font size causes button background overflow. Commented out the custom settings and now the button fits in the bounding element box, but spacing is still uneven. \r\n\r\n<img width=\"652\" height=\"288\" alt=\"Screenshot 2025-10-18 at 19 35 08\" src=\"https://github.com/user-attachments/assets/da445ff1-e9ce-4162-8fe8-0110bacd5560\" />\r\n\r\nShould I try to refactor the button from static size to height based on the container with some horizontal margin, that way the users settings should not affect the appearance, what do you think?\r\n"
    } ]
  }, {
    "issueNumber" : 38490,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38490,
      "numberCommentInIssue" : 1,
      "authorComment" : "achieve-dream1221",
      "commentText" : "same error\n```shell\n❯ zed . --foreground\n2025-09-19T16:51:20+08:00 INFO  [zed] ========== starting zed version 0.206.0, sha e62dd2a ==========\n2025-09-19T16:51:20+08:00 INFO  [gpui::platform::windows::directx_devices] Using GPU: Intel(R) Arc(TM) Graphics\n2025-09-19T16:51:20+08:00 INFO  [gpui::platform::windows::directx_devices] Created device with Direct3D 11.1 feature level.\n2025-09-19T16:51:20+08:00 INFO  [gpui::platform::windows::direct_write] Use Microsoft YaHei UI as UI font.\n2025-09-19T16:51:20+08:00 INFO  [zed] Using git binary path: None\n2025-09-19T16:51:20+08:00 INFO  [crashes] spawning crash handler process\n2025-09-19T16:51:20+08:00 INFO  [crashes] connected to crash handler process after 100ms\n2025-09-19T16:51:20+08:00 INFO  [crashes] crash handler registered\n2025-09-19T16:51:21+08:00 ERROR [crashes] triggering a crash to generate a minidump...\n```"
    }, {
      "numberIssue" : 38490,
      "numberCommentInIssue" : 2,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report! This should be fixed with the next Nightly that's about to be released, I'll keep this open for the time being to track that this is fully resolved.\n\nYou should be able to solve the crash by removing the `icon_theme` from your settings for the time being."
    }, {
      "numberIssue" : 38490,
      "numberCommentInIssue" : 3,
      "authorComment" : "MrSubidubi",
      "commentText" : "Okay, for everyone still running into this - please either reinstall Zed or comment out the `icon_theme` from your settings. After that, the issue will be resolved for you with the next release (you need to update). Thanks!"
    } ]
  }, {
    "issueNumber" : 38491,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38491,
      "numberCommentInIssue" : 1,
      "authorComment" : "alex-berger",
      "commentText" : "Same here with Zed on macOS with remote development in Linux. "
    }, {
      "numberIssue" : 38491,
      "numberCommentInIssue" : 2,
      "authorComment" : "colemcanelly",
      "commentText" : "Have noticed as well using Zed Windows Beta. Reproduction steps are identical\n\n**System specs:**\n```\nZed: v0.206.0 (Zed Nightly eaa1cb0ca32d978f2424c417fb10f4e622fb40cb) \nOS: Windows 10.0.26100\nMemory: 31.5 GiB\nArchitecture: x86_64\nGPU: Intel(R) Arc(TM) Graphics || Intel Corporation || 32.0.101.6881\n```"
    }, {
      "numberIssue" : 38491,
      "numberCommentInIssue" : 3,
      "authorComment" : "existentialmutt",
      "commentText" : "+1 with Zed Windows Beta.\n\nZed: v0.206.0 (Zed Nightly 891a06c2940b7aa441aac047a98d0dce86fb39a0) \nOS: Windows 10.0.26100\nMemory: 31.5 GiB\nArchitecture: x86_64\nGPU: Intel(R) Arc(TM) Graphics || Intel Corporation || 32.0.101.5978"
    }, {
      "numberIssue" : 38491,
      "numberCommentInIssue" : 4,
      "authorComment" : "franciskafyi",
      "commentText" : "This should be fixed on the next Nightly. Thank you for reporting this!"
    } ]
  }, {
    "issueNumber" : 38494,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38494,
      "numberCommentInIssue" : 1,
      "authorComment" : "ZerGo0",
      "commentText" : "Json data generator script in case you want a quick way to test even bigger files (adjust the size arg to get bigger files):  \n[generate_notifications_markdown.py](https://github.com/user-attachments/files/22424875/generate_notifications_markdown.py) (AI generated, tested and use for the example data)\n\n```\npython3 generate_notifications_markdown.py --size 300 --seed 123 --out test.md\n```\n"
    }, {
      "numberIssue" : 38494,
      "numberCommentInIssue" : 2,
      "authorComment" : "mchisolm0",
      "commentText" : "Hey @ZerGo0 was hoping to follow-up. Are you still experiencing this issue? I tried on my Mac without any issues.\n\nZed: v0.219.0+nightly.2040.07ada5846663a67945238141c7c0010ee98385c3 (Zed Nightly 07ada5846663a67945238141c7c0010ee98385c3) \nOS: macOS 26.1\nMemory: 16 GiB\nArchitecture: aarch64"
    }, {
      "numberIssue" : 38494,
      "numberCommentInIssue" : 3,
      "authorComment" : "ZerGo0",
      "commentText" : "> Hey [@ZerGo0](https://github.com/ZerGo0) was hoping to follow-up. Are you still experiencing this issue? I tried on my Mac without any issues.\n> \n> Zed: v0.219.0+nightly.2040.07ada5846663a67945238141c7c0010ee98385c3 (Zed Nightly [07ada58](https://github.com/zed-industries/zed/commit/07ada5846663a67945238141c7c0010ee98385c3)) OS: macOS 26.1 Memory: 16 GiB Architecture: aarch64\n\n@mchisolm0 I had to build the latest version from source myself, but seems to fixed, thank you."
    } ]
  }, {
    "issueNumber" : 38497,
    "commentsCount" : 11,
    "comments" : [ {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 1,
      "authorComment" : "Milli189",
      "commentText" : "I've discovered that this issue isn't happening on my Thinkpad on Fedora 42 KDE Wayland which has an Intel iGPU."
    }, {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 2,
      "authorComment" : "Milli189",
      "commentText" : "I've also made a bug report on the Nvidia developers Linux forum to figure out if this is a Zed bug or a Nvidia driver bug:\nhttps://forums.developer.nvidia.com/t/zed-ui-becomes-frozen-unresponsive-when-fullscreen/345508"
    }, {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 3,
      "authorComment" : "LudoLoops",
      "commentText" : "I have the same issue, with CachyOs on Wayland, \n- Linux 6.17.4-4-cachyos.\n- NVIDIA GeForce RTX 4050\n- kde plasma: 6.5.0\n- zed 0.209.6-1.1"
    }, {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 4,
      "authorComment" : "LudoLoops",
      "commentText" : "I notice my bug is related to Khronite, when I place Zed on non-floating desktop it works fine. "
    }, {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 5,
      "authorComment" : "vikigenius",
      "commentText" : "Yep I also have nvidia drivers and I have the same issue. I use Niri as my wayland compositor and it works when I don't use fullscreen but freezes exactly like shown in the video if I use fullscreen"
    }, {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 6,
      "authorComment" : "vikigenius",
      "commentText" : "Probably same as https://github.com/zed-industries/zed/issues/39097"
    }, {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 7,
      "authorComment" : "mchisolm0",
      "commentText" : "Hey @Milli189 just wanted to follow-up. Are you still experiencing this issue? "
    }, {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 8,
      "authorComment" : "nuniesmith",
      "commentText" : "I just installed a fresh install of ubuntu 25.10 and i have this issue. Another laptop with manjaro I don't seem to have the issue."
    }, {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 9,
      "authorComment" : "Mustlane",
      "commentText" : "Can confirm, the bug still exists.\n\nOS: NixOS 26.05 (Yarara) x86_64\nGPU: NVIDIA GeForce GTX 1050 Ti [Discrete]\nWM: Sway 1.11 (Wayland)"
    }, {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 10,
      "authorComment" : "kematzy",
      "commentText" : "Confirmation of problem caused by Zed Editor in fullscreen mode (F11).\n\n#### Hardware & Drivers\n\nOS: Fedora Linux 42 (Workstation Edition) (Gnome 48)\nGPU: NVIDIA GeForce GTX 1060 6GB  \nNVIDIA DRIVER VERSION: 580.119.02 (CUDA Version: 13.0)\nWINDOW SYSTEM: Wayland\nKERNEL: Linux 6.17.13-200.fc42.x86_64\n\n\nExtracts from `~/.local/share/zed/logs/Zed.log`:\n\n#### Starting Zed\n\n```bash\n2026-01-03T09:33:31+08:00 INFO  [zed] ========== starting zed version 0.217.3+stable.105.80433cb239e868271457ac376673a5f75bc4adb1, sha 80433cb ==========\n2026-01-03T09:33:31+08:00 INFO  [crashes] spawning crash handler process\n2026-01-03T09:33:31+08:00 INFO  [extension_host] extensions updated. loading 36, reloading 0, unloading 0\n2026-01-03T09:33:31+08:00 INFO  [gpui::platform::linux::platform] activate is not implemented on Linux, ignoring the call\n2026-01-03T09:33:31+08:00 INFO  [auto_update] Auto Update: checking for updates\n2026-01-03T09:33:31+08:00 INFO  [crashes] connected to crash handler process after 100ms\n2026-01-03T09:33:31+08:00 INFO  [crashes] crash handler registered\n2026-01-03T09:33:31+08:00 INFO  [gpui::platform::blade::blade_renderer] Initializing Blade pipelines for surface SurfaceInfo { format: Bgra8Unorm, alpha: PreMultiplied }\n2026-01-03T09:33:31+08:00 INFO  [workspace] Rendered first frame\n2026-01-03T09:33:31+08:00 INFO  [zed::zed] Using GPU: GpuSpecs { is_software_emulated: false, device_name: \"NVIDIA GeForce GTX 1060 6GB\", driver_name: \"NVIDIA\", driver_info: \"580.119.02\" }\n2026-01-03T09:33:31+08:00 INFO  [client] set status on client 0: Authenticating\n2026-01-03T09:33:33+08:00 INFO  [util] set environment variables from shell:/usr/bin/zsh, path:~/.opencode/bin:~/.rbenv/shims:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:~/.atuin/bin:~/.local/share/pnpm:~/.nvm/versions/node/v24.11.0/bin:~/.local/share/zinit/polaris/bin:~/.cargo/bin:/usr/local/bin:/usr/bin:~/.composer/vendor/bin:~/.local/bin:~/.cargo/bin:~/.go/bin:/usr/local/go/bin\n2026-01-03T09:33:33+08:00 INFO  [client] set status on client 184999: Authenticated\n\n# removed `/home/username` to shorten output.\n```\n\nAfter pressing **`F11` (fullscreen)** the file is filled with **1,048** similar lines in roughly 27 seconds, before I could get Zed to react to me pressing `F11` or trying to drag the window out of fullscreen.  That's roughly 39 warnings per second.\n\n```bash\n2026-01-03T09:37:02+08:00 WARN  [blade_graphics::hal::surface] Acquire failed because the surface is out of date\n...\n2026-01-03T09:37:29+08:00 WARN  [blade_graphics::hal::surface] Acquire failed because the surface is out of date\n```\n\nThere is no output after exiting `F11` mode.\n\n#### Possibly relevant info\n\n36 hours earlier I updated the system via the CLI and the system update included new NVidia drivers. The update terminated my GDM session and created a black screen that forced a restart.\n\nPrior to that I never noticed a problem with Zed freezing or causing any issues like this."
    }, {
      "numberIssue" : 38497,
      "numberCommentInIssue" : 11,
      "authorComment" : "Milli189",
      "commentText" : "> Hey [@Milli189](https://github.com/Milli189) just wanted to follow-up. Are you still experiencing this issue?\n\nyes, the only Wayland compositor where I don't experience this issue is COSMIC, but I still experience it on KDE Plasma and GNOME"
    } ]
  }, {
    "issueNumber" : 38499,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38499,
      "numberCommentInIssue" : 1,
      "authorComment" : "dhmw",
      "commentText" : "I've just started using Zed yesterday and noticed the same;\n\nAlso using Claude Code.\n\nZed 0.208.6 \n7d9cfb9527d248618be39f6ed60ba30006243f98\n\n"
    } ]
  }, {
    "issueNumber" : 38502,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38502,
      "numberCommentInIssue" : 1,
      "authorComment" : "766974616c79",
      "commentText" : "i just ran `git pull` and now i can compile. however, i only had 1 GB left out of 32 GB when i compiled a little over 1,900 crates, and then it went back up."
    }, {
      "numberIssue" : 38502,
      "numberCommentInIssue" : 2,
      "authorComment" : "osiewicz",
      "commentText" : "You can use `-j` to reduce the parallelism of build. It'll make it slower, but at the same less likely to run out of memory.\n\nE.g. if you're unable to build on a box with 8 cores, try to build with 6 or 4 (`cargo build -j4`). "
    }, {
      "numberIssue" : 38502,
      "numberCommentInIssue" : 3,
      "authorComment" : "766974616c79",
      "commentText" : "> You can use `-j` to reduce the parallelism of build. It'll make it slower, but at the same less likely to run out of memory.\n> \n> E.g. if you're unable to build on a box with 8 cores, try to build with 6 or 4 (`cargo build -j4`).\n\nyes, thank you, that fixes the problem"
    } ]
  }, {
    "issueNumber" : 38505,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38505,
      "numberCommentInIssue" : 1,
      "authorComment" : "kubkon",
      "commentText" : "FYI @davewa I've cherry-picked your commit e542d479906c7c36097edeff89a6d68f8b985bc3 to this PR - nice work with those tests!"
    }, {
      "numberIssue" : 38505,
      "numberCommentInIssue" : 2,
      "authorComment" : "davewa",
      "commentText" : "> FYI @davewa I've cherry-picked your commit [e542d47](https://github.com/zed-industries/zed/commit/e542d479906c7c36097edeff89a6d68f8b985bc3) to this PR - nice work with those tests!\r\n\r\nThanks! Was it intentional to revert the feature implemented in #37684?"
    }, {
      "numberIssue" : 38505,
      "numberCommentInIssue" : 3,
      "authorComment" : "kubkon",
      "commentText" : "> > FYI @davewa I've cherry-picked your commit [e542d47](https://github.com/zed-industries/zed/commit/e542d479906c7c36097edeff89a6d68f8b985bc3) to this PR - nice work with those tests!\r\n> \r\n> Thanks! Was it intentional to revert the feature implemented in #37684?\r\n\r\nHmm, not intentional at all. If it happened then probably a mistake on my part when cherry-picking your commit into my branch. Would you mind opening a PR re-adding anything that I might have missed?"
    }, {
      "numberIssue" : 38505,
      "numberCommentInIssue" : 4,
      "authorComment" : "kubkon",
      "commentText" : "Ahh I see it now. For some reason `sanitize_url_punctuation` got eaten up while cherry-picking. No idea how that happened. Anyhow I'll provide a fix real quick. Apologies for that!"
    } ]
  }, {
    "issueNumber" : 38513,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38513,
      "numberCommentInIssue" : 1,
      "authorComment" : "overstarry",
      "commentText" : "#38485 "
    }, {
      "numberIssue" : 38513,
      "numberCommentInIssue" : 2,
      "authorComment" : "MrSubidubi",
      "commentText" : "@overstarry Thanks for tagging this! This will be fixed with the next Nightly release, which is currently building. Thanks for the report!"
    } ]
  }, {
    "issueNumber" : 38514,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38514,
      "numberCommentInIssue" : 1,
      "authorComment" : "miguelraz",
      "commentText" : "@Hammerklavier-cn ouch, that is annoying.\n\nCan you still reproduce this on recent Zed?"
    }, {
      "numberIssue" : 38514,
      "numberCommentInIssue" : 2,
      "authorComment" : "Hammerklavier-cn",
      "commentText" : "Haven't encountered that for a long time. I'll check later today if the issue only exists in Zed's previous version."
    }, {
      "numberIssue" : 38514,
      "numberCommentInIssue" : 3,
      "authorComment" : "Hammerklavier-cn",
      "commentText" : "I cannot reproduce it even with former versions of zed. I guess it was a bug from my linux distribution or vulkan driver."
    } ]
  }, {
    "issueNumber" : 38516,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38516,
      "numberCommentInIssue" : 1,
      "authorComment" : "franciskafyi",
      "commentText" : "Thank you for reporting this!\n\n@rtfeldman tried to reproduce this on MacOS and couldn't, so we'll add this to our list for the Windows team. \n\nContext from Richard: I wonder if there's some sort of Windows antivirus thing going on with the agent touching files and antivirus thinking it's suspicious and scanning the Zed process or putting it in some sort of sandbox or something?\n\n@ask4fusora is the above something you think could be happening? \n\n\n"
    }, {
      "numberIssue" : 38516,
      "numberCommentInIssue" : 2,
      "authorComment" : "ask4fusora",
      "commentText" : "> Thank you for reporting this!\n> \n> [@rtfeldman](https://github.com/rtfeldman) tried to reproduce this on MacOS and couldn't, so we'll add this to our list for the Windows team.\n> \n> Context from Richard: I wonder if there's some sort of Windows antivirus thing going on with the agent touching files and antivirus thinking it's suspicious and scanning the Zed process or putting it in some sort of sandbox or something?\n> \n> [@ask4fusora](https://github.com/ask4fusora) is the above something you think could be happening?\n\nNo, I don't think so.\n\n# My hypothesis\n\nI brought myself to see which problem triggered the lag, and my hypothesis is that **_zed is rendering-heavy_**, especially when the agent is editing files.\n\n## Why I thought so\n\nI decided to do an as-plain-as-possible test, which includes:\n- Turning off all Windows antivirus features.\n- Create a brand new empty folder, turn off all LSP, MCP servers.\n\nThen, I asked Zed Agent to:\n```md\nImplement a simple C++ OOP project about Pokemon, but in markdown. (Act like the markdown files were cpp files)\n```\n\nAnd I noticed, the lag happens when the Agent is editing files, and persists for as long as there is `agent_diff` available. The lag was contained within Zed, other processes outside of Zed maintain their FPS rate normally.\n\n## Questions that I dismissed, so you don't have to\n\n1. Was my hardware too weak? No. I switched between my integrated GPU and external GPU, no difference were seen.\n\n_Actually, there might not be any other questions I can confidently answer._ "
    }, {
      "numberIssue" : 38516,
      "numberCommentInIssue" : 3,
      "authorComment" : "maxbrunsfeld",
      "commentText" : "I'm wondering if this has to do with the specific contents of your agent's thread. Can you share details about the current thread when the lag occurs? You can open the thread as markdown using the `agent: open active thread as markdown` action from the command palette."
    }, {
      "numberIssue" : 38516,
      "numberCommentInIssue" : 4,
      "authorComment" : "franciskafyi",
      "commentText" : "We think this is related to this issue: https://github.com/zed-industries/zed/issues/39435. We'll close as dupe. "
    }, {
      "numberIssue" : 38516,
      "numberCommentInIssue" : 5,
      "authorComment" : "shenjackyuanjie",
      "commentText" : "> We think this is related to this issue: [#39435](https://github.com/zed-industries/zed/issues/39435). We'll close as dupe.\n\nI do meet fps decreases when using agent thread"
    } ]
  }, {
    "issueNumber" : 38517,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38517,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against a967d8c2674467f2f4b520b9acb62aa732eaafa6\n</p>\n"
    } ]
  }, {
    "issueNumber" : 38518,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38518,
      "numberCommentInIssue" : 1,
      "authorComment" : "unixzii",
      "commentText" : "I updated this PR to only include some minimal changes. Now we only make sure <code>&grave;</code> can be input with <code>Fn-&grave;</code> as other macOS apps do."
    } ]
  }, {
    "issueNumber" : 38520,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38520,
      "numberCommentInIssue" : 1,
      "authorComment" : "notpeter",
      "commentText" : "Can you edit the steps to reproduce in your description -- what you have is very much insufficient. Assume I have a clean system with an empty folder and get me there. How do I create that directory, which files are you expecting to show up but aren't etc. (e.g. you haven't mentioned which files might contain `job_id` or where expect `job.rb` to be return\n\nYes, Zed will respect your global gitignore:\n\nCan you run: `git config --get --global core.excludesfile`\nCan you also run `git config --get core.excludesfile` inside your repo (unlikely, but this can also be a repo-level config).\n\nIf what you linked is your 200 line global gitignore it's still not helpful because your steps did not include pathing info sufficient to match. Does the issue go away if you rename /opt/homebrew/.gitgnore (e.g. if you think that's the root cause).\n\nAlso, do not @ mention me or other Zed staff when opening issues. Especially if you haven't bothered to define any reproducible steps -- it comes across as entitled and unprofessional.  It's notification spam -- don't do it again."
    }, {
      "numberIssue" : 38520,
      "numberCommentInIssue" : 2,
      "authorComment" : "malomalo",
      "commentText" : "Sorry updated with steps for a running in a test directory.\n\nThis issue is fixed bye renaming the homebrew gitignore. Looks like bye default homebrew ignores everything:\n\n```\n# First, ignore everything.\n/*\n```\n\nI didn't think it'd go above the project directory to find gitignores as https://github.com/zed-industries/zed/pull/8189 is closed as fixed. Perhaps I am missing a setting? The only thing that fixed it for me is by adding `\"file_scan_inclusions\": [\"*\"]` which a good default setting."
    }, {
      "numberIssue" : 38520,
      "numberCommentInIssue" : 3,
      "authorComment" : "notpeter",
      "commentText" : "I believe this is as designed. \nZed intentionally supports opening nested subfolders of a git repository (e.g. monorepos).\n\nOn the command line, as far as `git` is concerned when I am in that directory I am inside the `/opt/homebrew/.git` git repository.\n\nPreviously this was kind of hard coded (with the exceptions you noted for two directories up, etc) but I believe this is now the expected behavior to intentionally match that of git on the CLI.\n\n```\ncd /opt/homebrew/lib/ruby/gems/3.4.0\ngit rev-parse --show-toplevel\ngit status\n```\n\nAnd our directory has been `.gitignore`'d.\nZed by default does not project search `.gitignore`'d directories.\nIf you would like to search these directories, `file_scan_inclusions` is the right way.\nE.g.\n```json\n{\n  \"file_scan_inclusions\": [\"/opt/homebrew/lib/ruby\"],\n}\n```\n\n---\n\nI have empathy for your situation though.\nTwo other common examples:\n1. running `zed node_modules` being very confused that project search not work.\n2. Have a `.git` directory in your home directory for dotfiles but then `.gitignore` everything but the dotfiles you care about.  (I personally hate this, but people do it). \n\nIt would be reasonable if Zed detected these situations (workspace root is gitignore'd by a parent git repository) and prompt the user \"This workspace folder `/whatever/stuff` is being ignored by `/whatever/.gitignore` would you like to add this directory to `file_scan_inclusions` in your settings so Zed can index and search this directory?\"\n\nI've updated the description to reflect this.\nThanks for reporting."
    }, {
      "numberIssue" : 38520,
      "numberCommentInIssue" : 4,
      "authorComment" : "malomalo",
      "commentText" : "Yea I guess I just never expected such tight integration with a version control system. The project root being below a git root is werid if your trying to view as git and a text editor.\n\nFor me git and a text editor are probably at odds with each other, I view them as separate tools.\n\nI like to open that code in node_modules, ruby gems, etc and see the code and debug. I will open the folder with my editor. I don't really care what the version control system wants to ignore I want to see the that folder as a project in an editor which is different. Same with some of my code that generates output, sometimes i need/want to see the output, even if it's not going to end up in the repo. If I don't want to see it I'd add it the settings.\n\nI will try turning off the git integration with the following next week which hopefully will solve it for me, for today I went back to TextMate :/, I keep trying to get off TextMate with fresh OS reinstalls but always windup back there :(.\n\n~/.config/zed/settings.json\n```json\n{\n    \"file_scan_inclusions\": [\"*\"],   // To turn off git integration for all git repos / project roots?\n    \"file_scan_exclusions\": [\".git\"] // Don't search these files folders or present the in the file chooser\n}\n```\n\nand move projects from .tm_properties excludes into \n```json\n{\n    \"file_scan_exclusions\": [ \"test/fixtures\" ]\n}\n```\n\nHowever since this is JSON I see a problem in the future where the project `file_scan_exclusions` will ultimately negate any user preferences json file. In TextMate you could merge exclusions like this: `exclude = '{$exclude,log,bin,tmp,.git,.tm_properties}'`, not sure that will be possible anytime soon with the JSON format, but for now I'm the only one on my team testing Zed so no issues."
    } ]
  }, {
    "issueNumber" : 38521,
    "commentsCount" : 16,
    "comments" : [ {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @SO9010 on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 2,
      "authorComment" : "SO9010",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 4,
      "authorComment" : "SO9010",
      "commentText" : "Thank you so much for the review, after you think the code is ok, I will write the test :) "
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 5,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "I do not think in such ways, welcome to add a test already as it also helps with the review, if is able to show that both Vim and non-Vim behave correctly in the context of this change."
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 6,
      "authorComment" : "SO9010",
      "commentText" : "Cool sounds good I'll work on it asap, I realised my replies didn't send for some reason... So I resent them now :)"
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 7,
      "authorComment" : "SO9010",
      "commentText" : "I have added the condition, but I need to compile it when I'm home to test it :)."
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 8,
      "authorComment" : "SO9010",
      "commentText" : "Alright cool, just tested it :) it works, and I have added the condition for the vim editor, I will now write the test :) Thanks for the help!"
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 9,
      "authorComment" : "SO9010",
      "commentText" : "@SomeoneToIgnore I am really struggling with writing the test, I can't figure out how I can execute a command, with in the test, because I need to run editor: delete to properly execute the test... Could you please point me in the correct direction?"
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 10,
      "authorComment" : "ConradIrwin",
      "commentText" : "@SO9010 I'm not sure we want to spend too much time fixing editor commands from vim mode, as there are going to be a number of edge cases like this (and besides things like repeating and counting don't work).\r\n\r\nIs there a reason you can't use `vim::DeleteRight`? "
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 11,
      "authorComment" : "SO9010",
      "commentText" : "Ah I was just doing this as it was an issue I felt like I could tackle, I believe it should be correct now. I also thought it made sense to do this for consistency but as you point out there are also other edge cases! \n\nI'm just not sure how to write the test, but if you think that it's not worth the time I will try a different issue :) "
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 12,
      "authorComment" : "ConradIrwin",
      "commentText" : "Makes sense, and thank you for helping make Zed better!\r\n\r\nI have a (Slightly out of date) list of vim issues here: https://zed.dev/channel/vim-393/notes#Vim-Roadmap--Jan-2025\r\n\r\nIf you want to pick up an easy one, how about: https://github.com/zed-industries/zed/issues/14843 ?"
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 13,
      "authorComment" : "SO9010",
      "commentText" : "Awesome, thanks, is the issue that you referenced still applicable as it has been marked as resolved? I will definitely have a crack at some of these! \n\nVery excited to learn more and contribute to zed! "
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 14,
      "authorComment" : "SO9010",
      "commentText" : "That road map is great thanks for sharing it!"
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 15,
      "authorComment" : "ConradIrwin",
      "commentText" : "Oops, sorry I had not updated the doc :D.\r\n\r\nAny of the ones on the list should be good to pick up (though the command-palette ones are mostly in progress already)."
    }, {
      "numberIssue" : 38521,
      "numberCommentInIssue" : 16,
      "authorComment" : "SO9010",
      "commentText" : "No worries, thanks for the help!"
    } ]
  }, {
    "issueNumber" : 38525,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38525,
      "numberCommentInIssue" : 1,
      "authorComment" : "notpeter",
      "commentText" : "I cannot reproduce.\nIt works for me on macOS, Windows and Linux.\nBut...in testing it I did discover a setup which sounds like what you're seeing.\n\nIf Zed is in a empty workspace (e.g. new window, no folders added) this keybind does not work. In fact, this task does not show up under `tasks: spawn task` at all.  Perhaps because `$ZED_WORKTREE_ROOT` is invalid when spawning a task outside a worktree.\n\nCurious if this is what you're seeing."
    }, {
      "numberIssue" : 38525,
      "numberCommentInIssue" : 2,
      "authorComment" : "kennethlieyanto",
      "commentText" : "> I cannot reproduce. It works for me on macOS, Windows and Linux. But...in testing it I did discover a setup which sounds like what you're seeing.\n> \n> If Zed is in a empty workspace (e.g. new window, no folders added) this keybind does not work. In fact, this task does not show up under `tasks: spawn task` at all. Perhaps because `$ZED_WORKTREE_ROOT` is invalid when spawning a task outside a worktree.\n> \n> Curious if this is what you're seeing.\n\nYes, apparently this is what I was experiencing, If I tried to run it from keymap.json or tasks.json even when I have folder added, task doesn't show up."
    }, {
      "numberIssue" : 38525,
      "numberCommentInIssue" : 3,
      "authorComment" : "notpeter",
      "commentText" : "Yeah, this one is a bit difficult because when there is no `ZED_WORKTREE_ROOT` it's unclear what value should be passed to that variable.  If it were empty, the `-p` no longer makes sense either.\n\nIn your case, it doesn't make sense to run `lazygit` outside of a directory.  I think we could improve documentation here for sure.\n- https://github.com/zed-industries/zed/pull/38642"
    } ]
  }, {
    "issueNumber" : 38526,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38526,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "Thanks for the heads up, I can reproduce this and am looking into why."
    }, {
      "numberIssue" : 38526,
      "numberCommentInIssue" : 2,
      "authorComment" : "ConradIrwin",
      "commentText" : "Ok, this is a gnarly one.\n\nThe original problem was possibly? fixed by e9b4f59e0f2b732424d830b3c49119fd3c233b59 That said, it seems like cherry-picking this to stable does not fix it.\n\nBut the fix regressed with 59a609c9fcebd3f641e64a498e15e3cf2042a648 (which was cherry-picked to preview as ab4687391a00d51a184d1c6b08e093591228405b).\n\nSo I think the reason it's broken on stable is different from the reason it's broken on main/preview; I'm still trying to narrow down why it broke on stable to get a targeted fix out.\n\n\n"
    }, {
      "numberIssue" : 38526,
      "numberCommentInIssue" : 3,
      "authorComment" : "benbrandt",
      "commentText" : "@desaisoam this should be fixed in the latest version of Zed! Let us know if you are still running into issues."
    } ]
  }, {
    "issueNumber" : 38528,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38528,
      "numberCommentInIssue" : 1,
      "authorComment" : "notpeter",
      "commentText" : "I can reproduce. \n\nThe terminal tool in the Agent panel (Zed Agent, Claude code, etc) truncates the command and offers you no way to show the complete command before executing.  The full command is only available **after** it has been run.\n\n\nThanks for reporting."
    } ]
  }, {
    "issueNumber" : 38529,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38529,
      "numberCommentInIssue" : 1,
      "authorComment" : "kubkon",
      "commentText" : "Ahhh nice catch!"
    } ]
  }, {
    "issueNumber" : 38530,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38530,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Can we see before/after screenshots, please?"
    } ]
  }, {
    "issueNumber" : 38533,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38533,
      "numberCommentInIssue" : 1,
      "authorComment" : "guuzaa",
      "commentText" : "I've checked code base. \nThe copilot provider uses ChatGPT's tokenizer. Maybe it doesn't make sense for Claude models.\nhttps://github.com/zed-industries/zed/blob/998fece3af752121c2aa336588934d86958547b5/crates/language_models/src/provider/copilot_chat.rs#L264-L283"
    } ]
  }, {
    "issueNumber" : 38536,
    "commentsCount" : 13,
    "comments" : [ {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 1,
      "authorComment" : "dangooddd",
      "commentText" : "This should also be done for many other themes as well. Inversed bright/normal colors makes many terminal apps looks very awful, and sometimes not readable at all."
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 2,
      "authorComment" : "osyvokon",
      "commentText" : "Thanks for opening this PR. It looks reasonable and color codes 90..97 do appear to be swapped with dimmed colors. Unfortunately, while checking the changes, I've run into a few weird things.\r\n\r\nFirst, the terminal colors feel off with this change -- the white is too white:\r\n\r\n<img width=\"2832\" height=\"930\" alt=\"grid\" src=\"https://github.com/user-attachments/assets/8091e6ae-d82e-4b44-8769-9f3e3468737f\" />\r\n\r\n---\r\n\r\nSecond, it seems like dimmed colors are not really respected by Zed's terminal: \r\n\r\nZed, with or without this PR:\r\n<img width=\"778\" height=\"355\" alt=\"image\" src=\"https://github.com/user-attachments/assets/1acdf568-e61b-4871-9cfc-d2970ceb4b5a\" />\r\n\r\n\r\nVSCode:\r\n<img width=\"703\" height=\"276\" alt=\"image\" src=\"https://github.com/user-attachments/assets/14c01806-eb99-4144-ac30-606ee28ed256\" />\r\n\r\nWezTerm:\r\n<img width=\"720\" height=\"357\" alt=\"image\" src=\"https://github.com/user-attachments/assets/64da7093-0bff-4b24-b96e-6c58e607a9fe\" />\r\n\r\nFinally, I'm not sure why rendering ANSI code 90..97 differs so much from rendering bright colors with the `1;` prefix (as in the script below) in Zed. \r\n\r\n```py\r\ndef print_colors():\r\n    colors = [\r\n        (\"Black\", 30),\r\n        (\"Red\", 31),\r\n        (\"Green\", 32),\r\n        (\"Yellow\", 33),\r\n        (\"Blue\", 34),\r\n        (\"Magenta\", 35),\r\n        (\"Cyan\", 36),\r\n        (\"White\", 37),\r\n    ]\r\n\r\n    print(f\"{'Color':<10} {'Normal':<15} {'Bright':<15} {'Dim':<15}\")\r\n    print(\"-\" * 60)\r\n\r\n    for color_name, color_code in colors:\r\n        normal = f\"\\033[{color_code}m{color_name}\\033[0m\"\r\n        bright = f\"\\033[1;{color_code}m{color_name}\\033[0m\"\r\n        dim = f\"\\033[2;{color_code}m{color_name}\\033[0m\"\r\n\r\n        print(f\"{color_name:<10} {normal:<25} {bright:<25} {dim:<25}\")\r\n```\r\n\r\nThe last two points are not really related to this PR, but they add confusion and make it harder to review. I think I need more time to figure out what's going on."
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 3,
      "authorComment" : "dangooddd",
      "commentText" : "Problem is that in my case all the colors differs from yours, and I do not know why.\r\nOutput of your script looks like this in my case:\r\n\r\n<img width=\"621\" height=\"259\" alt=\"image\" src=\"https://github.com/user-attachments/assets/7ace78df-a724-4121-8ff6-b45d85824b9b\" />\r\n\r\nAs you can see, in my case dim colors is respected by zed, but I think we could make them more dimmed.\r\nWhat is strange is that my foreground color is not white as yours also, and looks normal. We can change `bright_foreground` to different color, for example `fg1` from original palette.\r\n\r\nSomething wrong with how zed renders colors in terminal, but I agree with you that this is not related to this PR."
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 4,
      "authorComment" : "dangooddd",
      "commentText" : "Problem with terminal colors also appears on One Dark theme (some colors inverted and some not). Should I open new pull request for that theme once I figured out which colors we could consider? @osyvokon "
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 5,
      "authorComment" : "osyvokon",
      "commentText" : "@dangooddd, yeah, I'd appreciate it if you could fix One Dark as well.\r\n\r\nI haven't had a chance to debug the unnatural whiteness issue yet, but I'll tackle it in the next few days. After that, I'll either merge this PR, or make a fix and merge."
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 6,
      "authorComment" : "dangooddd",
      "commentText" : "And Ayu needs this fix as well. I will deep in Ayu later."
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 7,
      "authorComment" : "osyvokon",
      "commentText" : "Okay, I found the problem with the foreground color being too white: the `terminal.foreground` values contain an extra byte (`ff`). Not sure how it was working on your machine.\r\n\r\nRemoving it makes things a bit better, but now the foreground becomes too gray. I think we should keep it equal to `editor.foreground` (`#ebdbb2ff`)."
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 8,
      "authorComment" : "osyvokon",
      "commentText" : "If you're open to hopping on a call to go through all three themes (One, Aya, Gruvbox) together, feel free to book a time [here](https://calendar.app.google/6pgSFc4pt2aduVLf9)."
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 9,
      "authorComment" : "dangooddd",
      "commentText" : "I feel you can just tweak it how you like! The only thing we need to fix is messed up dim/normal/bright colors."
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 10,
      "authorComment" : "dangooddd",
      "commentText" : "@osyvokon I fixed dark themes, now all should be fine with them. Please check latest commit with changes to light themes. I did them match original gruvbox themes + fix current normal/bright colors issue. In original theme ANSI black is actually light (like editor background), and ANSI white is actually dark (like editor foreground). Let me known if you think we should keep ANSI black - dark and ANSI white - light, but IMO original gruvbox approach is better when using CLI/TUI"
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 11,
      "authorComment" : "osyvokon",
      "commentText" : "Looks good to me. Thanks for the fix!"
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 12,
      "authorComment" : "dangh",
      "commentText" : "In my opinion, this change makes the text less legible. The screenshot is using Gruvbox Light Soft on macOS.\r\n\r\nThe text looks overly vibrant and doesn’t use the same colors as the main editor.\r\n\r\nI believe the built-in themes were generated with a specific design intention and aren’t meant to be edited by hand. This should have been addressed either by creating a custom theme or by updating the theme generation script so everything stays consistent.\r\n\r\n<img width=\"350\" height=\"347\" alt=\"Screenshot 2025-12-23 at 1 07 56 PM\" src=\"https://github.com/user-attachments/assets/260f0b33-8a06-43b2-9cfc-0f69a62ab2a6\" />\r\n"
    }, {
      "numberIssue" : 38536,
      "numberCommentInIssue" : 13,
      "authorComment" : "dangooddd",
      "commentText" : "Sorry that this affects you. I can not find any theme generation script in repo, thats potentially my fault. But this PR solves issue with broken normal/bright/dim colors that was a must. As zed uses standard gruvbox background colors in all themes, and I made terminal colors match original gruvbox, this should be pretty much how original design of gruvbox looks"
    } ]
  }, {
    "issueNumber" : 38537,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38537,
      "numberCommentInIssue" : 1,
      "authorComment" : "Quantumplation",
      "commentText" : "I cloned zed and when I run a debug or release build on the latest commit (be77682), it starts up just fine; so perhaps this is just something that was fixed recently?\n\nActually, I just noticed that when I install `zed-editor` via nix, it's installing a quite old version... 0.156.2. Despite me being on unstable and having updated my nixpkgs just now..."
    }, {
      "numberIssue" : 38537,
      "numberCommentInIssue" : 2,
      "authorComment" : "Quantumplation",
      "commentText" : "Ok, somehow I had a separate, hand-installed old version of zed that was shadowing the newer version :)\n\nFor anyone coming from google: double check which version you have installed with `zed --version`; search for the [Release](https://github.com/zed-industries/zed/releases) in question, and see how old it was :)"
    }, {
      "numberIssue" : 38537,
      "numberCommentInIssue" : 3,
      "authorComment" : "biemster",
      "commentText" : "I'm hitting this with a fresh arch install on hyprland:\n```\n~ ✗ zeditor --foreground\n2025-10-13T18:16:19+02:00 INFO  [zed] ========== starting zed version 0.207.3, sha unknown ==========\n\nthread 'main' panicked at crates/gpui/src/platform/linux/wayland/client.rs:500:47:\nUnable to init GPU context: Platform(Init(ERROR_INITIALIZATION_FAILED))\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\n```\nzed 207:\n```\n~ ✗ zeditor --version\nZed 0.207.3 – /usr/lib/zed/zed-editor\n```\nEDIT: oh wait sorry, the error is different actually, my vulkan can't find my GPU (https://github.com/basecamp/omarchy/issues/2321 is exactly my issue)"
    } ]
  }, {
    "issueNumber" : 38538,
    "commentsCount" : 8,
    "comments" : [ {
      "numberIssue" : 38538,
      "numberCommentInIssue" : 1,
      "authorComment" : "CAReyes",
      "commentText" : "https://github.com/zed-industries/zed/issues/38822"
    }, {
      "numberIssue" : 38538,
      "numberCommentInIssue" : 2,
      "authorComment" : "smitbarmase",
      "commentText" : "Thanks for reporting. The `-c` flag, i.e. `--chdir` is not POSIX and it’s a GNU coreutils extension. And many systems don’t have that (BusyBox, Alpine, Amazon Linux 2, some CentOS images, etc.). We should rather use `cd` instead of that to run a remote terminal. "
    }, {
      "numberIssue" : 38538,
      "numberCommentInIssue" : 3,
      "authorComment" : "alex-berger",
      "commentText" : "The problems go beyond `-C`. For example I tried to work around this by installing GNU Coreutils on my remote Alpine Linux container such that it supports the `-C` flag:\n\n```shell\napk --no-cache add coreutils\n```\n\nHowever, it still does not work. Now, I get the following error:\n\n```\nenv: ‘-l’: No such file or directory\n```\n\nI suspect this was introduced with https://github.com/zed-industries/zed/commit/393d6787a3d45125e60fbbe708c130dd54982f4e."
    }, {
      "numberIssue" : 38538,
      "numberCommentInIssue" : 4,
      "authorComment" : "spacelatte",
      "commentText" : "I guess the `-l` comes through [here](https://github.com/zed-industries/zed/commit/393d6787a3d45125e60fbbe708c130dd54982f4e#diff-b99ed7bdf450d3faca488eec030a9bb40e0ed83598b50aa12a6bc1c7e2c41c6eR1047) ([crates/remote/src/transport/ssh.rs:1085](https://github.com/zed-industries/zed/blob/main/crates/remote/src/transport/ssh.rs#L1085)). \n\nNow I am using another host/container which has recent~ish GNU coreutils to workaround the issue, but the first terminal opens does not switch into the workspace directory, instead opens in my home.\n\nI presume this is because the `-l` flag gets passed to the shell to make it a login-shell, thus, yielding `env -C <dir> <shell> -l` (ie. `env -C workspace bash -l`), which resets the `$PWD`/`$CWD`. Possibly it is the case since I also use shell integration / environment loading features too..."
    }, {
      "numberIssue" : 38538,
      "numberCommentInIssue" : 5,
      "authorComment" : "alex-berger",
      "commentText" : "I had a second look at the error message I get [when using `coreutils` to work around the `-C` problem](https://github.com/zed-industries/zed/issues/38538#issuecomment-3341537351):\n\n```\nenv: ‘-l’: No such file or directory\n```\n\nIt is `env` and not a/the shell, which is complaining about the `-l` flag. So, it looks like in my case the shell (`ssh_shell`) is empty at [ssh.rs#L1075](https://github.com/zed-industries/zed/blob/main/crates/remote/src/transport/ssh.rs#L1075).\n\n```rust\n    write!(exec, \"{ssh_shell} \").unwrap(); // <<-- here ssh_shell is empty \n    if let Some(input_program) = input_program {\n        let mut script = shlex::try_quote(&input_program)?.into_owned();\n        for arg in input_args {\n            let arg = shlex::try_quote(&arg)?;\n            script.push_str(\" \");\n            script.push_str(&arg);\n        }\n        write!(exec, \"-c {}\", shlex::try_quote(&script).unwrap()).unwrap();\n    } else { // <<-- no input_program so we end up here\n        write!(exec, \"-l\").unwrap(); // <<-- since ssh_shell was empty the -l flag is effectively passed to env\n    };\n```"
    }, {
      "numberIssue" : 38538,
      "numberCommentInIssue" : 6,
      "authorComment" : "alex-berger",
      "commentText" : "I updated to Zed version [0.208.4](https://zed.dev/releases/stable/0.208.4), and I still face the problem I described in \n\n- https://github.com/zed-industries/zed/issues/38538#issuecomment-3341537351\n- https://github.com/zed-industries/zed/issues/38538#issuecomment-3364349851\n\n```\nenv: can't execute '-l': No such file or directory\n```\n\nI managed to identify the root cause of this, it is in function [SshSocket::shell()](https://github.com/zed-industries/zed/blob/v0.208.4/crates/remote/src/transport/ssh.rs#L811), which looks like this:\n\n```rust\n    async fn shell(&self) -> String {\n        match self.run_command(\"sh\", &[\"-c\", \"echo $SHELL\"]).await {\n            Ok(shell) => shell.trim().to_owned(), // <-- here the resulting shell can be empty string if $SHELL is not set\n            Err(e) => {\n                log::error!(\"Failed to get shell: {e}\");\n                \"sh\".to_owned()\n            }\n        }\n    }\n```\n\nThat function should probably look like this:\n\n```rust\n    async fn shell(&self) -> String {\n        let default_shell = \"sh\";\n        match self.run_command(\"sh\", &[\"-c\", \"echo $SHELL\"]).await {\n            Ok(shell) => match shell.trim() {\n                \"\" => default_shell.to_owned(),\n                shell => shell.to_owned(),\n            },\n            Err(e) => {\n                log::error!(\"Failed to get shell: {e}\");\n                default_shell.to_owned()\n            }\n        }\n    }\n```\n\nCan we please reopen this issue and make the terminal for remote projects usable again."
    }, {
      "numberIssue" : 38538,
      "numberCommentInIssue" : 7,
      "authorComment" : "smitbarmase",
      "commentText" : "@alex-berger can you create separate issue to track that?"
    }, {
      "numberIssue" : 38538,
      "numberCommentInIssue" : 8,
      "authorComment" : "maerteijn",
      "commentText" : "@smitbarmase I added an issue for this #41644 "
    } ]
  }, {
    "issueNumber" : 38539,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38539,
      "numberCommentInIssue" : 1,
      "authorComment" : "zhengma021",
      "commentText" : "<img width=\"728\" height=\"191\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/46c7d055-f426-4987-aca0-7c384f924a27\" />"
    }, {
      "numberIssue" : 38539,
      "numberCommentInIssue" : 2,
      "authorComment" : "zhengma021",
      "commentText" : "Zed: v0.204.2 (Zed) \nOS: macOS 15.5\nMemory: 16 GiB\nArchitecture: aarch64"
    }, {
      "numberIssue" : 38539,
      "numberCommentInIssue" : 3,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "I suspect that can be related to language server more than Zed.\nCurious, how does it work for you in other editors that use this language server?\n"
    }, {
      "numberIssue" : 38539,
      "numberCommentInIssue" : 4,
      "authorComment" : "jctosta",
      "commentText" : "Basedpyright follows the same localization definitions from pyright, you have to set the `LC_ALL` env to your desired language:\n\nWithout the env:\n\n```bash\n➜  example git:(main) ✗ uvx basedpyright .\n  ~/Dev/example/sales.py:395:47 - error: O argumento do tipo \"list[(_flow: Unknown, flow_run: Unknown, state: Unknown) -> CoroutineType[Any, Any, None]]\" não pode ser atribuído ao parâmetro \"on_completion\" do tipo \"list[FlowStateHook[..., Any]] | None\" na função \"__call__\"\n    \"(_flow: Unknown, flow_run: Unknown, state: Unknown) -> CoroutineType[Any, Any, None]\" não pode ser atribuído ao tipo\"(flow: Flow[..., Any], flow_run: FlowRun, state: State[Any]) -> (Awaitable[None] | None)\"\n      Incompatibilidade de nome de parâmetro: \"flow\" versus \"_flow\" (reportArgumentType)\n4 errors, 0 warnings, 0 notes\n```\n\nWith the env enabled:\n\n```bash\n➜  example git:(main) ✗ LC_ALL=\"en\" uvx basedpyright .\n  ~/Dev/example/sales.py:395:47 - error: Argument of type \"list[(_flow: Unknown, flow_run: Unknown, state: Unknown) -> CoroutineType[Any, Any, None]]\" cannot be assigned to parameter \"on_completion\" of type \"list[FlowStateHook[..., Any]] | None\" in function \"__call__\"\n    Type \"(_flow: Unknown, flow_run: Unknown, state: Unknown) -> CoroutineType[Any, Any, None]\" is not assignable to type \"(flow: Flow[..., Any], flow_run: FlowRun, state: State[Any]) -> (Awaitable[None] | None)\"\n      Parameter name mismatch: \"flow\" versus \"_flow\" (reportArgumentType)\n4 errors, 0 warnings, 0 notes\n```\n\nReference: https://github.com/microsoft/pyright/blob/main/docs/configuration.md#locale-configuration"
    } ]
  }, {
    "issueNumber" : 38540,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38540,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  1 messages\n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Messages</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:book:</td>\n      <td>\n\n  This PR includes links to the following GitHub Issues: #37652\nIf this PR aims to close an issue, please include a `Closes #ISSUE` line at the top of the PR body.\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against a26753d55b6b4129e1431174af92686ec4e8f8d6\n</p>\n"
    }, {
      "numberIssue" : 38540,
      "numberCommentInIssue" : 2,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  1 messages\n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Messages</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:book:</td>\n      <td>\n\n  This PR includes links to the following GitHub Issues: #37652\nIf this PR aims to close an issue, please include a `Closes #ISSUE` line at the top of the PR body.\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against a26753d55b6b4129e1431174af92686ec4e8f8d6\n</p>\n"
    }, {
      "numberIssue" : 38540,
      "numberCommentInIssue" : 3,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  1 messages\n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Messages</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:book:</td>\n      <td>\n\n  This PR includes links to the following GitHub Issues: #37652\nIf this PR aims to close an issue, please include a `Closes #ISSUE` line at the top of the PR body.\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against a26753d55b6b4129e1431174af92686ec4e8f8d6\n</p>\n"
    }, {
      "numberIssue" : 38540,
      "numberCommentInIssue" : 4,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  1 messages\n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Messages</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:book:</td>\n      <td>\n\n  This PR includes links to the following GitHub Issues: #37652\nIf this PR aims to close an issue, please include a `Closes #ISSUE` line at the top of the PR body.\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against a26753d55b6b4129e1431174af92686ec4e8f8d6\n</p>\n"
    } ]
  }, {
    "issueNumber" : 38541,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38541,
      "numberCommentInIssue" : 1,
      "authorComment" : "achieve-dream1221",
      "commentText" : "by the way, this error still not be fixed: https://github.com/zed-industries/zed/issues/38470"
    } ]
  }, {
    "issueNumber" : 38542,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38542,
      "numberCommentInIssue" : 1,
      "authorComment" : "thedadams",
      "commentText" : "My understanding is that the test failures are unrelated. If that is not the case, please let me know."
    }, {
      "numberIssue" : 38542,
      "numberCommentInIssue" : 2,
      "authorComment" : "MrSubidubi",
      "commentText" : "Test failures are definitely related, see\r\n\r\n>      Caused by:\r\n>       failed to load language Markdown: Error loading injection query\r\n\r\nSee also https://github.com/zed-industries/zed/pull/38255"
    }, {
      "numberIssue" : 38542,
      "numberCommentInIssue" : 3,
      "authorComment" : "thedadams",
      "commentText" : "Thank you!"
    }, {
      "numberIssue" : 38542,
      "numberCommentInIssue" : 4,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Closing as stale, as tests are still failed 2 weeks after."
    } ]
  }, {
    "issueNumber" : 38544,
    "commentsCount" : 6,
    "comments" : [ {
      "numberIssue" : 38544,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Could you find clangd in the list \n\n<img width=\"331\" height=\"162\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6f3e15ce-f553-4493-9a54-b1fe181914bc\" />\n\nand click that to open the RPC messages editor:\n\n<img width=\"862\" height=\"466\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b39f35ff-e05c-426e-b555-139a2207e40c\" />\n\nand check the clangd server message that's sent back when the completion list is broken?\n\n<img width=\"827\" height=\"230\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ea7eab22-f36e-4138-aefb-3b26c3b9c18b\" />\n\nCurious to see if there are 2 entries in that response (then it's a clangd's bug) or something else (then it's zed's bug)."
    }, {
      "numberIssue" : 38544,
      "numberCommentInIssue" : 2,
      "authorComment" : "angelator312",
      "commentText" : "<details><summary>RPC Messages</summary>\n\n```\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"method\":\"workspace/didChangeConfiguration\",\"params\":{\"settings\":{}}}\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"method\":\"workspace/didChangeConfiguration\",\"params\":{\"settings\":{}}}\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"id\":86,\"method\":\"textDocument/documentHighlight\",\"params\":{\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"},\"position\":{\"line\":29,\"character\":7}}}\n\n// Receive:\n{\"id\":86,\"jsonrpc\":\"2.0\",\"result\":[{\"kind\":1,\"range\":{\"end\":{\"character\":34,\"line\":28},\"start\":{\"character\":29,\"line\":28}}},{\"kind\":1,\"range\":{\"end\":{\"character\":7,\"line\":29},\"start\":{\"character\":2,\"line\":29}}},{\"kind\":2,\"range\":{\"end\":{\"character\":48,\"line\":30},\"start\":{\"character\":43,\"line\":30}}},{\"kind\":2,\"range\":{\"end\":{\"character\":11,\"line\":34},\"start\":{\"character\":6,\"line\":34}}},{\"kind\":2,\"range\":{\"end\":{\"character\":28,\"line\":36},\"start\":{\"character\":23,\"line\":36}}},{\"kind\":2,\"range\":{\"end\":{\"character\":25,\"line\":37},\"start\":{\"character\":20,\"line\":37}}},{\"kind\":3,\"range\":{\"end\":{\"character\":9,\"line\":38},\"start\":{\"character\":4,\"line\":38}}},{\"kind\":2,\"range\":{\"end\":{\"character\":27,\"line\":40},\"start\":{\"character\":22,\"line\":40}}},{\"kind\":2,\"range\":{\"end\":{\"character\":31,\"line\":41},\"start\":{\"character\":26,\"line\":41}}},{\"kind\":2,\"range\":{\"end\":{\"character\":27,\"line\":42},\"start\":{\"character\":22,\"line\":42}}},{\"kind\":2,\"range\":{\"end\":{\"character\":31,\"line\":43},\"start\":{\"character\":26,\"line\":43}}},{\"kind\":2,\"range\":{\"end\":{\"character\":23,\"line\":44},\"start\":{\"character\":18,\"line\":44}}}]}\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"id\":87,\"method\":\"textDocument/documentHighlight\",\"params\":{\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"},\"position\":{\"line\":29,\"character\":7}}}\n\n// Receive:\n{\"id\":87,\"jsonrpc\":\"2.0\",\"result\":[{\"kind\":1,\"range\":{\"end\":{\"character\":34,\"line\":28},\"start\":{\"character\":29,\"line\":28}}},{\"kind\":1,\"range\":{\"end\":{\"character\":7,\"line\":29},\"start\":{\"character\":2,\"line\":29}}},{\"kind\":2,\"range\":{\"end\":{\"character\":48,\"line\":30},\"start\":{\"character\":43,\"line\":30}}},{\"kind\":2,\"range\":{\"end\":{\"character\":11,\"line\":34},\"start\":{\"character\":6,\"line\":34}}},{\"kind\":2,\"range\":{\"end\":{\"character\":28,\"line\":36},\"start\":{\"character\":23,\"line\":36}}},{\"kind\":2,\"range\":{\"end\":{\"character\":25,\"line\":37},\"start\":{\"character\":20,\"line\":37}}},{\"kind\":3,\"range\":{\"end\":{\"character\":9,\"line\":38},\"start\":{\"character\":4,\"line\":38}}},{\"kind\":2,\"range\":{\"end\":{\"character\":27,\"line\":40},\"start\":{\"character\":22,\"line\":40}}},{\"kind\":2,\"range\":{\"end\":{\"character\":31,\"line\":41},\"start\":{\"character\":26,\"line\":41}}},{\"kind\":2,\"range\":{\"end\":{\"character\":27,\"line\":42},\"start\":{\"character\":22,\"line\":42}}},{\"kind\":2,\"range\":{\"end\":{\"character\":31,\"line\":43},\"start\":{\"character\":26,\"line\":43}}},{\"kind\":2,\"range\":{\"end\":{\"character\":23,\"line\":44},\"start\":{\"character\":18,\"line\":44}}}]}\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"id\":88,\"method\":\"textDocument/codeAction\",\"params\":{\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"},\"range\":{\"start\":{\"line\":29,\"character\":7},\"end\":{\"line\":29,\"character\":7}},\"context\":{\"diagnostics\":[{\"range\":{\"start\":{\"line\":29,\"character\":2},\"end\":{\"line\":29,\"character\":7}},\"severity\":2,\"code\":\"-Wunused-value\",\"source\":\"clang\",\"message\":\"Expression result unused\"}],\"only\":[\"quickfix\",\"refactor\",\"info\"]}}}\n\n// Receive:\n{\"id\":88,\"jsonrpc\":\"2.0\",\"result\":[]}\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"method\":\"textDocument/didChange\",\"params\":{\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\",\"version\":32},\"contentChanges\":[{\"range\":{\"start\":{\"line\":29,\"character\":6},\"end\":{\"line\":29,\"character\":7}},\"text\":\"\"}]}}\n\n// Receive:\n{\"jsonrpc\":\"2.0\",\"method\":\"textDocument/publishDiagnostics\",\"params\":{\"diagnostics\":[{\"code\":\"undeclared_var_use_suggest\",\"message\":\"Use of undeclared identifier 'flag'; did you mean 'flags'? (fix available)\",\"range\":{\"end\":{\"character\":6,\"line\":29},\"start\":{\"character\":2,\"line\":29}},\"relatedInformation\":[{\"location\":{\"range\":{\"end\":{\"character\":34,\"line\":28},\"start\":{\"character\":29,\"line\":28}},\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"},\"message\":\"'flags' declared here\"}],\"severity\":1,\"source\":\"clang\"},{\"code\":\"-Wunused-value\",\"message\":\"Expression result unused\",\"range\":{\"end\":{\"character\":6,\"line\":29},\"start\":{\"character\":2,\"line\":29}},\"relatedInformation\":[],\"severity\":2,\"source\":\"clang\"},{\"code\":\"unused-includes\",\"codeDescription\":{\"href\":\"https://clangd.llvm.org/guides/include-cleaner\"},\"message\":\"Included header algorithm is not used directly (fix available)\",\"range\":{\"end\":{\"character\":20,\"line\":1},\"start\":{\"character\":0,\"line\":1}},\"relatedInformation\":[],\"severity\":2,\"source\":\"clangd\",\"tags\":[1]}],\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\",\"version\":32}}\n\n// Receive:\n{\"jsonrpc\":\"2.0\",\"method\":\"textDocument/inactiveRegions\",\"params\":{\"regions\":[{\"end\":{\"character\":24,\"line\":6},\"start\":{\"character\":0,\"line\":6}}],\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"}}}\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"method\":\"textDocument/didChange\",\"params\":{\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\",\"version\":33},\"contentChanges\":[{\"range\":{\"start\":{\"line\":29,\"character\":6},\"end\":{\"line\":29,\"character\":6}},\"text\":\"s\"}]}}\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"id\":89,\"method\":\"textDocument/completion\",\"params\":{\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"},\"position\":{\"line\":29,\"character\":7},\"context\":{\"triggerKind\":1}}}\n\n// Receive:\n{\"id\":89,\"jsonrpc\":\"2.0\",\"result\":{\"isIncomplete\":false,\"items\":[{\"detail\":\"int\",\"filterText\":\"flags\",\"insertText\":\"flags\",\"insertTextFormat\":1,\"kind\":6,\"label\":\" flags\",\"labelDetails\":{},\"score\":3.8475792407989502,\"sortText\":\"3f09c143flags\",\"textEdit\":{\"newText\":\"flags\",\"range\":{\"end\":{\"character\":7,\"line\":29},\"start\":{\"character\":2,\"line\":29}}}},{\"detail\":\"int\",\"filterText\":\"flags\",\"insertText\":\"flags\",\"insertTextFormat\":1,\"kind\":6,\"label\":\" flags\",\"labelDetails\":{},\"score\":2.1029930114746094,\"sortText\":\"3f796890flags\",\"textEdit\":{\"newText\":\"flags\",\"range\":{\"end\":{\"character\":7,\"line\":29},\"start\":{\"character\":2,\"line\":29}}}},{\"detail\":\"const int\",\"filterText\":\"MAX_FLAGS\",\"insertText\":\"MAX_FLAGS\",\"insertTextFormat\":1,\"kind\":6,\"label\":\" MAX_FLAGS\",\"labelDetails\":{},\"score\":1.4014962911605835,\"sortText\":\"40baab58MAX_FLAGS\",\"textEdit\":{\"newText\":\"MAX_FLAGS\",\"range\":{\"end\":{\"character\":7,\"line\":29},\"start\":{\"character\":2,\"line\":29}}}}]}}\n\n// Receive:\n{\"jsonrpc\":\"2.0\",\"method\":\"textDocument/publishDiagnostics\",\"params\":{\"diagnostics\":[{\"code\":\"-Wunused-value\",\"message\":\"Expression result unused\",\"range\":{\"end\":{\"character\":7,\"line\":29},\"start\":{\"character\":2,\"line\":29}},\"relatedInformation\":[],\"severity\":2,\"source\":\"clang\"},{\"code\":\"unused-includes\",\"codeDescription\":{\"href\":\"https://clangd.llvm.org/guides/include-cleaner\"},\"message\":\"Included header algorithm is not used directly (fix available)\",\"range\":{\"end\":{\"character\":20,\"line\":1},\"start\":{\"character\":0,\"line\":1}},\"relatedInformation\":[],\"severity\":2,\"source\":\"clangd\",\"tags\":[1]}],\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\",\"version\":33}}\n\n// Receive:\n{\"jsonrpc\":\"2.0\",\"method\":\"textDocument/inactiveRegions\",\"params\":{\"regions\":[{\"end\":{\"character\":24,\"line\":6},\"start\":{\"character\":0,\"line\":6}}],\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"}}}\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"id\":90,\"method\":\"textDocument/documentHighlight\",\"params\":{\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"},\"position\":{\"line\":29,\"character\":7}}}\n\n// Receive:\n{\"id\":90,\"jsonrpc\":\"2.0\",\"result\":[{\"kind\":1,\"range\":{\"end\":{\"character\":34,\"line\":28},\"start\":{\"character\":29,\"line\":28}}},{\"kind\":1,\"range\":{\"end\":{\"character\":7,\"line\":29},\"start\":{\"character\":2,\"line\":29}}},{\"kind\":2,\"range\":{\"end\":{\"character\":48,\"line\":30},\"start\":{\"character\":43,\"line\":30}}},{\"kind\":2,\"range\":{\"end\":{\"character\":11,\"line\":34},\"start\":{\"character\":6,\"line\":34}}},{\"kind\":2,\"range\":{\"end\":{\"character\":28,\"line\":36},\"start\":{\"character\":23,\"line\":36}}},{\"kind\":2,\"range\":{\"end\":{\"character\":25,\"line\":37},\"start\":{\"character\":20,\"line\":37}}},{\"kind\":3,\"range\":{\"end\":{\"character\":9,\"line\":38},\"start\":{\"character\":4,\"line\":38}}},{\"kind\":2,\"range\":{\"end\":{\"character\":27,\"line\":40},\"start\":{\"character\":22,\"line\":40}}},{\"kind\":2,\"range\":{\"end\":{\"character\":31,\"line\":41},\"start\":{\"character\":26,\"line\":41}}},{\"kind\":2,\"range\":{\"end\":{\"character\":27,\"line\":42},\"start\":{\"character\":22,\"line\":42}}},{\"kind\":2,\"range\":{\"end\":{\"character\":31,\"line\":43},\"start\":{\"character\":26,\"line\":43}}},{\"kind\":2,\"range\":{\"end\":{\"character\":23,\"line\":44},\"start\":{\"character\":18,\"line\":44}}}]}\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"id\":91,\"method\":\"textDocument/codeAction\",\"params\":{\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"},\"range\":{\"start\":{\"line\":29,\"character\":7},\"end\":{\"line\":29,\"character\":7}},\"context\":{\"diagnostics\":[{\"range\":{\"start\":{\"line\":29,\"character\":2},\"end\":{\"line\":29,\"character\":7}},\"severity\":2,\"code\":\"-Wunused-value\",\"source\":\"clang\",\"message\":\"Expression result unused\"}],\"only\":[\"quickfix\",\"refactor\",\"info\"]}}}\n\n// Receive:\n{\"id\":91,\"jsonrpc\":\"2.0\",\"result\":[]}\n\n// Send:\n{\"jsonrpc\":\"2.0\",\"method\":\"textDocument/didSave\",\"params\":{\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"}}}\n\n```\n<details>"
    }, {
      "numberIssue" : 38544,
      "numberCommentInIssue" : 3,
      "authorComment" : "angelator312",
      "commentText" : "> and check the clangd server message that's sent back when the completion list is broken?\n\nHow to know that?(I don't have knowledge in Language servers)"
    }, {
      "numberIssue" : 38544,
      "numberCommentInIssue" : 4,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "> How to know that?\n\nThe idea is to capture the LSP trace when the completion items are wrongly suggested.\n\nFrom the RPC logs given,\n\n```jsonc\n// Send:\n{\"jsonrpc\":\"2.0\",\"id\":89,\"method\":\"textDocument/completion\",\"params\":{\"textDocument\":{\"uri\":\"file:///home/angelator312/Documents/GitHub/cpp/arena.olimpiici/ETI-C/2017-C1-snowboard.cpp\"},\"position\":{\"line\":29,\"character\":7},\"context\":{\"triggerKind\":1}}}\n\n// Receive:\n{\"id\":89,\"jsonrpc\":\"2.0\",\"result\":{\"isIncomplete\":false,\"items\":[{\"detail\":\"int\",\"filterText\":\"flags\",\"insertText\":\"flags\",\"insertTextFormat\":1,\"kind\":6,\"label\":\" flags\",\"labelDetails\":{},\"score\":3.8475792407989502,\"sortText\":\"3f09c143flags\",\"textEdit\":{\"newText\":\"flags\",\"range\":{\"end\":{\"character\":7,\"line\":29},\"start\":{\"character\":2,\"line\":29}}}},{\"detail\":\"int\",\"filterText\":\"flags\",\"insertText\":\"flags\",\"insertTextFormat\":1,\"kind\":6,\"label\":\" flags\",\"labelDetails\":{},\"score\":2.1029930114746094,\"sortText\":\"3f796890flags\",\"textEdit\":{\"newText\":\"flags\",\"range\":{\"end\":{\"character\":7,\"line\":29},\"start\":{\"character\":2,\"line\":29}}}},{\"detail\":\"const int\",\"filterText\":\"MAX_FLAGS\",\"insertText\":\"MAX_FLAGS\",\"insertTextFormat\":1,\"kind\":6,\"label\":\" MAX_FLAGS\",\"labelDetails\":{},\"score\":1.4014962911605835,\"sortText\":\"40baab58MAX_FLAGS\",\"textEdit\":{\"newText\":\"MAX_FLAGS\",\"range\":{\"end\":{\"character\":7,\"line\":29},\"start\":{\"character\":2,\"line\":29}}}}]}}\n```\n\nis showing that the language server had returned the following completion items when last requested:\n\n<img width=\"2032\" height=\"1161\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1b73be5d-7ce0-4c97-84ca-76bdc04e4de4\" />\n\nZed knows approximately https://github.com/zed-industries/zed/tree/main/crates/languages/src/c about C and knows a similar amount of semantics about C++.\n\nThe rest is on the language server and no way Zed knows better what to suggest in this particular place within the file."
    }, {
      "numberIssue" : 38544,
      "numberCommentInIssue" : 5,
      "authorComment" : "angelator312",
      "commentText" : "Where is the issue tracker of the clangd LS?( So I can make an issue there)"
    }, {
      "numberIssue" : 38544,
      "numberCommentInIssue" : 6,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "https://github.com/clangd/clangd"
    } ]
  }, {
    "issueNumber" : 38545,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38545,
      "numberCommentInIssue" : 1,
      "authorComment" : "maxdeviant",
      "commentText" : "This doesn’t seem like the right fix for this problem, as it’s making the assumption that a custom hostname that doesn’t match any other providers is a GitLab one, when it could just as easily be any other provider."
    } ]
  }, {
    "issueNumber" : 38547,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38547,
      "numberCommentInIssue" : 1,
      "authorComment" : "lemorage",
      "commentText" : "likely a macOS 26 related issue."
    }, {
      "numberIssue" : 38547,
      "numberCommentInIssue" : 2,
      "authorComment" : "enricomilli",
      "commentText" : "have this issue on macOS 26 as well"
    }, {
      "numberIssue" : 38547,
      "numberCommentInIssue" : 3,
      "authorComment" : "boozook",
      "commentText" : "> likely a macOS 26 related issue\n\nFor me it's reproducible on macOS 15.7."
    } ]
  }, {
    "issueNumber" : 38548,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38548,
      "numberCommentInIssue" : 1,
      "authorComment" : "notpeter",
      "commentText" : "Duplicate of:\n- https://github.com/zed-industries/zed/issues/36720"
    } ]
  }, {
    "issueNumber" : 38549,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38549,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @fatelei on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38549,
      "numberCommentInIssue" : 2,
      "authorComment" : "fatelei",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38549,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38549,
      "numberCommentInIssue" : 4,
      "authorComment" : "mikayla-maki",
      "commentText" : "This PR doesn't seem to stop the buttons from being draggable, and doesn't make the whole titlebar draggable either. I'm going to close this for now, thanks for the contribution!"
    } ]
  }, {
    "issueNumber" : 38553,
    "commentsCount" : 10,
    "comments" : [ {
      "numberIssue" : 38553,
      "numberCommentInIssue" : 1,
      "authorComment" : "pjv",
      "commentText" : "Also not working on my Linux box with similar error:\n````\nLanguage server ty:\n\nfailed to spawn command. path: \"/home/pjv/.local/share/zed/languages/ty/ty-0.0.1-alpha.21/ty-x86_64-unknown-linux-gnu/ty\", working directory: \"/home/pjv/dev/f2b_cf\", args: [\"server\"]: No such file or directory (os error 2)\n````"
    }, {
      "numberIssue" : 38553,
      "numberCommentInIssue" : 2,
      "authorComment" : "a957924278",
      "commentText" : "Zed: v0.205.2 (Zed Preview) \nOS: Linux Wayland ubuntu 24.04\nMemory: 31 GiB\nArchitecture: x86_64\nGPU: Intel(R) Arc(tm) Graphics (MTL) || Intel open-source Mesa driver || Mesa 25.0.7-0ubuntu0.24.04.2\n\nStill broken too. \nHere is how i fix it temporarily:\ndownload ty from [ty](https://github.com/astral-sh/ty/releases/download/0.0.1-alpha.21/ty-x86_64-unknown-linux-gnu.tar.gz) directly and unzip it into the folder that the error reports."
    }, {
      "numberIssue" : 38553,
      "numberCommentInIssue" : 3,
      "authorComment" : "a957924278",
      "commentText" : "It seems that zed should have downloaded ty into that folder autoly, however it didn't."
    }, {
      "numberIssue" : 38553,
      "numberCommentInIssue" : 4,
      "authorComment" : "archerallstars",
      "commentText" : "Updated to Zed 0.205.4 \na588f85a41441604fdb8b785fc67f01c342a9aba\n\nHaving the same error:\n\n```\nLanguage server ty:\n\nfailed to spawn command. path: \"/home/archerallstars/distrobox/dev-dbx/.local/share/zed/languages/ty/ty-0.0.1-alpha.21/ty-x86_64-unknown-linux-gnu/ty\", working directory: \"/home/archerallstars/Documents/Binance Bots\", args: [\"server\"]: No such file or directory (os error 2)\n```\n\nZed System Specs (from CLI):\nZed: v0.205.4 (Zed) \nOS: Linux Wayland opensuse-tumbleweed 20250923\nMemory: 7.6 GiB\nArchitecture: x86_64\nGPU: <details><summary>`vulkaninfo --summary` output</summary>\n\n```\n==========\nVULKANINFO\n==========\n\nVulkan Instance Version: 1.4.321\n\n\nInstance Extensions: count = 24\n-------------------------------\nVK_EXT_acquire_drm_display             : extension revision 1\nVK_EXT_acquire_xlib_display            : extension revision 1\nVK_EXT_debug_report                    : extension revision 10\nVK_EXT_debug_utils                     : extension revision 2\nVK_EXT_direct_mode_display             : extension revision 1\nVK_EXT_display_surface_counter         : extension revision 1\nVK_EXT_headless_surface                : extension revision 1\nVK_EXT_surface_maintenance1            : extension revision 1\nVK_EXT_swapchain_colorspace            : extension revision 5\nVK_KHR_device_group_creation           : extension revision 1\nVK_KHR_display                         : extension revision 23\nVK_KHR_external_fence_capabilities     : extension revision 1\nVK_KHR_external_memory_capabilities    : extension revision 1\nVK_KHR_external_semaphore_capabilities : extension revision 1\nVK_KHR_get_display_properties2         : extension revision 1\nVK_KHR_get_physical_device_properties2 : extension revision 2\nVK_KHR_get_surface_capabilities2       : extension revision 1\nVK_KHR_portability_enumeration         : extension revision 1\nVK_KHR_surface                         : extension revision 25\nVK_KHR_surface_protected_capabilities  : extension revision 1\nVK_KHR_wayland_surface                 : extension revision 6\nVK_KHR_xcb_surface                     : extension revision 6\nVK_KHR_xlib_surface                    : extension revision 6\nVK_LUNARG_direct_driver_loading        : extension revision 1\n\nInstance Layers: count = 1\n--------------------------\nVK_LAYER_MESA_device_select Linux device selection layer 1.4.303  version 1\n\nDevices:\n========\nGPU0:\n\tapiVersion         = 1.4.318\n\tdriverVersion      = 25.2.2\n\tvendorID           = 0x8086\n\tdeviceID           = 0x5917\n\tdeviceType         = PHYSICAL_DEVICE_TYPE_INTEGRATED_GPU\n\tdeviceName         = Intel(R) UHD Graphics 620 (KBL GT2)\n\tdriverID           = DRIVER_ID_INTEL_OPEN_SOURCE_MESA\n\tdriverName         = Intel open-source Mesa driver\n\tdriverInfo         = Mesa 25.2.2\n\tconformanceVersion = 1.4.0.0\n\tdeviceUUID         = 86801759-0700-0000-0002-000000000000\n\tdriverUUID         = 28db55d6-88c0-d43a-0017-f4247d03f4dc\nGPU1:\n\tapiVersion         = 1.4.318\n\tdriverVersion      = 25.2.2\n\tvendorID           = 0x10005\n\tdeviceID           = 0x0000\n\tdeviceType         = PHYSICAL_DEVICE_TYPE_CPU\n\tdeviceName         = llvmpipe (LLVM 21.1.0, 256 bits)\n\tdriverID           = DRIVER_ID_MESA_LLVMPIPE\n\tdriverName         = llvmpipe\n\tdriverInfo         = Mesa 25.2.2 (LLVM 21.1.0)\n\tconformanceVersion = 1.3.1.1\n\tdeviceUUID         = 6d657361-3235-2e32-2e32-000000000000\n\tdriverUUID         = 6c6c766d-7069-7065-5555-494400000000\n\n```\n</details>"
    }, {
      "numberIssue" : 38553,
      "numberCommentInIssue" : 5,
      "authorComment" : "lyvwhyr",
      "commentText" : "My work around for now is installing in local project with uv and configuration changes in lsp\n\n```bash\nuv add --dev ty\n```\n\n```settings.json\n\"lsp\": {\n  \"ty\": {\n        \"binary\": {\n          \"path\": \".venv/bin/ty\",\n          \"arguments\": [\"server\"]\n        },\n        \"settings\": {\n          \"ty\": {\n            \"disableLanguageServices\": false\n          }\n        }\n      }\n}\n```"
    }, {
      "numberIssue" : 38553,
      "numberCommentInIssue" : 6,
      "authorComment" : "pjv",
      "commentText" : "It turns out that if you had tried to use `ty` in zed earlier when it was broken you have a dangling, messed up `ty` directory that you need to manually delete in order to get zed's `ty` LSP to extract properly. Once deleted, the next time you enable ty and use it, zed will properly download and extract the `ty` binary.\n\nOn macOS, the path to the directory to delete is `~/Library/Application Support/Zed/languages/ty`\n\nOn linux that path will likely depend on your distro and how you installed zed."
    }, {
      "numberIssue" : 38553,
      "numberCommentInIssue" : 7,
      "authorComment" : "dm0",
      "commentText" : "> It turns out that if you had tried to use `ty` in zed earlier when it was broken you have a dangling, messed up `ty` directory that you need to manually delete in order to get zed's `ty` LSP to extract properly. Once deleted, the next time you enable ty and use it, zed will properly download and extract the `ty` binary.\n> \n> On macOS, the path to the directory to delete is `~/Library/Application Support/Zed/languages/ty`\n> \n> On linux that path will likely depend on your distro and how you installed zed.\n\nIt didn't help on Linux. Still getting \n`\nfailed to spawn command. path: \"/home/<user>/.local/share/zed/languages/ty/ty-0.0.1-alpha.21/ty-x86_64-unknown-linux-gnu/ty\", working directory: \"<project-path>\", args: [\"server\"]: No such file or directory (os error 2)\n`"
    }, {
      "numberIssue" : 38553,
      "numberCommentInIssue" : 8,
      "authorComment" : "XavierCLL",
      "commentText" : "> It turns out that if you had tried to use `ty` in zed earlier when it was broken you have a dangling, messed up `ty` directory that you need to manually delete in order to get zed's `ty` LSP to extract properly. Once deleted, the next time you enable ty and use it, zed will properly download and extract the `ty` binary.\n> \n> On macOS, the path to the directory to delete is `~/Library/Application Support/Zed/languages/ty`\n> \n> On linux that path will likely depend on your distro and how you installed zed.\n\nI can confirm that this issue is still happening on Linux even with this workaround, please reopen"
    }, {
      "numberIssue" : 38553,
      "numberCommentInIssue" : 9,
      "authorComment" : "archerallstars",
      "commentText" : "I can confirm this issue is still happening on Linux with Zed 0.205.5 \n39de188584f3fd3d966290dfe8577d44f231c4df \n\nDeleting `~/.local/share/zed/languages/ty` and letting Zed re-downloads ty from scratch doesn't fix this issue.\n\nZed System Specs (from CLI):\nZed: v0.205.5 (Zed) \nOS: Linux Wayland opensuse-tumbleweed 20250923\nMemory: 7.6 GiB\nArchitecture: x86_64\nGPU: <details><summary>`vulkaninfo --summary` output</summary>\n\n```\n==========\nVULKANINFO\n==========\n\nVulkan Instance Version: 1.4.321\n\n\nInstance Extensions: count = 24\n-------------------------------\nVK_EXT_acquire_drm_display             : extension revision 1\nVK_EXT_acquire_xlib_display            : extension revision 1\nVK_EXT_debug_report                    : extension revision 10\nVK_EXT_debug_utils                     : extension revision 2\nVK_EXT_direct_mode_display             : extension revision 1\nVK_EXT_display_surface_counter         : extension revision 1\nVK_EXT_headless_surface                : extension revision 1\nVK_EXT_surface_maintenance1            : extension revision 1\nVK_EXT_swapchain_colorspace            : extension revision 5\nVK_KHR_device_group_creation           : extension revision 1\nVK_KHR_display                         : extension revision 23\nVK_KHR_external_fence_capabilities     : extension revision 1\nVK_KHR_external_memory_capabilities    : extension revision 1\nVK_KHR_external_semaphore_capabilities : extension revision 1\nVK_KHR_get_display_properties2         : extension revision 1\nVK_KHR_get_physical_device_properties2 : extension revision 2\nVK_KHR_get_surface_capabilities2       : extension revision 1\nVK_KHR_portability_enumeration         : extension revision 1\nVK_KHR_surface                         : extension revision 25\nVK_KHR_surface_protected_capabilities  : extension revision 1\nVK_KHR_wayland_surface                 : extension revision 6\nVK_KHR_xcb_surface                     : extension revision 6\nVK_KHR_xlib_surface                    : extension revision 6\nVK_LUNARG_direct_driver_loading        : extension revision 1\n\nInstance Layers: count = 1\n--------------------------\nVK_LAYER_MESA_device_select Linux device selection layer 1.4.303  version 1\n\nDevices:\n========\nGPU0:\n\tapiVersion         = 1.4.318\n\tdriverVersion      = 25.2.2\n\tvendorID           = 0x8086\n\tdeviceID           = 0x5917\n\tdeviceType         = PHYSICAL_DEVICE_TYPE_INTEGRATED_GPU\n\tdeviceName         = Intel(R) UHD Graphics 620 (KBL GT2)\n\tdriverID           = DRIVER_ID_INTEL_OPEN_SOURCE_MESA\n\tdriverName         = Intel open-source Mesa driver\n\tdriverInfo         = Mesa 25.2.2\n\tconformanceVersion = 1.4.0.0\n\tdeviceUUID         = 86801759-0700-0000-0002-000000000000\n\tdriverUUID         = 28db55d6-88c0-d43a-0017-f4247d03f4dc\nGPU1:\n\tapiVersion         = 1.4.318\n\tdriverVersion      = 25.2.2\n\tvendorID           = 0x10005\n\tdeviceID           = 0x0000\n\tdeviceType         = PHYSICAL_DEVICE_TYPE_CPU\n\tdeviceName         = llvmpipe (LLVM 21.1.0, 256 bits)\n\tdriverID           = DRIVER_ID_MESA_LLVMPIPE\n\tdriverName         = llvmpipe\n\tdriverInfo         = Mesa 25.2.2 (LLVM 21.1.0)\n\tconformanceVersion = 1.3.1.1\n\tdeviceUUID         = 6d657361-3235-2e32-2e32-000000000000\n\tdriverUUID         = 6c6c766d-7069-7065-5555-494400000000\n\n```\n</details>"
    }, {
      "numberIssue" : 38553,
      "numberCommentInIssue" : 10,
      "authorComment" : "derekntnguyen",
      "commentText" : "I suspect it's related to these lines: https://github.com/zed-industries/zed/blob/ae036f8eadb4cbc45f5e90ffc54b8c393871cda8/crates/languages/src/python.rs#L108-L118\n\nLooking at the related GitHub assets for `ty`, they're all targz files. \n\n<img width=\"1442\" height=\"1372\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a21bcc0e-e519-4a4f-8547-3b6eaf38f798\" />\n\nSwitching to the correct `AssetKind` like in my PR could fix this. I'm on apple silicon so I can't test this myself, but still happy to open a PR to address it."
    } ]
  }, {
    "issueNumber" : 38554,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38554,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @heysyam99 on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38554,
      "numberCommentInIssue" : 2,
      "authorComment" : "heysyam99",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38554,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38554,
      "numberCommentInIssue" : 4,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Will close it as stale, as it's been 2 weeks without any progress."
    } ]
  }, {
    "issueNumber" : 38555,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38555,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @Yxmura on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38555,
      "numberCommentInIssue" : 2,
      "authorComment" : "Yxmura",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38555,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38555,
      "numberCommentInIssue" : 4,
      "authorComment" : "dawsh2",
      "commentText" : "FYI, in case you didn't know or to anyone else reading, you can use Z.ai in Claude Code. They have a script on their website that sets it up. Then when you launch Claude in Zed, it'll use the Z.ai backend."
    }, {
      "numberIssue" : 38555,
      "numberCommentInIssue" : 5,
      "authorComment" : "bennetbo",
      "commentText" : "Seems like z.ai is OpenAI compatible, so you can use it in Zed today as described in our docs: https://zed.dev/docs/ai/llm-providers?highlight=openai#openai-api-compatible. For now we don't want to add support for more providers if we don't have to."
    } ]
  }, {
    "issueNumber" : 38556,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38556,
      "numberCommentInIssue" : 1,
      "authorComment" : "miguelraz",
      "commentText" : "I can't reproduce this locally. Is it still an issue @opsnull ?"
    }, {
      "numberIssue" : 38556,
      "numberCommentInIssue" : 2,
      "authorComment" : "opsnull",
      "commentText" : "> I can't reproduce this locally. Is it still an issue [@opsnull](https://github.com/opsnull) ?\n\nyes. the latest panic log:\n\n```\nthread 'main' (18690591) panicked at crates/rope/src/chunk.rs:392:13:\npoint Point(0:1) extends beyond row for string \"\\n\\t\\t\\t// 更新产品状态\\n\\t\\t\\tc.UpdateProductResponseForPaas(productName, genSubmitStatus(\\\"failed\\\", errMsg))\\n\\t\\t\\tproduc\"\nstack backtrace:\n   0: __rustc::rust_begin_unwind\n             at /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/std/src/panicking.rs:698:5\n   1: core::panicking::panic_fmt\n             at /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/core/src/panicking.rs:80:14\n   2: <rope::chunk::ChunkSlice>::point_to_offset\n             at ./crates/rope/src/chunk.rs:392:13\n   3: <rope::Rope>::point_to_offset::{closure#0}\n             at ./crates/rope/src/rope.rs:441:59\n   4: <core::option::Option<&rope::chunk::Chunk>>::map_or::<usize, <rope::Rope>::point_to_offset::{closure#0}>\n             at /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/core/src/option.rs:1229:24\n   5: <rope::Rope>::point_to_offset\n             at ./crates/rope/src/rope.rs:441:24\n   6: <text::BufferSnapshot>::point_to_offset\n             at ./crates/text/src/text.rs:2053:27\n   7: <multi_buffer::MultiBufferSnapshot>::convert_dimension::<rope::point::Point, multi_buffer::MultiBufferOffset, rope::point::Point, usize>\n             at ./crates/multi_buffer/src/multi_buffer.rs:4570:32\n   8: <multi_buffer::MultiBufferSnapshot>::point_to_offset\n             at ./crates/multi_buffer/src/multi_buffer.rs:4494:14\n   9: <rope::point::Point as multi_buffer::ToOffset>::to_offset\n             at ./crates/multi_buffer/src/multi_buffer.rs:8079:18\n  10: <multi_buffer::MultiBufferSnapshot>::anchor_at::<rope::point::Point>\n             at ./crates/multi_buffer/src/multi_buffer.rs:5318:31\n  11: <editor::Editor>::update_inlay_link_and_hover_points\n             at ./crates/editor/src/inlays/inlay_hints.rs:568:53\n  12: <editor::element::EditorElement>::mouse_moved\n             at ./crates/editor/src/element.rs:1357:24\n  13: <editor::element::EditorElement>::paint_mouse_listeners::{closure#4}::{closure#0}\n             at ./crates/editor/src/element.rs:7790:25\n  14: <gpui::app::App as gpui::AppContext>::update_entity::<editor::Editor, (), <editor::element::EditorElement>::paint_mouse_listeners::{closure#4}::{closure#0}>::{closure#0}\n             at ./crates/gpui/src/app.rs:2263:26\n  15: <gpui::app::App>::update::<(), <gpui::app::App as gpui::AppContext>::update_entity<editor::Editor, (), <editor::element::EditorElement>::paint_mouse_listeners::{closure#4}::{closure#0}>::{closure#0}>\n             at ./crates/gpui/src/app.rs:808:22\n  16: <gpui::app::App as gpui::AppContext>::update_entity::<editor::Editor, (), <editor::element::EditorElement>::paint_mouse_listeners::{closure#4}::{closure#0}>\n             at ./crates/gpui/src/app.rs:2261:14\n  17: <gpui::app::entity_map::Entity<editor::Editor>>::update::<(), gpui::app::App, <editor::element::EditorElement>::paint_mouse_listeners::{closure#4}::{closure#0}>\n             at ./crates/gpui/src/app/entity_map.rs:449:12\n  18: <editor::element::EditorElement>::paint_mouse_listeners::{closure#4}\n             at ./crates/editor/src/element.rs:7780:28\n  19: <gpui::window::Window>::on_mouse_event::<gpui::interactive::MouseMoveEvent, <editor::element::EditorElement>::paint_mouse_listeners::{closure#4}>::{closure#0}\n             at ./crates/gpui/src/window.rs:3587:21\n  20: <alloc::boxed::Box<dyn for<'a, 'b, 'c> core::ops::function::FnMut<(&'a dyn core::any::Any, gpui::window::DispatchPhase, &'b mut gpui::window::Window, &'c mut gpui::app::App), Output = ()>> as core::ops::function::FnMut<(&dyn core::any::Any, gpui::window::DispatchPhase, &mut gpui::window::Window, &mut gpui::app::App)>>::call_mut\n             at /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/alloc/src/boxed.rs:2012:9\n  21: <gpui::window::Window>::dispatch_mouse_event\n             at ./crates/gpui/src/window.rs:3880:17\n  22: <gpui::window::Window>::dispatch_event\n             at ./crates/gpui/src/window.rs:3835:18\n  23: <gpui::window::Window>::new::{closure#9}::{closure#0}\n             at ./crates/gpui/src/window.rs:1228:61\n  24: <gpui::app::App>::update_window_id::<gpui::window::DispatchEventResult, <gpui::window::Window>::new::{closure#9}::{closure#0}>::{closure#0}\n             at ./crates/gpui/src/app.rs:1444:26\n  25: <gpui::app::App>::update::<core::option::Option<gpui::window::DispatchEventResult>, <gpui::app::App>::update_window_id<gpui::window::DispatchEventResult, <gpui::window::Window>::new::{closure#9}::{closure#0}>::{closure#0}>\n             at ./crates/gpui/src/app.rs:808:22\n  26: <gpui::app::App>::update_window_id::<gpui::window::DispatchEventResult, <gpui::window::Window>::new::{closure#9}::{closure#0}>\n             at ./crates/gpui/src/app.rs:1438:14\n  27: <gpui::app::App as gpui::AppContext>::update_window::<gpui::window::DispatchEventResult, <gpui::window::Window>::new::{closure#9}::{closure#0}>\n             at ./crates/gpui/src/app.rs:2295:14\n  28: <gpui::app::async_context::AsyncApp as gpui::AppContext>::update_window::<gpui::window::DispatchEventResult, <gpui::window::Window>::new::{closure#9}::{closure#0}>\n             at ./crates/gpui/src/app/async_context.rs:89:14\n  29: <gpui::window::AnyWindowHandle>::update::<gpui::app::async_context::AsyncApp, gpui::window::DispatchEventResult, <gpui::window::Window>::new::{closure#9}::{closure#0}>\n             at ./crates/gpui/src/window.rs:5053:12\n  30: <gpui::window::Window>::new::{closure#9}\n             at ./crates/gpui/src/window.rs:1228:22\n  31: <alloc::boxed::Box<dyn core::ops::function::FnMut<(gpui::interactive::PlatformInput,), Output = gpui::window::DispatchEventResult>> as core::ops::function::FnMut<(gpui::interactive::PlatformInput,)>>::call_mut\n             at /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/alloc/src/boxed.rs:2012:9\n  32: gpui::platform::mac::window::synthetic_drag::{closure#0}\n             at ./crates/gpui/src/platform/mac/window.rs:2510:21\n  33: <core::pin::Pin<alloc::boxed::Box<dyn core::future::future::Future<Output = ()>>> as core::future::future::Future>::poll\n             at /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/core/src/future/future.rs:133:9\n  34: <gpui::executor::spawn_local_with_source_location::Checked<core::pin::Pin<alloc::boxed::Box<dyn core::future::future::Future<Output = ()>>>> as core::future::future::Future>::poll\n             at ./crates/gpui/src/executor.rs:772:64\n  35: <async_task::raw::RawTask<gpui::executor::spawn_local_with_source_location::Checked<core::pin::Pin<alloc::boxed::Box<dyn core::future::future::Future<Output = ()>>>>, (), <gpui::executor::ForegroundExecutor>::spawn_with_priority::inner<()>::{closure#0}, gpui::platform::RunnableMeta>>::run\n             at /Users/alizj/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-task-4.7.1/src/raw.rs:557:17\n  36: <async_task::runnable::Runnable<gpui::platform::RunnableMeta>>::run\n             at /Users/alizj/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-task-4.7.1/src/runnable.rs:781:18\n  37: gpui::platform::mac::dispatcher::trampoline\n             at ./crates/gpui/src/platform/mac/dispatcher.rs:275:10\n  38: <unknown>\n  39: <unknown>\n  40: <unknown>\n  41: <unknown>\n  42: <unknown>\n  43: <unknown>\n  44: <unknown>\n  45: <unknown>\n  46: <unknown>\n  47: <unknown>\n  48: <unknown>\n  49: <unknown>\n  50: <unknown>\n  51: <unknown>\n  52: <unknown>\n  53: <() as objc::message::MessageArguments>::invoke::<()>\n             at /Users/alizj/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/objc-0.2.7/src/message/mod.rs:128:17\n  54: objc::message::platform::send_unverified::<objc::runtime::Object, (), ()>\n             at /Users/alizj/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/objc-0.2.7/src/message/apple/mod.rs:27:9\n  55: objc::message::send_message::<objc::runtime::Object, (), ()>\n             at /Users/alizj/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/objc-0.2.7/src/message/mod.rs:178:5\n  56: <*mut objc::runtime::Object as cocoa::appkit::NSApplication>::run\n             at /Users/alizj/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cocoa-0.26.0/src/appkit.rs:628:9\n  57: <gpui::platform::mac::platform::MacPlatform as gpui::platform::Platform>::run\n             at ./crates/gpui/src/platform/mac/platform.rs:479:17\n  58: <gpui::app::Application>::run::<zed::main::{closure#9}>\n             at ./crates/gpui/src/app.rs:188:18\n  59: zed::main\n             at ./crates/zed/src/main.rs:415:9\n  60: <fn() as core::ops::function::FnOnce<()>>::call_once\n             at /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/core/src/ops/function.rs:250:5\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\n```\n\nzed:\n\n```\nZed: v0.219.0+dev.ca478226677e5f7190a5d8933277522780faaaf7 (Zed Dev ca478226677e5f7190a5d8933277522780faaaf7) (Taylor's Version)\nOS: macOS 26.2\nMemory: 18 GiB\nArchitecture: aarch64\n```"
    }, {
      "numberIssue" : 38556,
      "numberCommentInIssue" : 3,
      "authorComment" : "sourcefrog",
      "commentText" : "Thanks! Could you attach a small file in which the problem can be reproduced?"
    } ]
  }, {
    "issueNumber" : 38558,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38558,
      "numberCommentInIssue" : 1,
      "authorComment" : "Anthony-Eid",
      "commentText" : "Could you please paste the first couple of lines of the markdown file you were editing when the panic occurred? I'm having trouble reproducing the panic and that would help a lot"
    }, {
      "numberIssue" : 38558,
      "numberCommentInIssue" : 2,
      "authorComment" : "opsnull",
      "commentText" : "> Could you please paste the first couple of lines of the markdown file you were editing when the panic occurred? I'm having trouble reproducing the panic and that would help a lot\n\nhere you are:\n\n```text\n# impl Trait\n\n可以在函数的输入参数或返回值位置使用 `impl Trait` 类型，它是编译器在编译阶段自动生成实现 Trait 的匿名类型（opaque type），属于静态分发类型。\n\n它的主要使用场景是简化泛型参数约束的复杂性，如函数返回一个复杂的多种嵌套迭代器时，该类型可能只有编译器才能准确写出来，这时可以用 `impl TraitName` 来简\n化 返回参数类型。\n\n如将 `iter::Cycle<iter::Chain<IntoIter<i32>, IntoIter<i32>>>` 简化为 `impl Iterator<Item=i32>` 。\n```\n\nBTW: I have changed the markdown file content, but now I can't reproduce panic using above lines."
    } ]
  }, {
    "issueNumber" : 38562,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38562,
      "numberCommentInIssue" : 1,
      "authorComment" : "driftcell",
      "commentText" : "So can I make it the same as the edit file display component to keep the consistency, and I think if I add a\r\n\r\n```bash\r\ncommand here\r\n```\r\n\r\nwould be better.\r\n"
    }, {
      "numberIssue" : 38562,
      "numberCommentInIssue" : 2,
      "authorComment" : "benbrandt",
      "commentText" : "Handled by https://github.com/zed-industries/zed/pull/38747\r\n\r\nThanks for taking a look!"
    } ]
  }, {
    "issueNumber" : 38564,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38564,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @atomkernel0 on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38564,
      "numberCommentInIssue" : 2,
      "authorComment" : "atomkernel0",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38564,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38564,
      "numberCommentInIssue" : 4,
      "authorComment" : "maxdeviant",
      "commentText" : "We already build on Rust stable, so this seems like something specific to your environment.\r\n\r\n> Built successfully on stable:\r\n> \r\n> * rustc 1.88.0 (6b00bc388 2025-06-23), LLVM 19.1.4\r\n\r\nI see you're building with Rust 1.88, but we have Rust 1.89 in our `rust-toolchain.toml`: https://github.com/zed-industries/zed/blob/ffa23d25e315eda8079664fb8fe2d8618003ef4b/rust-toolchain.toml#L2\r\n\r\nWhat happens if you build on Rust 1.89?\r\n\r\nEdit: It looks like `feature(generic_arg_infer)` was stabilized in Rust 1.89: https://releases.rs/docs/1.89.0/:\r\n\r\n> - [Stabilize explicitly inferred const arguments (`feature(generic_arg_infer)`)](https://github.com/rust-lang/rust/pull/141610)"
    }, {
      "numberIssue" : 38564,
      "numberCommentInIssue" : 5,
      "authorComment" : "maxdeviant",
      "commentText" : "Going to close this, as the feature has been stabilized in Rust 1.89, and that is the minimum version of Rust we support building Zed with."
    } ]
  }, {
    "issueNumber" : 38565,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38565,
      "numberCommentInIssue" : 1,
      "authorComment" : "nithinbull",
      "commentText" : "The Gemini Cli refused to show the reauthorise prompt in an remote dev environment after update. Removing the .gemini folder fixed it.\r\n\r\n```bash\r\nrm -rf ~/.gemini\r\n```"
    } ]
  }, {
    "issueNumber" : 38567,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38567,
      "numberCommentInIssue" : 1,
      "authorComment" : "zxy198717",
      "commentText" : "@cole-miller Could you help to look into this issue? https://github.com/zed-industries/zed/issues/38697"
    } ]
  }, {
    "issueNumber" : 38570,
    "commentsCount" : 7,
    "comments" : [ {
      "numberIssue" : 38570,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @bluetech on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38570,
      "numberCommentInIssue" : 2,
      "authorComment" : "bluetech",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38570,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @bluetech on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38570,
      "numberCommentInIssue" : 4,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38570,
      "numberCommentInIssue" : 5,
      "authorComment" : "bluetech",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38570,
      "numberCommentInIssue" : 6,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38570,
      "numberCommentInIssue" : 7,
      "authorComment" : "ConradIrwin",
      "commentText" : "Thanks! "
    } ]
  }, {
    "issueNumber" : 38571,
    "commentsCount" : 30,
    "comments" : [ {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 1,
      "authorComment" : "olivier-lacroix",
      "commentText" : "Same here when connecting to WSL from Zed on windows (beta release)"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 2,
      "authorComment" : "franciskafyi",
      "commentText" : "Thank you for surfacing this, we'll take a look!"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 3,
      "authorComment" : "bennetbo",
      "commentText" : "@raaphhh This should work out of the box. I cannot reproduce on my machine (macOS). Can you give some more information about your setup (Connecting from macOS to ?). Is there something special about your repository? Are you using git worktrees? Do you see any errors/warnings in your Zed logs?"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 4,
      "authorComment" : "raaphhh",
      "commentText" : "> [@raaphhh](https://github.com/raaphhh) This should work out of the box. I cannot reproduce on my machine (macOS). Can you give some more information about your setup (Connecting from macOS to ?). Is there something special about your repository? Are you using git worktrees? Do you see any errors/warnings in your Zed logs?\n\n@bennetbo Well I am able to connect to the server, it's just that it doesn't recognize my git repo in the UI.\n\n```sh\nds423plus% cd /volume2/docker/compose\nds423plus% ls -la\ntotal 16\ndrwxrwxrwx+ 1 raphh docker   94 Sep 21 07:55 .\ndrwxrwxrwx+ 1 raphh docker  164 Sep 25 08:05 ..\n-rwxrwxrwx+ 1 raphh docker 6148 Sep 29 19:58 .DS_Store\ndrwxrwxrwx+ 1 raphh users   212 Sep 25 16:49 .git\n-rwxrwxrwx+ 1 raphh users    15 Sep 21 07:55 .gitignore\n-rwxrwxrwx+ 1 raphh users  1905 Sep 21 07:55 README.md\ndrwxrwxrwx+ 1 raphh users    28 Sep  5 14:39 scripts\ndrwxrwxrwx+ 1 raphh docker  158 Sep  5 14:40 services\nds423plus% git status\nOn branch main\nYour branch is up to date with 'origin/main'.\n```\n\nThe git repo seems to be recognized fine in the terminal though. \n\n> Connecting from macOS to ?\n\nServer is a synology NAS.\n\n> Are you using git worktrees\n\nNo\n\n"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 5,
      "authorComment" : "cole-miller",
      "commentText" : "@olivier-lacroix When you see this problem in a WSL project, is there any information in your Zed log that looks relevant? Are you able to run `git status` in your project's folder from a WSL shell?"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 6,
      "authorComment" : "olivier-lacroix",
      "commentText" : "@cole-miller looking at the logs, it seems zed cannot find the git binary\n\n```\nINFO  [zed] Using git binary path: None\n```\n\ngit is properly found in zed integrated terminal\n\n```\n❯ which git\n/home/olacroix/.pixi/bin/git\n```\n\nso maybe it's a question of PATH resolution rather than an issue with zed in my case?\n\nEDIT: I can confirm that not relying on pixi-installed git but on apt-get-installed version solves the issue."
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 7,
      "authorComment" : "cole-miller",
      "commentText" : "@olivier-lacroix Thanks for the information. That log is expected, it just means we're not using a bundled git binary (which we never do for Linux or Windows). But it's good to know that installing git using a different method fixes the issue for you! Which WSL distro are you using, and did you do anything special to get pixi set up?"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 8,
      "authorComment" : "olivier-lacroix",
      "commentText" : "WSL distro is Debian.\n\nNothing specific to get pixi set up, just using their install script `curl -fsSL https://pixi.sh/install.sh | sh`. that script adds a line that updates the path in `.bashrc`. I assume that zed does not see that modification, hence the issue?"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 9,
      "authorComment" : "cole-miller",
      "commentText" : "@olivier-lacroix The intention is that we should pick that up (we spawn a login shell to get the right value of `$PATH` and other variables)--it could be that something is not working in that environment loading code on WSL. We'll try to reproduce this and figure out where the bug is."
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 10,
      "authorComment" : "olivier-lacroix",
      "commentText" : "@cole-miller ah okay! let me know if I can help in any way.\n\nThis is what I have at the bottom of my `.bashrc`:\n\n\n```\nexport PATH=\"/home/olacroix/.pixi/bin:$PATH\"\n\neval \"$(starship init bash)\"\n```"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 11,
      "authorComment" : "bennetbo",
      "commentText" : "@raaphhh Thanks for the pointers. To diagnose this further two things would be interesting:\n\n1. Are you able to reproduce this on the same machine in another git project?\n2. Do you see any errors/warnings in the zed logs?"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 12,
      "authorComment" : "raaphhh",
      "commentText" : "@bennetbo : \n\n> 1. Are you able to reproduce this on the same machine in another git project?\n\nI can access git projects with Zed from my local machine without any issue.\nIf you are talking about other remote git projects on my Synology NAS, this I haven't tested because I don't have any other ones.\n\n> 2. Do you see any errors/warnings in the zed logs?\n\nNot sure where the Zed logs are, but if it's the Diagnostics tab there is nothing there."
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 13,
      "authorComment" : "bennetbo",
      "commentText" : "You can access to the logs from the command palette (cmd-shift-p) -> `zed: open log`.\n\n>  can access git projects with Zed from my local machine without any issue.\nIf you are talking about other remote git projects on my Synology NAS, this I haven't tested because I don't have any other ones\n\nYeah I was talking about remote projects. Trying to find out if either:\n\n1. There are problems with us finding/using the git binary on your remote machine\n2. The git repository in this specific project is somehow \"special\""
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 14,
      "authorComment" : "raaphhh",
      "commentText" : "@bennetbo : \n\n```\n2025-10-01T18:29:54+02:00 ERROR [remote::remote_client] client:unhandled ssh message name:UpdateProject\n2025-10-01T18:29:54+02:00 INFO  [extension_host] Uploading extension docker-compose\n2025-10-01T18:29:55+02:00 ERROR [extension_host] failed to upload directory /var/folders/vc/brlvj_0j7xscygl842npzjrw0000gn/T/.tmpCKC3OM -> /var/services/homes/raphh/.local/share/zed/remote_extensions/uploads/docker-compose: scp: stat remote: No such file or directory\nscp: failed to upload directory /var/folders/vc/brlvj_0j7xscygl842npzjrw0000gn/T/.tmpCKC3OM to /var/services/homes/raphh/.local/share/zed/remote_extensions/uploads/docker-compose\n\n2025-10-01T18:29:56+02:00 INFO  [extension_host] rebuilt extension index in 674.103875ms\n2025-10-01T18:29:56+02:00 INFO  [extension_host] extensions updated. loading 0, reloading 1, unloading 0\n2025-10-01T18:29:56+02:00 ERROR [project::environment] (remote server) Failed to load environment variables. See log for details\n2025-10-01T18:29:56+02:00 ERROR [project::git_store] (remote server) failed to get working directory environment for repository \"/volume2/docker/compose\"\n2025-10-01T18:29:58+02:00 WARN  [agent_servers::acp] agent stderr: Pseudo-terminal will not be allocated because stdin is not a terminal.\n```"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 15,
      "authorComment" : "raaphhh",
      "commentText" : "@bennetbo : \n\nI created a dummy repo and tried to connect to it :\n\n```\n2025-10-01T18:50:23+02:00 ERROR [remote::remote_client] client:unhandled ssh message name:UpdateProject\n2025-10-01T18:50:24+02:00 ERROR [project::environment] (remote server) Failed to load environment variables. See log for details\n2025-10-01T18:50:24+02:00 ERROR [project::git_store] (remote server) failed to get working directory environment for repository \"/volume1/documents/test-repo\"\n2025-10-01T18:50:24+02:00 INFO  [extension_host] Uploading extension html\n2025-10-01T18:50:26+02:00 ERROR [extension_host] failed to upload directory /var/folders/vc/brlvj_0j7xscygl842npzjrw0000gn/T/.tmpb063OL -> /var/services/homes/raphh/.local/share/zed/remote_extensions/uploads/html: scp: stat remote: No such file or directory\nscp: failed to upload directory /var/folders/vc/brlvj_0j7xscygl842npzjrw0000gn/T/.tmpb063OL to /var/services/homes/raphh/.local/share/zed/remote_extensions/uploads/html\n```\n\n```\nds423plus% git status\nOn branch master\n\nNo commits yet\n\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\ttest\n\nnothing added to commit but untracked files present (use \"git add\" to track)\nds423plus% pwd\n/volume1/documents/test-repo\n```\n\nSo it's again this error : \n> ERROR [project::git_store] (remote server) failed to get working directory environment for repository"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 16,
      "authorComment" : "bennetbo",
      "commentText" : "Thank you for debugging. It's definitely not a git repo specific issue. We are getting an error somewhere in `shell_env::capture(...)` when trying to read `$SHELL` from your environment."
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 17,
      "authorComment" : "cole-miller",
      "commentText" : "@raaphhh Thanks for your patience, a couple more questions if you don't mind:\n\n- Where/how is git installed on the remote side?\n- Can you run `zed --printenv` successfully in a shell on the NAS?\n- Could you share the logs you see if you first open one NAS folder as a remote project, wait a second or two, and then add one of those repos as a second folder to the project? It seems like we are missing some logs that I expect to see from the remote server in the event that shell environment loading fails, and I wonder if they are getting swallowed because we initialize the git repository too early in the remote server's lifecycle.\n- Finally, I'm curious if this clears up if you run Zed Preview (the current v0.208.x release).\n\nNormally, failing to load the shell environment shouldn't prevent us from detecting a git repository, running git status, etc. So there may be two separate bugs here."
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 18,
      "authorComment" : "raaphhh",
      "commentText" : "@cole-miller : \n\n> Where/how is git installed on the remote side?\n\n❯ which git\n/home/linuxbrew/.linuxbrew/bin/git\n\n> Can you run zed --printenv successfully in a shell on the NAS?\n\nCan you tell me how to install zed CLI on the NAS? \nI'm able to run this on my local machine but it seems the CLI isn't available on the NAS (maybe part of the issue?)\n\n> Could you share the logs you see if you first open one NAS folder as a remote project, wait a second or two, and then add one of those repos as a second folder to the project? It seems like we are missing some logs that I expect to see from the remote server in the event that shell environment loading fails, and I wonder if they are getting swallowed because we initialize the git repository too early in the remote server's lifecycle.\n\n[zed-logs.txt](https://github.com/user-attachments/files/22792133/zed-logs.txt)\n\n> Finally, I'm curious if this clears up if you run Zed Preview (the current v0.208.x release).\n\nProblem is still present.\n"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 19,
      "authorComment" : "raaphhh",
      "commentText" : "@cole-miller I'm using zsh\r\n\r\nOn Fri, 17 Oct 2025 at 19:10, Cole Miller ***@***.***> wrote:\r\n\r\n> *cole-miller* left a comment (zed-industries/zed#38571)\r\n> <https://github.com/zed-industries/zed/issues/38571#issuecomment-3416396310>\r\n>\r\n> @raaphhh <https://github.com/raaphhh> Thanks, that narrows it down--which\r\n> shell are you using on the remote side?\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/zed-industries/zed/issues/38571#issuecomment-3416396310>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AIBBKHALPBOXV22M36RJNED3YEPI7AVCNFSM6AAAAACHBWIVVSVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZTIMJWGM4TMMZRGA>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>\r\n"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 20,
      "authorComment" : "cole-miller",
      "commentText" : "Thanks! Which shell are you using on the remote side? It seems like your git binary is installed in a location that won't be on $PATH by default, so when we fail to load your login shell environment (which should have the right $PATH in it) that prevents us from finding a git binary, causing us to fail to initialize the repository for `/volume2/docker/appdata/github-runner/work/homelab/homelab`. So indeed this most likely comes down to a bug in how we load the environment for your setup.\n\nThere is also this:\n\n```\n2025-10-09T09:12:14+02:00 ERROR [git] (remote server) Error { code: -36, klass: 7, message: \"repository path '/volume2/docker/appdata/profilarr/db' is not owned by current user\" }\n```\n\nwhich is a libgit2 error that comes from the first directory you tried to open in the remote project, and would also prevent us from initializing a repository, but it seems like that doesn't apply to `/volume2/docker/appdata/github-runner/work/homelab/homelab`?"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 21,
      "authorComment" : "raaphhh",
      "commentText" : "@cole-miller Yeah both `/volume2/docker/appdata/github-runner/work/homelab/homelab` and `/volume2/docker/appdata/profilarr/db` are like sub repositories from different services within the appdata folder. The main repository I'm tracking and I'd like to see in Zed is `/volume2/docker/compose`."
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 22,
      "authorComment" : "cole-miller",
      "commentText" : "@raaphhh Thanks, could you try again after quitting Zed and launching it from the command line with `RUST_LOG=info zed ssh://you@remote/volume2/docker/compose`?"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 23,
      "authorComment" : "raaphhh",
      "commentText" : "@cole-miller I just did it and here are the logs from diagnostics : \n\n```\n2025-10-20T17:33:39+02:00 INFO  [remote::remote_client] shutting down ssh processes\n2025-10-20T17:33:54+02:00 INFO  [zed] ========== starting zed version 0.208.5, sha 161d1d1 ==========\n2025-10-20T17:33:54+02:00 INFO  [crashes] spawning crash handler process\n2025-10-20T17:33:54+02:00 INFO  [zed] Using git binary path: Some(\"/Applications/Zed.app/Contents/MacOS/git\")\n2025-10-20T17:33:54+02:00 INFO  [extension_host] extensions updated. loading 13, reloading 0, unloading 0\n2025-10-20T17:33:54+02:00 INFO  [crashes] connected to crash handler process after 100ms\n2025-10-20T17:33:54+02:00 INFO  [crashes] crash handler registered\n2025-10-20T17:33:54+02:00 INFO  [auto_update] Auto Update: checking for updates\n2025-10-20T17:33:54+02:00 INFO  [zed_util] set environment variables from shell:/bin/zsh, path:/opt/homebrew/bin:/opt/homebrew/sbin:/Users/raphaelgrau/.local/bin:/Users/raphaelgrau/.local/share/zinit/polaris/bin:/Users/raphaelgrau/.nix-profile/bin:/run/current-system/sw/bin:/nix/var/nix/profiles/default/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\n2025-10-20T17:33:55+02:00 INFO  [project::environment] using project environment variables shell launched in \"/Users/raphaelgrau\". PATH=\"/opt/homebrew/bin:/opt/homebrew/sbin:/Users/raphaelgrau/.local/bin:/Users/raphaelgrau/.local/share/zinit/polaris/bin:/Users/raphaelgrau/.nix-profile/bin:/run/current-system/sw/bin:/nix/var/nix/profiles/default/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\"\n2025-10-20T17:33:55+02:00 INFO  [node_runtime] using Node.js found on PATH: SystemNodeRuntime { node: \"/opt/homebrew/bin/node\", npm: \"/opt/homebrew/bin/npm\", global_node_modules: \"/opt/homebrew/lib/node_modules\\n\", scratch_dir: \"/Users/raphaelgrau/Library/Application Support/Zed/node\" }\n2025-10-20T17:33:55+02:00 INFO  [agent_servers::acp] Spawning external agent server: \"/opt/homebrew/bin/node\", [\"/Users/raphaelgrau/Library/Application Support/Zed/external_agents/claude-code-acp/0.6.7/node_modules/@zed-industries/claude-code-acp/dist/index.js\"]\n2025-10-20T17:33:55+02:00 ERROR [remote::remote_client] client:unhandled ssh message name:UpdateProject\n2025-10-20T17:33:55+02:00 WARN  [agent_servers::acp] agent stderr: Spawning Claude Code process: /opt/homebrew/Cellar/node/24.10.0/bin/node /Users/raphaelgrau/Library/Application Support/Zed/external_agents/claude-code-acp/0.6.7/node_modules/@anthropic-ai/claude-agent-sdk/cli.js --output-format stream-json --verbose --input-format stream-json --permission-prompt-tool mcp__acpPermission__permission --allowedTools mcp__acp__Read,mcp__acp__BashOutput,mcp__acp__KillShell --disallowedTools Read,Write,Edit,Bash,BashOutput,KillShell --mcp-config {\"mcpServers\":{\"acp\":{\"type\":\"sdk\",\"name\":\"acp\"},\"acpPermission\":{\"type\":\"http\",\"url\":\"http://127.0.0.1:58165/mcp\",\"headers\":{\"x-acp-proxy-session-id\":\"019a0241-7447-71f9-ba18-8c302b35a160\"}}}} --setting-sources user,project,local --permission-mode bypassPermissions --include-partial-messages\n\n2025-10-20T17:33:55+02:00 INFO  [extension_host] Uploading extension html\n2025-10-20T17:33:55+02:00 ERROR [extension_host::extension_host] failed to upload directory /var/folders/vc/brlvj_0j7xscygl842npzjrw0000gn/T/.tmpCM0Gb7 -> /var/services/homes/raphh/.local/share/zed/remote_extensions/uploads/html: scp: stat remote: No such file or directory\nscp: failed to upload directory /var/folders/vc/brlvj_0j7xscygl842npzjrw0000gn/T/.tmpCM0Gb7 to /var/services/homes/raphh/.local/share/zed/remote_extensions/uploads/html\n\n2025-10-20T17:33:55+02:00 INFO  [agent_servers::acp] Spawning external agent server: \"ssh\", [\"-o\", \"ControlMaster=no\", \"-o\", \"ControlPath=/var/folders/vc/brlvj_0j7xscygl842npzjrw0000gn/T/zed-ssh-session0WCXWK/ssh.sock\", \"ssh://raphh@ds423plus\", \"-t\", \"cd \\\"/volume2/docker/compose\\\" && exec env ANTHROPIC_API_KEY='' /var/services/homes/raphh/.local/share/zed/node/node-v22.5.1-linux-x64/bin/node /var/services/homes/raphh/.local/share/zed/external_agents/claude-code-acp/0.6.7/node_modules/@zed-industries/claude-code-acp/dist/index.js\"]\n2025-10-20T17:33:55+02:00 WARN  [agent_servers::acp] agent stderr: Pseudo-terminal will not be allocated because stdin is not a terminal.\n\n2025-10-20T17:33:56+02:00 WARN  [agent_servers::acp] agent stderr: Spawning Claude Code process: /volume1/homes/raphh/.local/share/zed/node/node-v22.5.1-linux-x64/bin/node /volume1/homes/raphh/.local/share/zed/external_agents/claude-code-acp/0.6.7/node_modules/@anthropic-ai/claude-agent-sdk/cli.js --output-format stream-json --verbose --input-format stream-json --permission-prompt-tool mcp__acpPermission__permission --allowedTools mcp__acp__Read,mcp__acp__BashOutput,mcp__acp__KillShell --disallowedTools Read,Write,Edit,Bash,BashOutput,KillShell --mcp-config {\"mcpServers\":{\"acp\":{\"type\":\"sdk\",\"name\":\"acp\"},\"acpPermission\":{\"type\":\"http\",\"url\":\"http://127.0.0.1:37573/mcp\",\"headers\":{\"x-acp-proxy-session-id\":\"019a0241-7823-70f8-b15e-53e8853c4baa\"}}}} --setting-sources user,project,local --permission-mode bypassPermissions --include-partial-messages\n\n2025-10-20T17:33:56+02:00 INFO  [extension_host] rebuilt extension index in 746.359084ms\n2025-10-20T17:33:56+02:00 INFO  [extension_host] extensions updated. loading 0, reloading 1, unloading 0\n```"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 24,
      "authorComment" : "cole-miller",
      "commentText" : "@raaphhh Thanks, can you try once more the same steps as [here](https://github.com/zed-industries/zed/issues/38571#issuecomment-3384533487) but using the latest stable (v0.208.6) (and without setting RUST_LOG)? We've adjusted the logging a bit in that release so that we can hopefully see the errors from environment loading."
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 25,
      "authorComment" : "raaphhh",
      "commentText" : "@cole-miller here you go : \n\n```\n\n2025-10-21T17:29:19+02:00 INFO  [extension_host] rebuilt extension index in 689.434ms\n2025-10-21T17:29:19+02:00 INFO  [extension_host] extensions updated. loading 0, reloading 1, unloading 0\n2025-10-21T17:29:20+02:00 INFO  [remote_server::unix] (remote server) Got new node settings: NodeBinarySettings { path: None, npm_path: None, ignore_system_version: false }\n2025-10-21T17:29:20+02:00 WARN  [util::util] (remote server) Failed to deserialize environment variables from json\n\nCaused by:\n    EOF while parsing a value at line 1 column 0\n2025-10-21T17:29:20+02:00 ERROR [remote_server::unix] (remote server) Failed to deserialize environment variables from json\n\nCaused by:\n    EOF while parsing a value at line 1 column 0\n2025-10-21T17:29:20+02:00 ERROR [project::environment] (remote server) Failed to load environment variables. See log for details\n2025-10-21T17:29:20+02:00 ERROR [project::git_store] (remote server) failed to get working directory environment for repository \"/volume2/docker/compose\"\n2025-10-21T17:29:20+02:00 INFO  [node_runtime] (remote server) Node runtime install_if_needed\n2025-10-21T17:29:20+02:00 ERROR [project::git_store] (remote server) opening repository at \"/volume2/docker/compose/.git\"\n2025-10-21T17:29:22+02:00 INFO  [node_runtime] (remote server) using Zed managed Node.js at /var/services/homes/raphh/.local/share/zed/node/node-v22.5.1-linux-x64 since system Node.js wasn't found on PATH: cannot find binary path\n2025-10-21T17:29:22+02:00 INFO  [agent_servers::acp] Spawning external agent server: \"ssh\", [\"-o\", \"ControlMaster=no\", \"-o\", \"ControlPath=/var/folders/vc/brlvj_0j7xscygl842npzjrw0000gn/T/zed-ssh-sessiony1qxD4/ssh.sock\", \"ssh://ds423plus\", \"-t\", \"cd \\\"/volume2/docker/compose\\\" && exec env ANTHROPIC_API_KEY='' /var/services/homes/raphh/.local/share/zed/node/node-v22.5.1-linux-x64/bin/node /var/services/homes/raphh/.local/share/zed/external_agents/claude-code-acp/0.6.7/node_modules/@zed-industries/claude-code-acp/dist/index.js\"]\n2025-10-21T17:29:22+02:00 WARN  [agent_servers::acp] agent stderr: Pseudo-terminal will not be allocated because stdin is not a terminal.\n\n2025-10-21T17:29:25+02:00 WARN  [agent_servers::acp] agent stderr: Spawning Claude Code process: /volume1/homes/raphh/.local/share/zed/node/node-v22.5.1-linux-x64/bin/node /volume1/homes/raphh/.local/share/zed/external_agents/claude-code-acp/0.6.7/node_modules/@anthropic-ai/claude-agent-sdk/cli.js --output-format stream-json --verbose --input-format stream-json --permission-prompt-tool mcp__acpPermission__permission --allowedTools mcp__acp__Read,mcp__acp__BashOutput,mcp__acp__KillShell --disallowedTools Read,Write,Edit,Bash,BashOutput,KillShell --mcp-config {\"mcpServers\":{\"acp\":{\"type\":\"sdk\",\"name\":\"acp\"},\"acpPermission\":{\"type\":\"http\",\"url\":\"http://127.0.0.1:43117/mcp\",\"headers\":{\"x-acp-proxy-session-id\":\"019a0763-b21f-75b6-85c6-9f4efd3d80d7\"}}}} --setting-sources user,project,local --permission-mode bypassPermissions --include-partial-messages\n\n2025-10-21T17:29:46+02:00 ERROR [workspace::workspace] Canceled\n2025-10-21T17:30:36+02:00 ERROR [remote::remote_client] (remote server) server:error handling message. type:OpenBufferByPath, error:Is a directory (os error 21)\n2025-10-21T17:30:36+02:00 ERROR [workspace::workspace] opening project path \"/volume2/docker/compose-test\"\n\nCaused by:\n    RPC request OpenBufferByPath failed: Is a directory (os error 21)\n```"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 26,
      "authorComment" : "cole-miller",
      "commentText" : "Thanks, getting close to the root cause here, can you run this command on the NAS and report what it outputs?\n\n```\nzsh -l -i -c \"cd '/volume2/docker/compose';'/volume2/docker/compose/.zed_server/BINARY' --printenv >&0\"\n```\n\nWhere the value of `BINARY` will depend on what version of Zed you're using but should be something like `zed-remote-server-stable-0.208.6`.\n\n(Or with `bash` instead of `zsh` if you don't use zsh on the NAS)"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 27,
      "authorComment" : "raaphhh",
      "commentText" : "@cole-miller the `.zed_server` folder is created in `~/`, not in the project's folder.\n\n```sh\n❯ cd .zed_server\n❯ ls -la\ntotal 150440\ndrwxr-xr-x  1 raphh users      142 Oct 21 17:29 .\ndrwxr-xr-x  1 raphh users      982 Oct 22 10:14 ..\ndrwxrwxrwx+ 1 root  users       90 Sep 29 20:00 @eaDir\n-rwxr-xr-x  1 raphh users 76940208 Oct  9 09:27 zed-remote-server-preview-0.208.1\n-rwxr-xr-x  1 raphh users 77104088 Oct 21 17:29 zed-remote-server-stable-0.208.6\n❯ pwd\n/var/services/homes/raphh/.zed_server\n```\n\nSo obviously this doesn't work : \n\n```sh\n❯ zsh -l -i -c \"cd '/volume2/docker/compose';'/volume2/docker/compose/.zed_server/zed-remote-server-stable-0.208.6' --printenv >&0\"\nzsh:1: no such file or directory: /volume2/docker/compose/.zed_server/zed-remote-server-stable-0.208.6\n```\n\n\nHere are the `--printenv` from the home directory : \n\n```sh\n❯ zsh -l -i -c \"cd ~/.zed_server; ./zed-remote-server-stable-0.208.6 --printenv >&0\"\n\n{\n  \"SSH_TTY\": \"/dev/pts/5\",\n  \"TMUX_PLUGIN_MANAGER_PATH\": \"/var/services/homes/raphh/.config/tmux/plugins/\",\n  \"ZLE_RPROMPT_INDENT\": \"0\",\n  \"SSH_CLIENT\": \"10.10.1.201 62464 22\",\n  \"ZSH_CACHE_DIR\": \"/var/services/homes/raphh/.cache/zinit\",\n  \"POWERLINE_COMMAND\": \"oh-my-posh\",\n  \"HOMEBREW_REPOSITORY\": \"/home/linuxbrew/.linuxbrew/Homebrew\",\n  \"TERMINFO\": \"/home/linuxbrew/.linuxbrew/share/terminfo\",\n  \"POSH_SHELL_VERSION\": \"5.9\",\n  \"SSH_CONNECTION\": \"10.10.1.201 59118 10.10.2.2 22\",\n  \"TMUX_PANE\": \"%9\",\n  \"LC_ALL\": \"en_US.utf8\",\n  \"VIRTUAL_ENV_DISABLE_PROMPT\": \"1\",\n  \"_\": \"/var/services/homes/raphh/.zed_server/./zed-remote-server-stable-0.208.6\",\n  \"ZPFX\": \"/var/services/homes/raphh/.local/share/zinit/polaris\",\n  \"LDFLAGS\": \"-L//var/services/homes/raphh/linuxbrew/.linuxbrew/opt/glibc/lib\",\n  \"PGDATA\": \"/var/services/pgsql\",\n  \"POSH_SESSION_ID\": \"2744edef-ef34-4620-aacd-519108b2031b\",\n  \"TMUX\": \"/tmp/tmux-1026/default,14437,2\",\n  \"OLDPWD\": \"/var/services/homes/raphh/.zed_server\",\n  \"SHELL\": \"/home/linuxbrew/.linuxbrew/bin/zsh\",\n  \"INFOPATH\": \"/home/linuxbrew/.linuxbrew/share/info:/home/linuxbrew/.linuxbrew/share/info:/home/linuxbrew/.linuxbrew/share/info:\",\n  \"PMSPEC\": \"0uUpiPsf\",\n  \"SHLVL\": \"2\",\n  \"OSTYPE\": \"linux-gnu\",\n  \"PAGER\": \"more\",\n  \"PYENV_VIRTUALENV_DISABLE_PROMPT\": \"1\",\n  \"USER\": \"raphh\",\n  \"TERM\": \"tmux-256color\",\n  \"LOGNAME\": \"raphh\",\n  \"PATH\": \"/var/services/homes/raphh/.local/bin:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/usr/local/bin:/usr/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/var/services/homes/raphh/.local/bin:/var/services/homes/raphh/.local/bin:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/usr/local/bin:/usr/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/var/services/homes/raphh/.local/bin:/var/services/homes/raphh/.local/share/zinit/polaris/bin:/var/services/homes/raphh/.local/bin:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/var/services/homes/raphh/linuxbrew/.linuxbrew/bin:/var/services/homes/raphh/linuxbrew/.linuxbrew/sbin:/var/services/homes/raphh/linuxbrew/.linuxbrew/opt/binutils/bin:/var/services/homes/raphh/linuxbrew/.linuxbrew/opt/glibc/bin:/var/services/homes/raphh/linuxbrew/.linuxbrew/opt/glibc/sbin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/syno/sbin:/usr/syno/bin:/usr/local/sbin:/usr/local/bin\",\n  \"CONDA_PROMPT_MODIFIER\": \"false\",\n  \"HOMEBREW_PREFIX\": \"/home/linuxbrew/.linuxbrew\",\n  \"HOMEBREW_GIT_PATH\": \"/usr/local/bin/git\",\n  \"XDG_CONFIG_HOME\": \"/var/services/homes/raphh/.config\",\n  \"HOME\": \"/var/services/homes/raphh\",\n  \"HOMEBREW_CELLAR\": \"/home/linuxbrew/.linuxbrew/Cellar\",\n  \"PWD\": \"/var/services/homes/raphh/.zed_server\",\n  \"CPPFLAGS\": \"-I//var/services/homes/raphh/linuxbrew/.linuxbrew/opt/glibc/include\",\n  \"LANG\": \"en_US.utf8\",\n  \"POSH_SHELL\": \"zsh\",\n  \"TERM_PROGRAM\": \"tmux\",\n  \"TERM_PROGRAM_VERSION\": \"3.5a\",\n  \"SSH_AUTH_SOCK\": \"/tmp/ssh-6WShndOiqr/agent.6805\"\n}\n```\n"
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 28,
      "authorComment" : "cole-miller",
      "commentText" : "Thanks, my mistake. So it seems like Zed is parsing your environment correctly, but maybe the redirect we use to read that JSON output is not working--what do you see in `output` after running this?\n\n```\nzsh -l -i -c \"cd '/volume2/docker/compose';'/var/services/homes/raphh/.zed_server/zed-remote-server-stable-0.208.6' --printenv >&0\" 0>output\n```\n\nIt would also be useful to run the same test with `/bin/sh` instead of zsh in case we are not using zsh on the remote side.\n\nIf the JSON successfully ends up in `output`, my next guess would be that maybe there is something in the inherited environment that causes that command to behave differently when run as a subprocess of the remote server."
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 29,
      "authorComment" : "raaphhh",
      "commentText" : "@cole-miller So yes, the JSON end up in output with `zsh`. But nothing with `/bin/sh` though."
    }, {
      "numberIssue" : 38571,
      "numberCommentInIssue" : 30,
      "authorComment" : "cole-miller",
      "commentText" : "Sounds like it would be consistent with what you're seeing if we're running `/bin/sh` to capture the environment--what does `echo $SHELL` say on the remote side? Do you know what program `/bin/sh` is on the Synology system (`/bin/sh --version`, `ls -l /bin/sh`)?"
    } ]
  }, {
    "issueNumber" : 38573,
    "commentsCount" : 6,
    "comments" : [ {
      "numberIssue" : 38573,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @arunn03 on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38573,
      "numberCommentInIssue" : 2,
      "authorComment" : "arunn03",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38573,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38573,
      "numberCommentInIssue" : 4,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against be312daa84e42061c7f7a4c2a921dfe38d073bc3\n</p>\n"
    }, {
      "numberIssue" : 38573,
      "numberCommentInIssue" : 5,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against be312daa84e42061c7f7a4c2a921dfe38d073bc3\n</p>\n"
    }, {
      "numberIssue" : 38573,
      "numberCommentInIssue" : 6,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Will close as stale due to no activity, but seems worthy to get merged in the end."
    } ]
  }, {
    "issueNumber" : 38574,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38574,
      "numberCommentInIssue" : 1,
      "authorComment" : "miguelraz",
      "commentText" : "Can't reproduce this, so closing for now. Please comment if the issue resurfaces!"
    } ]
  }, {
    "issueNumber" : 38576,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38576,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "cc @smitbarmase , can it be related to the search entries' highlight changes?"
    }, {
      "numberIssue" : 38576,
      "numberCommentInIssue" : 2,
      "authorComment" : "smitbarmase",
      "commentText" : "I can reproduce this with same code in the video. Thanks for the report, we will fix it."
    } ]
  }, {
    "issueNumber" : 38577,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38577,
      "numberCommentInIssue" : 1,
      "authorComment" : "aex-gh",
      "commentText" : "and here's an example where it recognised it had stepped outside of Plan Mode and made edits but then caught itself and reverted.\n\n<img width=\"1018\" height=\"551\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6b3ea038-3d19-4ec9-899b-cdec0c286294\" />"
    }, {
      "numberIssue" : 38577,
      "numberCommentInIssue" : 2,
      "authorComment" : "volodymyrrudyi",
      "commentText" : "The same, sometimes Claude Code just leaves the planning mode (while I'm writing follow ups) and starts doing stuff on it's own."
    } ]
  }, {
    "issueNumber" : 38578,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38578,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report! It seems that you have enabled the Regex toggle in the query search bar, which causes the error (first blue symbol from the right). Once you deactivate that, the error will be gone, as this is a Regex parsing error.\n\nIs there anything else I am missing or does it work as expected then?"
    }, {
      "numberIssue" : 38578,
      "numberCommentInIssue" : 2,
      "authorComment" : "stephanietuerk",
      "commentText" : "Thanks for the fast response! \n\nYou are right -- RegEx search was on, and I'm happy to close this issue/have you close it.\n\nI definitely should have tried toggling that, but also I would say -- just trying to pass along some feedback -- that it is definitely not intuitive to me that the light blue text = on and the almost white text (which is brighter, and therefore in my mind, more active) = off. The exact colors of the active button vary by theme (I am using the default -- One Dark), but generally speaking this relationship is across themes. \n\n<img width=\"118\" height=\"63\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7df0b1bd-a07b-4b23-a7d0-846b0bf8bc2a\" />\n\n\n<img width=\"110\" height=\"59\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/0c5396e2-54dd-47b2-b162-7fa61936146a\" />"
    }, {
      "numberIssue" : 38578,
      "numberCommentInIssue" : 3,
      "authorComment" : "MrSubidubi",
      "commentText" : "Definitely valid feedback - we've had some other reports of users who reported similar concerns around that UX. I'll make sure to pass that on once we revisit this part of Zed. \n\nWill close as mentioned, thanks for getting back that fast and the feedback! Also, thanks for taking the time to write a proper bug report. Much appreciated."
    } ]
  }, {
    "issueNumber" : 38579,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38579,
      "numberCommentInIssue" : 1,
      "authorComment" : "cybrejon",
      "commentText" : "I've been facing the same problem for months now. I also live in the Philippines, under the ISP Globe.\n\nEndeavourOS x86_64\nLinux 6.16.7-arch1-1"
    } ]
  }, {
    "issueNumber" : 38580,
    "commentsCount" : 8,
    "comments" : [ {
      "numberIssue" : 38580,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @guuzaa on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38580,
      "numberCommentInIssue" : 2,
      "authorComment" : "guuzaa",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38580,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38580,
      "numberCommentInIssue" : 4,
      "authorComment" : "jasonlfunk",
      "commentText" : "I'd love to see this merged!"
    }, {
      "numberIssue" : 38580,
      "numberCommentInIssue" : 5,
      "authorComment" : "guuzaa",
      "commentText" : "I didn't know we can add custom models before.\r\nIf you'd like to use grok-4-fast in zed, you can add the following to your Zed settings.json:\r\n```json\r\n  \"language_models\": {\r\n     \"x_ai\": {\r\n       \"api_url\": \"https://api.x.ai/v1\",\r\n       \"available_models\": [\r\n         {\r\n           \"name\": \"grok-4-fast-reasoning\",\r\n           \"display_name\": \"Grok 4 Fast Reasoning\",\r\n           \"max_tokens\": 2000000,\r\n           \"max_output_tokens\": 64000\r\n         },\r\n         {\r\n           \"name\": \"grok-4-fast-non-reasoning\",\r\n           \"display_name\": \"Grok 4 Fast Non-Reasoning\",\r\n           \"max_tokens\": 2000000,\r\n           \"max_output_tokens\": 64000\r\n         }\r\n       ]\r\n     }\r\n   }\r\n\r\n```\r\nsee https://zed.dev/docs/ai/llm-providers#xai for detail"
    }, {
      "numberIssue" : 38580,
      "numberCommentInIssue" : 6,
      "authorComment" : "guuzaa",
      "commentText" : "But we cannot let grok-4-fast use tools or images. If you add \"supports_images\" or \"supports_tools\", zed complains these properties are not allowed."
    }, {
      "numberIssue" : 38580,
      "numberCommentInIssue" : 7,
      "authorComment" : "guuzaa",
      "commentText" : "For the support of grok-4-fast or any new grok models, an alternative solution https://github.com/zed-industries/zed/pull/38792"
    }, {
      "numberIssue" : 38580,
      "numberCommentInIssue" : 8,
      "authorComment" : "benbrandt",
      "commentText" : "It seems like we can close in favor of: https://github.com/zed-industries/zed/pull/38792\r\n"
    } ]
  }, {
    "issueNumber" : 38581,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38581,
      "numberCommentInIssue" : 1,
      "authorComment" : "miguelraz",
      "commentText" : "Good catch - this is annoying.\n\nReproduced locally, will pass to eng team."
    }, {
      "numberIssue" : 38581,
      "numberCommentInIssue" : 2,
      "authorComment" : "OgDev-01",
      "commentText" : "Also think this might be related to #33602, as the same behavior happens when you restart zed with ai suggestions. the whole suggestions are automatically accepted."
    } ]
  }, {
    "issueNumber" : 38587,
    "commentsCount" : 6,
    "comments" : [ {
      "numberIssue" : 38587,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @canntws on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38587,
      "numberCommentInIssue" : 2,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @canntws on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38587,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38587,
      "numberCommentInIssue" : 4,
      "authorComment" : "canntws",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38587,
      "numberCommentInIssue" : 5,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38587,
      "numberCommentInIssue" : 6,
      "authorComment" : "cole-miller",
      "commentText" : "Confirmed this fixes the issue, thanks!"
    } ]
  }, {
    "issueNumber" : 38589,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38589,
      "numberCommentInIssue" : 1,
      "authorComment" : "franciskafyi",
      "commentText" : "Closing this as a duplicate of https://github.com/zed-industries/zed/issues/36241 as it's a similar issue. We'll try to figure out a way to handle this more gracefully. "
    } ]
  }, {
    "issueNumber" : 38590,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38590,
      "numberCommentInIssue" : 1,
      "authorComment" : "bennetbo",
      "commentText" : "While testing this I saw a weird behaviour with heading elements, when there is no line break between the heading and a paragraph. E.g.\r\n\r\n```\r\n<h1>Heading</h1>\r\nA\r\nB\r\nC\r\nD\r\n```\r\n\r\nwill show up like this:\r\n\r\n<img width=\"324\" height=\"368\" alt=\"image\" src=\"https://github.com/user-attachments/assets/e902ad00-c568-4895-8bf3-002a47658b80\" />\r\n\r\nThis bug already exists on main so I'll merge this PR anyway.\r\n\r\nIf you're interested in further improvements to the Markdown Preview, I think this would be a great thing to fix."
    }, {
      "numberIssue" : 38590,
      "numberCommentInIssue" : 2,
      "authorComment" : "RemcoSmitsDev",
      "commentText" : "The weird newlines/spaces should be fixed in https://github.com/zed-industries/zed/pull/38605, that includes the markdown/html minifier to fix this."
    } ]
  }, {
    "issueNumber" : 38594,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38594,
      "numberCommentInIssue" : 1,
      "authorComment" : "adroslice",
      "commentText" : "Alternative workaround: Disabling json-language-server\n```json\n{\n  \"languages\": {\n    \"JSON\": {\n      \"language_servers\": [\"!json-language-server\"]\n    }\n  }\n}\n\n```"
    }, {
      "numberIssue" : 38594,
      "numberCommentInIssue" : 2,
      "authorComment" : "P1n3appl3",
      "commentText" : "I've repro'd on different host OS's, it appears this is just a problem with the remote server regardless of which platform you're using.\n\nThe PR that caused the issue is #38451, reverting that fixes it but I'm going to fix forward with a smaller change to make the json lsp code not assume that there's a global theme registry."
    }, {
      "numberIssue" : 38594,
      "numberCommentInIssue" : 3,
      "authorComment" : "adroslice",
      "commentText" : "That makes more sense, I was wondering how this could be platform-specific, but it was just that the linux system i tested with was using the stable release... I'll make sure to test on a nightly build on arch as well in the future. Thanks for getting around to it so quickly."
    } ]
  }, {
    "issueNumber" : 38596,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38596,
      "numberCommentInIssue" : 1,
      "authorComment" : "corneliusio",
      "commentText" : "You should be able to work around this temporarily by adding the following to your settings:\n```json\n{\n    \"languages\": {\n        \"CSS\": {\n            \"language_servers\": [\"tailwindcss-language-server\"]\n        }\n    }\n}\n```"
    }, {
      "numberIssue" : 38596,
      "numberCommentInIssue" : 2,
      "authorComment" : "ziimakc",
      "commentText" : "@corneliusio this disables css support (formatting, autocomplition) in this file which is worse."
    }, {
      "numberIssue" : 38596,
      "numberCommentInIssue" : 3,
      "authorComment" : "ask4fusora",
      "commentText" : "Zed integrate CSS with `vscode-css-language-server`, and by the docs, you can do this:\n\n```jsonc\n// settings.json - Zed's settings.json\n{\n  \"lsp\": {\n    \"vscode-css-language-server\": {\n      \"settings\": {\n        \"css\": {\n          \"lint\": {\n            \"unknownAtRules\": \"ignore\"\n          }\n        }\n      }\n    }\n  }\n}\n```"
    }, {
      "numberIssue" : 38596,
      "numberCommentInIssue" : 4,
      "authorComment" : "ziimakc",
      "commentText" : "@ask4fusora thanks, this resolves issue for me."
    }, {
      "numberIssue" : 38596,
      "numberCommentInIssue" : 5,
      "authorComment" : "ghost",
      "commentText" : "thanks, this resolves issue. didn't know about that setting"
    } ]
  }, {
    "issueNumber" : 38598,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38598,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report!\n\nCan you try removing the innermost `ty` and see whether that works? \n\nIf so, there would be https://github.com/astral-sh/ty/issues/1299 to track that upstream. Thanks!"
    }, {
      "numberIssue" : 38598,
      "numberCommentInIssue" : 2,
      "authorComment" : "klonuo",
      "commentText" : "It does work by removing innermost `ty` key:\n\n<img width=\"856\" height=\"46\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d8dfcdfe-ebd9-42f4-8ff5-5475dade9e82\" />\n\n\nInterestingly, in Sublime Text LSP settings _with_ the innermost `ty` key as suggested in `ty` [documentation ](https://docs.astral.sh/ty/reference/editor-settings/#inlayhints) works too:\n\n<img width=\"944\" height=\"41\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ea97ad09-42c0-48d8-bf45-e08db24251b2\" />"
    }, {
      "numberIssue" : 38598,
      "numberCommentInIssue" : 3,
      "authorComment" : "MrSubidubi",
      "commentText" : "Alright, thanks for getting back! As mentioned, we are tracking that in the upstream issue and Astral is already looking into fixing this. Gonna go ahead and close this, given the context. Thanks!"
    } ]
  }, {
    "issueNumber" : 38600,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38600,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Can we get before/after screenshots, [please](https://github.com/zed-industries/zed/blob/main/CONTRIBUTING.md#sending-changes)?"
    }, {
      "numberIssue" : 38600,
      "numberCommentInIssue" : 2,
      "authorComment" : "iluuu1994",
      "commentText" : "@SomeoneToIgnore Apologies, I wasn't aware of this policy. I adjusted the PR description accordingly."
    }, {
      "numberIssue" : 38600,
      "numberCommentInIssue" : 3,
      "authorComment" : "iluuu1994",
      "commentText" : "Thanks! Adjusted accordingly."
    }, {
      "numberIssue" : 38600,
      "numberCommentInIssue" : 4,
      "authorComment" : "osiewicz",
      "commentText" : "Cheers!"
    } ]
  }, {
    "issueNumber" : 38601,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38601,
      "numberCommentInIssue" : 1,
      "authorComment" : "amustaque97",
      "commentText" : "I’d like to take this up, but I’m not entirely sure how to reproduce the issue, as I assume it requires some React setup or something similar. Could someone please help guide me through the steps?"
    }, {
      "numberIssue" : 38601,
      "numberCommentInIssue" : 2,
      "authorComment" : "bramvbilsen",
      "commentText" : "Another example where the syntax highlighting breaks, is when using props for your styled component:\n\n<img width=\"738\" height=\"461\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/15ef283d-641d-4517-a427-3de71a69403f\" />\n\n_Note how `CanvasArea` does not highlight correctly, but `CanvasCenter` does_\n\n"
    } ]
  }, {
    "issueNumber" : 38602,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38602,
      "numberCommentInIssue" : 1,
      "authorComment" : "neotesk",
      "commentText" : "<img width=\"420\" height=\"269\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/bf3f4769-cbff-4711-86b5-d3ada57ce723\" />\n\nI still can reproduce on my system btw.\n\n```css\n@font-face {\n\tfont-family: RedHatDisplay;\n\tsrc: url( \"./rhd_normal.ttf\" );\n}\n\n@font-face {\n\tfont-family: RobotoMono;\n\tsrc: url( \"./rmono_normal.ttf\" );\n}\n```\n1- You must save this code into a `.css` file, ex: `test.css`\n2- Type exactly `Red` for font-family and try until a red box appears.\n3- Continue typing more stuff and voila, the red box still appears."
    }, {
      "numberIssue" : 38602,
      "numberCommentInIssue" : 2,
      "authorComment" : "neotesk",
      "commentText" : "<img width=\"463\" height=\"738\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6d5c6c37-7fbe-4441-ab7b-2143c13cd470\" />\n\n```json\n{\n  \"icon_theme\": \"JetBrains New UI Icons (Dark)\",\n  \"inlay_hints\": {\n    \"enabled\": false,\n    \"show_value_hints\": true,\n    \"show_type_hints\": true,\n    \"show_parameter_hints\": true,\n    \"show_other_hints\": true,\n    \"show_background\": false,\n    \"edit_debounce_ms\": 700,\n    \"scroll_debounce_ms\": 50,\n    \"toggle_on_modifiers_press\": {\n      \"control\": false,\n      \"alt\": false,\n      \"shift\": false,\n      \"platform\": false,\n      \"function\": false\n    }\n  },\n  \"format_on_save\": \"off\",\n  \"buffer_font_family\": \"AdwaitaMono Nerd Font Mono\",\n  \"ui_font_family\": \".SystemUIFont\",\n  \"vim_mode\": false,\n  \"telemetry\": {\n    \"diagnostics\": false,\n    \"metrics\": false\n  },\n  \"ui_font_size\": 16.0,\n  \"buffer_font_size\": 13.0,\n  \"extend_comment_on_newline\": true,\n  \"unstable.ui_density\": \"comfortable\",\n  \"use_smartcase_search\": true,\n  \"unnecessary_code_fade\": 0.9,\n  \"toolbar\": {\n    \"agent_review\": false\n  },\n  \"title_bar\": {\n    \"show_branch_icon\": true,\n    \"show_onboarding_banner\": false\n  },\n  \"git_panel\": {\n    \"default_width\": 400,\n    \"dock\": \"right\"\n  },\n  \"outline_panel\": {\n    \"button\": true,\n    \"dock\": \"right\",\n    \"indent_size\": 40\n  },\n  \"features\": {\n    \"edit_prediction_provider\": \"none\"\n  },\n  \"confirm_quit\": false,\n  \"telemetry\": {\n    \"diagnostics\": false,\n    \"metrics\": false\n  },\n  \"tab_size\": 4,\n  \"hard_tabs\": false,\n  \"edit_predictions\": null,\n  \"show_edit_predictions\": true,\n  \"ensure_final_newline_on_save\": false,\n  \"terminal\": {\n    \"dock\": \"bottom\",\n    \"font_size\": 13,\n    \"font_family\": \"AdwaitaMono Nerd Font Mono\",\n    \"toolbar\": {\n      \"breadcrumbs\": true\n    },\n    \"working_directory\": \"current_project_directory\",\n    \"env\": {\n      \"NEOTESK_EDIT_MODE\": \"1\"\n    }\n  },\n  \"expand_excerpt_lines\": 10,\n  \"project_panel\": {\n    \"dock\": \"left\",\n    \"entry_spacing\": \"standard\",\n    \"indent_size\": 25,\n    \"indent_guides\": {\n      \"show\": \"never\"\n    },\n    \"hide_root\": false\n  },\n  \"agent\": {\n    \"button\": false\n  },\n  \"notification_panel\": {\n    \"button\": false\n  },\n  \"theme\": {\n    \"mode\": \"system\",\n    \"light\": \"One Light\",\n    \"dark\": \"macOS Classic Dark\"\n  },\n  \"languages\": {\n    \"HTML\": {\n      \"format_on_save\": \"off\",\n      \"use_on_type_format\": false\n    }\n  }\n}\n\n```\n\nHere are the extensions i've installed and my configuration, Hope it helps."
    } ]
  }, {
    "issueNumber" : 38604,
    "commentsCount" : 9,
    "comments" : [ {
      "numberIssue" : 38604,
      "numberCommentInIssue" : 1,
      "authorComment" : "CharlesChen0823",
      "commentText" : "worked well in my platform. might related keyboard layout?"
    }, {
      "numberIssue" : 38604,
      "numberCommentInIssue" : 2,
      "authorComment" : "ddbrierton",
      "commentText" : "I also can't reproduce on macOS 26.0 with a UK ISO keyboard (Apple)."
    }, {
      "numberIssue" : 38604,
      "numberCommentInIssue" : 3,
      "authorComment" : "zachahn",
      "commentText" : "Hello! Thanks for commenting! I checked on two Macs and they both have the same issue for me. Jumping between square brackets work, it's just parens that don't. Super weird. I don't see anything strange in my settings.json or keymap.json. Is anyone aware of any other places I should look at?"
    }, {
      "numberIssue" : 38604,
      "numberCommentInIssue" : 4,
      "authorComment" : "ddbrierton",
      "commentText" : "There have been issues in the past in Zed with non-US keyboards. What keyboard are you using?"
    }, {
      "numberIssue" : 38604,
      "numberCommentInIssue" : 5,
      "authorComment" : "zachahn",
      "commentText" : "I'm using US keyboards! I'm seeing this issue on my built-in Macbook keyboard and on my external ergonomic one too. I use a standard QWERTY setup."
    }, {
      "numberIssue" : 38604,
      "numberCommentInIssue" : 6,
      "authorComment" : "ConradIrwin",
      "commentText" : "The bracket matching is based on the current language.\n\nThis means it doesn't currently work in plain-text files (or in comments). What language are you using? And does it have `(` defined as brackets (you can also test with `cmd-|`).\n\nI would like to fix that at some point – we \"just\" need to add some fallback code.\n"
    }, {
      "numberIssue" : 38604,
      "numberCommentInIssue" : 7,
      "authorComment" : "zachahn",
      "commentText" : "Ah!! That must be it. I'm using Ruby. I think I found the configuration, this is consistent with the behavior I'm seeing.\n\nhttps://github.com/zed-extensions/ruby/blob/8892e89989460c52b19858da3080a835ddccc721/languages/ruby/brackets.scm\n\nShould I close this issue and re-raise there? I can probably submit a PR"
    }, {
      "numberIssue" : 38604,
      "numberCommentInIssue" : 8,
      "authorComment" : "ConradIrwin",
      "commentText" : "A PR would be fabulous! @vitallium has been really responsive in the past"
    }, {
      "numberIssue" : 38604,
      "numberCommentInIssue" : 9,
      "authorComment" : "vitallium",
      "commentText" : "Thanks for the ping! The corresponding PR has been merged. The fix will released in the [v0.13.3](https://github.com/zed-extensions/ruby/releases/tag/v0.13.3)."
    } ]
  }, {
    "issueNumber" : 38605,
    "commentsCount" : 14,
    "comments" : [ {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 1,
      "authorComment" : "RemcoSmitsDev",
      "commentText" : "**Note** this PR can only be merged when https://github.com/zed-industries/zed/pull/38590 gets merged first. As this PR depends on the start of the paragraph parsing structure."
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 2,
      "authorComment" : "Angelk90",
      "commentText" : "@RemcoSmitsDev : \r\nYou can fix the edges of the junctions; see images below.\r\n\r\nProblems with both Markdown table and table tag.\r\n\r\nTable Markdown:\r\n<img width=\"618\" height=\"94\" alt=\"Screenshot 2025-09-22 alle 14 22 31\" src=\"https://github.com/user-attachments/assets/87721612-85a6-4512-bb34-3b8cf0fd5d38\" />\r\n\r\nTable Tag:\r\n<img width=\"360\" height=\"96\" alt=\"Screenshot 2025-09-22 alle 14 22 42\" src=\"https://github.com/user-attachments/assets/14e68182-081c-493c-a1b8-9824f452f9ce\" />\r\n\r\n---\r\n\r\nGithub Table Markdown:\r\n\r\n| Id | Name |\r\n|--------|--------|\r\n| 1 | Chris |\r\n| 2 | Dennis | \r\n\r\nGithub Table Tag:\r\n\r\n<table>\r\n          <thead>\r\n            <tr>\r\n              <th>Id</th>\r\n              <th>Name</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>1</td>\r\n              <td>Chris</td>\r\n            </tr>\r\n            <tr>\r\n              <td>2</td>\r\n              <td>Dennis</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n"
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 3,
      "authorComment" : "RemcoSmitsDev",
      "commentText" : "Hey @Angelk90, thanks for pointing this out. I noticed this myself aswell, should be fixed now."
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 4,
      "authorComment" : "Angelk90",
      "commentText" : "@RemcoSmitsDev : The problem doesn't seem to be completely resolved. Looking closely at the table you posted, there are some border issues.\r\n\r\nThe side borders of each cell, not counting the header, are much thinner than the other borders. If you look closely, the top and bottom borders of each cell are twice as wide.\r\n\r\nPerhaps this is due to the bottom border of one cell overlapping with the top border of the next cell in the column.\r\n\r\n<img width=\"1320\" height=\"354\" alt=\"Screenshot 2025-09-27 alle 14 32 09\" src=\"https://github.com/user-attachments/assets/54daf279-2ca7-4f82-addc-e1f84c364e55\" />\r\n"
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 5,
      "authorComment" : "Angelk90",
      "commentText" : "@RemcoSmitsDev : Could you update the screenshots?"
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 6,
      "authorComment" : "RemcoSmitsDev",
      "commentText" : "@Angelk90 The styling was already fixed in: https://github.com/zed-industries/zed/pull/39101"
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 7,
      "authorComment" : "Angelk90",
      "commentText" : "@RemcoSmitsDev : The problem when looking at the images is the size of the table. The table takes up all the horizontal space, whereas each column should take up the maximum size of the maximum text it contains. If there are very long texts in two columns, you need to figure out what strategy to adopt.\n\nsee how github does it."
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 8,
      "authorComment" : "RemcoSmitsDev",
      "commentText" : "@Angelk90 please only review my code. How the table looks is already in main and has nothing todo with my pr."
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 9,
      "authorComment" : "bennetbo",
      "commentText" : "@Angelk90 We've told you this before and I'm telling you again:\r\nDo not ping any contributors/maintainers unnecessarily. Also, do not pollute PRs with unrelated comments/screenshots/...\r\nIf you want to share your thoughts/opinions on topics not related to PRs you can open discussions as needed."
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 10,
      "authorComment" : "RemcoSmitsDev",
      "commentText" : "Thanks for the review, Bennet! Your comment should have been processed."
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 11,
      "authorComment" : "RemcoSmitsDev",
      "commentText" : "Only the tests fail now, have to fix them."
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 12,
      "authorComment" : "RemcoSmitsDev",
      "commentText" : "Alright should be ready now."
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 13,
      "authorComment" : "JosephTLyons",
      "commentText" : "Hey Remco, ran into this while making demo content for this addition. Not implying you have the bandwidth for it, just wanted to mention it in case this is something you are interested in.\r\n\r\nhttps://github.com/zed-industries/zed/issues/39837\r\n\r\nAlso, great work here, preview is getting better and better each release."
    }, {
      "numberIssue" : 38605,
      "numberCommentInIssue" : 14,
      "authorComment" : "RemcoSmitsDev",
      "commentText" : "Hey Joseph, yeah thats something we dont support yet. But i was planning to refactor the table render code to add support for more advanced tables. Feel free to assign me to the issue i wil look into it soon. \n\nThanks btw!"
    } ]
  }, {
    "issueNumber" : 38607,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38607,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "Gnarly! We have some text wrapping logic here: https://github.com/zed-industries/zed/blob/5212c660742987ba7073981e47cf2fd561fef365/crates/gpui/src/text_system/line_wrapper.rs#L33. \n\nSomeone (maybe you?!) needs to teach it not to do this.\n\nThere are a few different options:\n* the super-fancy approach: if the line is just a tiny bit too short, reduce the letter spacing so it fits\n* the \"disallow line-breaks just before trailing punctuation\" approach, and make this:\n\n```\nconsider importing this module: `use crate::front_of_house::\nhosting;`\n```\n\nThe *hmm* we're going to need two lines for this anyway, let's break at the best position approach:\n```\nconsider importing this module:\n`use crate::front_of_house::hosting;`\n```\n\nI think the second one is likely the best compromise between speed (this code runs for pretty much every string rendered on-screen every frame) and goodness."
    }, {
      "numberIssue" : 38607,
      "numberCommentInIssue" : 2,
      "authorComment" : "maekilae",
      "commentText" : "It seems like the _\"actual behavior\"_ is the \"standard\" if we look at implementations in other editors.\n\n### VS code\n\n<img width=\"379\" height=\"128\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/817143c9-6b9e-447d-8488-b484ad02c7b9\" />\n\n### Nvim \n\n<img width=\"397\" height=\"121\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f1e73b84-e784-4edd-9d96-dc37377ea8f2\" />"
    }, {
      "numberIssue" : 38607,
      "numberCommentInIssue" : 3,
      "authorComment" : "CodingDoll",
      "commentText" : "I think this is a bug in rust-analyzer—the diagnostic response contains a newline (\\n) before the final backtick.\n\n<img width=\"792\" height=\"176\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ca7492ad-123c-4ece-b7b1-9b9d5d45739c\" />"
    }, {
      "numberIssue" : 38607,
      "numberCommentInIssue" : 4,
      "authorComment" : "ConradIrwin",
      "commentText" : "@CodingDoll thanks for figuring that out! Would you mind reporting this upstream? "
    }, {
      "numberIssue" : 38607,
      "numberCommentInIssue" : 5,
      "authorComment" : "CodingDoll",
      "commentText" : "> [@CodingDoll](https://github.com/CodingDoll) thanks for figuring that out! Would you mind reporting this upstream?\n\nYou’re welcome! Sure, I can report this to the rust-analyzer repo."
    } ]
  }, {
    "issueNumber" : 38609,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38609,
      "numberCommentInIssue" : 1,
      "authorComment" : "maxdeviant",
      "commentText" : "Thank you for the PR, but this isn't the sort of content that belongs in the docs.\r\n\r\nMight I suggest starting a blog?"
    }, {
      "numberIssue" : 38609,
      "numberCommentInIssue" : 2,
      "authorComment" : "angel-rust",
      "commentText" : "Appreciate the quick feedback "
    } ]
  }, {
    "issueNumber" : 38611,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38611,
      "numberCommentInIssue" : 1,
      "authorComment" : "lemorage",
      "commentText" : "Will u still get this issue on latest version? I tested it on v0.205.4 and didn't get this crash. Same system info."
    } ]
  }, {
    "issueNumber" : 38612,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38612,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @Josh-AS on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    } ]
  }, {
    "issueNumber" : 38613,
    "commentsCount" : 6,
    "comments" : [ {
      "numberIssue" : 38613,
      "numberCommentInIssue" : 1,
      "authorComment" : "driftcell",
      "commentText" : "Is the right behavior is cursor will go to the very begin of file, like row 1 col 1?"
    }, {
      "numberIssue" : 38613,
      "numberCommentInIssue" : 2,
      "authorComment" : "koakuma-chan",
      "commentText" : "> Is the right behavior is cursor will go to the very begin of file, like row 1 col 1?\n\nThe *very* beginning. Before the first character. Yes."
    }, {
      "numberIssue" : 38613,
      "numberCommentInIssue" : 3,
      "authorComment" : "driftcell",
      "commentText" : "> > Is the right behavior is cursor will go to the very begin of file, like row 1 col 1?\n> \n> The _very_ beginning. Before the first character. Yes.\n\nSo I noticed that `shift-g` will go to the first column of last line, is it correct?"
    }, {
      "numberIssue" : 38613,
      "numberCommentInIssue" : 4,
      "authorComment" : "koakuma-chan",
      "commentText" : "> > > Is the right behavior is cursor will go to the very begin of file, like row 1 col 1?\n> > \n> > \n> > The _very_ beginning. Before the first character. Yes.\n> \n> So I noticed that `shift-g` will go to the first column of last line, is it correct?\n\nSeems correct."
    }, {
      "numberIssue" : 38613,
      "numberCommentInIssue" : 5,
      "authorComment" : "driftcell",
      "commentText" : "> > > > Is the right behavior is cursor will go to the very begin of file, like row 1 col 1?\n> > > \n> > > \n> > > The _very_ beginning. Before the first character. Yes.\n> > \n> > \n> > So I noticed that `shift-g` will go to the first column of last line, is it correct?\n> \n> Seems correct.\n\nhttps://github.com/zed-industries/zed/pull/38641#issuecomment-3319344918\n\nI just made this change, but someone who experienced Neovim told me that is the default behavior of Neovim, so I closed that PR."
    }, {
      "numberIssue" : 38613,
      "numberCommentInIssue" : 6,
      "authorComment" : "koakuma-chan",
      "commentText" : "@AlvaroParker the feature is called *Vim* mode, not *Neovim* mode, so I believe it would be reasonable to match *Vim* behaviour. This is a significant annoyance to me as a user."
    } ]
  }, {
    "issueNumber" : 38614,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38614,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Filtering out works as intended and documenting this indeed sounds like a good idea.\n\nYou can use default variable values, if needed:\n\nhttps://zed.dev/docs/tasks#variables\n\nbut I doubt that any extra parameters are worth the complexity they add."
    }, {
      "numberIssue" : 38614,
      "numberCommentInIssue" : 2,
      "authorComment" : "mkcode",
      "commentText" : "Followed up with a documentation PR in #38642."
    } ]
  }, {
    "issueNumber" : 38615,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38615,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 52823aee233dbe3c394e184055cbd353c9608365\n</p>\n"
    } ]
  }, {
    "issueNumber" : 38616,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38616,
      "numberCommentInIssue" : 1,
      "authorComment" : "GeVic",
      "commentText" : "I'm also facing this issue but not entirely,\n- The `j j` mapping works as expected 90% of the time but the other 10% it doesn't register as a command forcing me to use `esc`\n\nNote: Regardless of what mapping I choose for it, this issue remains."
    } ]
  }, {
    "issueNumber" : 38619,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38619,
      "numberCommentInIssue" : 1,
      "authorComment" : "vaqxai",
      "commentText" : "EDIT: Apparently I'm trying to use the wrong venv (names central-forecasting and central-weather-forecasting are very similar), however, I noticed zed doesn't list the other, correct, one. When trying to enter the path manually, zed crashes:\n\n```\n2025-09-22T09:18:57+02:00 ERROR [crashes] triggering a crash to generate a minidump...\n2025-09-22T09:18:57+02:00 ERROR [zed::reliability] {\n  \"thread\": \"main\",\n  \"payload\": \"called `Option::unwrap()` on a `None` value\",\n  \"location_data\": {\n    \"file\": \"crates/ui/src/components/label/highlighted_label.rs\",\n    \"line\": 100\n  },\n  \"backtrace\": [\n    \"zed::reliability::init_panic_hook::{{closure}}::ha25f951c22d5d218+184034974\",\n    \"std::panicking::rust_panic_with_hook::h8b29cbe181d50030+153499387\",\n    \"std::panicking::begin_panic_handler::{{closure}}::h9f5b6f6dc6fde83e+153498566\",\n    \"std::sys::backtrace::__rust_end_short_backtrace::hd7b0c344383b0b61+153482873\",\n    \"__rustc[5224e6b81cd82a8f]::rust_begin_unwind+153497773\",\n    \"core::panicking::panic_fmt::hc49fc28484033487+10149744\",\n    \"core::panicking::panic::h239804395728b21f+10149884\",\n    \"core::option::unwrap_failed::hec54eb4737b382ca+10149609\",\n    \"ui::components::label::highlighted_label::highlight_ranges::h78f41e6d49fe1e94+165524099\",\n    \"<ui::components::label::highlighted_label::HighlightedLabel as gpui::element::RenderOnce>::render::hd983d430f817a25d+165524399\",\n    \"gpui::element::Drawable<E>::request_layout::h8de843b8d902176a+77688550\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837356\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::hb3d2c8ceac1f65d3+164899772\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837673\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::hb3d2c8ceac1f65d3+164899772\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837673\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h60b4eaefe439f8f0+163715228\",\n    \"gpui::element::Drawable<E>::request_layout::h8dc66cc6214ad903+163717227\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837673\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h60b4eaefe439f8f0+163715228\",\n    \"<gpui::element::Drawable<E> as gpui::element::ElementObject>::layout_as_root::he9cae3cb84361c11+163938939\",\n    \"gpui::elements::uniform_list::UniformList::measure_item::hbd8a79f3fb3f2d57+88916096\",\n    \"<gpui::elements::uniform_list::UniformList as gpui::element::Element>::request_layout::h11cc7b9bd883b6ef+88907098\",\n    \"gpui::element::Drawable<E>::request_layout::h9ad0d5503b8b7bf6+163720911\",\n    \"gpui::element::Drawable<E>::request_layout::hf86f7c5897eb31fb+163729790\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837673\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h60b4eaefe439f8f0+163715228\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837356\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h60b4eaefe439f8f0+163715228\",\n    \"gpui::element::Drawable<E>::request_layout::hbda9e4fe1adb6b52+163722676\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837356\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h60b4eaefe439f8f0+163715228\",\n    \"gpui::element::Drawable<E>::request_layout::h5dc92b759848ba24+163713973\",\n    \"gpui::element::Drawable<E>::request_layout::hf86f7c5897eb31fb+163729790\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837356\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h60b4eaefe439f8f0+163715228\",\n    \"<gpui::view::AnyView as gpui::element::Element>::request_layout::h77e518fccba2c0c2+89662324\",\n    \"gpui::element::Drawable<E>::request_layout::ha4abc3f7b7933b9b+174924916\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837356\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h3ecc991b9f6193d7+174903164\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837356\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h3ecc991b9f6193d7+174903164\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837356\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h3ecc991b9f6193d7+174903164\",\n    \"gpui::element::Drawable<E>::request_layout::h7a8817738ce90896+174914570\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837356\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h3ecc991b9f6193d7+174903164\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88710349\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837356\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h3ecc991b9f6193d7+174903164\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837356\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h3ecc991b9f6193d7+174903164\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::{{closure}}::{{closure}}::heeeb064136429c90+89839175\",\n    \"gpui::elements::div::Interactivity::request_layout::{{closure}}::h3351a23f2175e683+88709468\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::{{closure}}::{{closure}}::he0e740acbeec1618+89837673\",\n    \"stacksafe::internal::with_protected::{{closure}}::h3af42e263e80fd6b+88483397\",\n    \"<gpui::elements::div::Div as gpui::element::Element>::request_layout::h85612c1ab6798f2c+89836684\",\n    \"gpui::element::Drawable<E>::request_layout::h3ecc991b9f6193d7+174903164\",\n    \"<gpui::view::AnyView as gpui::element::Element>::request_layout::h77e518fccba2c0c2+89662324\",\n    \"gpui::element::Drawable<E>::request_layout::h217e55bf420371df+88677533\",\n    \"<gpui::element::Drawable<E> as gpui::element::ElementObject>::layout_as_root::h7d9ac44abb1645c4+88693344\",\n    \"gpui::element::AnyElement::prepaint_as_root::h15097dac7c873a25+88698810\",\n    \"gpui::window::Window::draw::h29ca5e819f2f290d+89878013\",\n    \"gpui::window::Window::new::{{closure}}::{{closure}}::hbd495c6643484124+89717932\",\n    \"gpui::window::Window::new::{{closure}}::hfaf9e158ea4c9def+89706688\",\n    \"gpui::platform::linux::wayland::window::WaylandWindowStatePtr::frame::h5f20f160d411942c+89294488\",\n    \"<gpui::platform::linux::wayland::client::WaylandClientStatePtr as wayland_client::event_queue::Dispatch<wayland_client::protocol::wl_callback::WlCallback,wayland_backend::sys::client::ObjectId>>::event::h68004870535a1ca2+89197488\",\n    \"wayland_client::event_queue::queue_callback::hb5be6b3315274bb3+85900711\",\n    \"<core::cell::RefCell<calloop::sources::DispatcherInner<S,F>> as calloop::sources::EventDispatcher<Data>>::process_events::h8399c00e5c80864e+85866130\",\n    \"<gpui::platform::linux::wayland::client::WaylandClient as gpui::platform::linux::platform::LinuxClient>::run::h046e97779b080c9c+89178178\",\n    \"gpui::platform::linux::platform::<impl gpui::platform::Platform for P>::run::h4b982380adc8e44f+89013709\",\n    \"gpui::app::Application::run::h7a14b8c171bb0026+179589931\",\n    \"zed::main::h253c11a8daf06b62+183401407\",\n    \"std::sys::backtrace::__rust_begin_short_backtrace::h9b733a1522dce351+185576451\",\n    \"std::rt::lang_start::{{closure}}::hdfe630443ddcfb0d+185576425\",\n    \"std::rt::lang_start_internal::h31bbb7f936fd6b5d+153413505\",\n    \"main+185576524\",\n    \"__libc_start_main+45592071001897\",\n    \"_start+13281566\"\n  ],\n  \"app_version\": \"0.204.4\",\n  \"app_commit_sha\": \"529fb5ff3012ddee7ede7058bad3e845f2011f29\",\n  \"release_channel\": \"stable\",\n  \"target\": \"x86_64-unknown-linux-gnu\",\n  \"os_name\": \"Linux Wayland\",\n  \"os_version\": \"arch unknown\",\n  \"architecture\": \"x86_64\",\n  \"panicked_on\": 1758525537200,\n  \"system_id\": \"8f4bb9c1-fea5-49a5-af2b-d50ea3df5e71\",\n  \"installation_id\": \"d8942191-6d18-4af1-926a-85d26a3835fa\",\n  \"session_id\": \"743c0408-70b8-4108-85e5-e6107ee96e21\"\n}\n```\n\nFile permissions look normal:\n```\nvaqxai@vaqxai-bwpc ~/.c/p/virtualenvs [127]> ll\nPermissions Size User   Date Modified Name\ndrwxr-xr-x     - vaqxai 23 May 10:13   central-forecasting-VFs-u4vH-py3.12\ndrwxr-xr-x     - vaqxai  1 Sep 15:18   central-weather-forecasting-rokSDugo-py3.13\n.rw-r--r--   136 vaqxai 12 Sep 09:14   envs.toml\n```\n\nAlso, perhaps a separate issue, the venvs I delete from that list return upon Zed restart."
    }, {
      "numberIssue" : 38619,
      "numberCommentInIssue" : 2,
      "authorComment" : "vaqxai",
      "commentText" : "Okay more bugs:\n\n- When i repeatedly add and remove a `/` to the env path it adds more \"open this directory\" options of which there are always at least two\n- When the venv is a symlink, zed is not able to use it (or maybe this is pyright's fault?)\n- When you click on a item in the list, it gets deleted instead of selected (I didn't click on the trashbin why is this the default behavior)\n- (nitpick) When the LSP log is open and you click on the venv name it doesnt do anything (the list doesn't open)"
    } ]
  }, {
    "issueNumber" : 38620,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38620,
      "numberCommentInIssue" : 1,
      "authorComment" : "gRox167",
      "commentText" : "I can reproduce on my computer when remoting to a linux server."
    }, {
      "numberIssue" : 38620,
      "numberCommentInIssue" : 2,
      "authorComment" : "zcg",
      "commentText" : "<img width=\"2553\" height=\"1527\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/48cecc8d-6e30-421f-8152-df32d945962c\" />\n\n<img width=\"2426\" height=\"1491\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/092745b5-af61-4e33-a225-e76e76a59ecc\" /> I fixed it"
    } ]
  }, {
    "issueNumber" : 38622,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38622,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "While it's not exactly the same, it also mentions deleted files and the issue seem to be related, hence closing as a duplicate."
    } ]
  }, {
    "issueNumber" : 38623,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38623,
      "numberCommentInIssue" : 1,
      "authorComment" : "jansol",
      "commentText" : "Hmm, `protobuf` is in `nativeBuildInputs` though. Did nixpkgs move `protoc` to a separate package (or output) recently?"
    }, {
      "numberIssue" : 38623,
      "numberCommentInIssue" : 2,
      "authorComment" : "ipsavitsky",
      "commentText" : "> Hmm, `protobuf` is in `nativeBuildInputs` though. Did nixpkgs move `protoc` to a separate package (or output) recently?\n\nIt appears that that is not the case, `protoc` is still under `protobuf` (<https://github.com/NixOS/nixpkgs/blob/nixos-25.05/pkgs/development/libraries/protobuf/generic.nix#L99>)"
    }, {
      "numberIssue" : 38623,
      "numberCommentInIssue" : 3,
      "authorComment" : "ipsavitsky",
      "commentText" : "This appears to have been fixed since I can build the current latest commit (b60f19f)"
    } ]
  }, {
    "issueNumber" : 38625,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38625,
      "numberCommentInIssue" : 1,
      "authorComment" : "achieve-dream1221",
      "commentText" : "> @achieve-dream1221 need you test once\r\n\r\nI’m waiting for the nightly build, and I’ll get back to you with the test results.\r\n"
    } ]
  }, {
    "issueNumber" : 38626,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38626,
      "numberCommentInIssue" : 1,
      "authorComment" : "Anthony-Eid",
      "commentText" : "I'm having trouble reproducing this, is there anywhere you could take a screen recording for me please? \n"
    }, {
      "numberIssue" : 38626,
      "numberCommentInIssue" : 2,
      "authorComment" : "gm0stache",
      "commentText" : "hi there!\nthanks a lot for you _blazingly fast_ response!\n\nhere is a screen recording:\n\nhttps://github.com/user-attachments/assets/013de52a-425b-4507-bbc2-5d0901aaddb9\n"
    }, {
      "numberIssue" : 38626,
      "numberCommentInIssue" : 3,
      "authorComment" : "Anthony-Eid",
      "commentText" : "Thank you for the video! This looks like it's a problem with editing a debug task from your history, I'm working on a fix for this "
    }, {
      "numberIssue" : 38626,
      "numberCommentInIssue" : 4,
      "authorComment" : "github-actions[bot]",
      "commentText" : "Hi there! Zed development moves fast and a significant number of bugs become outdated. If you can reproduce this bug on the latest stable Zed, please let us know by leaving a comment with the Zed version. If the bug doesn't appear for you anymore, feel free to close the issue yourself; otherwise, the bot will close it in a couple of weeks.\nThanks for your help!"
    } ]
  }, {
    "issueNumber" : 38627,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38627,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "No logs, no proper Zed version (which we need to track things) and mixed description that also mentions the settings — quite an unactionable mixture, will close in favor of better composed issues."
    } ]
  }, {
    "issueNumber" : 38628,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38628,
      "numberCommentInIssue" : 1,
      "authorComment" : "notpeter",
      "commentText" : "Thanks!"
    }, {
      "numberIssue" : 38628,
      "numberCommentInIssue" : 2,
      "authorComment" : "pjv",
      "commentText" : "@imumesh18 is this patch included in and working for you in Zed Preview v. 0.210.0?\r\n\r\nfor me, not only is Zed not overriding the API settings per model, it's also getting confused about which model is which, throwing one model's display name onto another model and generally making the model selection dropdown not work right.\r\n\r\nis there something cached anywhere that i need to delete?"
    } ]
  }, {
    "issueNumber" : 38629,
    "commentsCount" : 6,
    "comments" : [ {
      "numberIssue" : 38629,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @Sherlock-Holo on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38629,
      "numberCommentInIssue" : 2,
      "authorComment" : "Sherlock-Holo",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38629,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38629,
      "numberCommentInIssue" : 4,
      "authorComment" : "Sherlock-Holo",
      "commentText" : "this will fix https://github.com/zed-industries/zed/issues/38412\r\n\r\nalso I found the PR https://github.com/zed-industries/zed/pull/38004 but it was closed by\r\n\r\n> Thanks for your review! Understand your consideration. I think the problem might be specific to certain model, only glm-4.5-flash often gives a negative index. I'm now inspecting it.\r\n\r\nhowever, there are a lot of LLM providers, deepseek, google, openrouter and self-hosted openai compatible server, it is hard to let them provide a standard response, consider zed support openai compatible provider, zed should try to support them, after all, this change is very simple"
    }, {
      "numberIssue" : 38629,
      "numberCommentInIssue" : 5,
      "authorComment" : "Sherlock-Holo",
      "commentText" : "also,I found vllm [doc](https://docs.vllm.ai/en/latest/examples/online_serving/openai_chat_completion_client_with_tools.html), the default index is -1\r\n\r\n```python\r\ndef handle_tool_calls_arguments(chunks: list[Any]) -> list[str]:\r\n    arguments = []\r\n    tool_call_idx = -1\r\n    print(\"arguments: \")\r\n    for chunk in chunks:\r\n        if chunk.choices[0].delta.tool_calls:\r\n            tool_call = chunk.choices[0].delta.tool_calls[0]\r\n            if tool_call.index != tool_call_idx:\r\n                if tool_call_idx >= 0:\r\n                    print(f\"streamed tool call arguments: {arguments[tool_call_idx]}\")\r\n                tool_call_idx = chunk.choices[0].delta.tool_calls[0].index\r\n                arguments.append(\"\")\r\n            if tool_call.id:\r\n                print(f\"streamed tool call id: {tool_call.id} \")\r\n\r\n            if tool_call.function:\r\n                if tool_call.function.name:\r\n                    print(f\"streamed tool call name: {tool_call.function.name}\")\r\n\r\n                if tool_call.function.arguments:\r\n                    arguments[tool_call_idx] += tool_call.function.arguments\r\n\r\n    return arguments\r\n```"
    }, {
      "numberIssue" : 38629,
      "numberCommentInIssue" : 6,
      "authorComment" : "Sherlock-Holo",
      "commentText" : "the first commit just make zed doesn't report the parse error again, but it still can't use tool call\r\n\r\nnow zed can use tool call correctly with the second commit, tested on self-hosted vllm with qwen3-coder model"
    } ]
  }, {
    "issueNumber" : 38632,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38632,
      "numberCommentInIssue" : 1,
      "authorComment" : "ciaran-matthew-dunne",
      "commentText" : "Fixed by performing `rm -rf ~/.gemini`"
    }, {
      "numberIssue" : 38632,
      "numberCommentInIssue" : 2,
      "authorComment" : "morgankrey",
      "commentText" : "Closed given fix from reporter"
    } ]
  }, {
    "issueNumber" : 38633,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38633,
      "numberCommentInIssue" : 1,
      "authorComment" : "sineptic",
      "commentText" : "font weight setting doesn't change anything"
    }, {
      "numberIssue" : 38633,
      "numberCommentInIssue" : 2,
      "authorComment" : "jansol",
      "commentText" : "Sounds like a case of #7992 and quite possibly comes down to https://github.com/googlefonts/fontations/pull/1496 . You are using the TTF version of the font, right?"
    }, {
      "numberIssue" : 38633,
      "numberCommentInIssue" : 3,
      "authorComment" : "sineptic",
      "commentText" : "> You are using the TTF version of the font, right?\n\nYou are right. I downloaded OTF version and it renderes as TTF version in Alacritty.\nBoth versions in Zed seems thicker, central space inside `o` in TTF Zed is smallest.\n\n<img width=\"1831\" height=\"284\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1640079e-3f9a-446c-87cf-be997f35c38b\" />"
    }, {
      "numberIssue" : 38633,
      "numberCommentInIssue" : 4,
      "authorComment" : "sineptic",
      "commentText" : "I don't know whether it is low dpi display or not, because all other fonts are rendered normally"
    } ]
  }, {
    "issueNumber" : 38635,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38635,
      "numberCommentInIssue" : 1,
      "authorComment" : "maxdeviant",
      "commentText" : "Hmm, don’t we need the theme names to complete inside of the Zed `settings.json`?"
    } ]
  }, {
    "issueNumber" : 38637,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38637,
      "numberCommentInIssue" : 1,
      "authorComment" : "lemorage",
      "commentText" : "How many other models have u tried? Can u list some if any? "
    }, {
      "numberIssue" : 38637,
      "numberCommentInIssue" : 2,
      "authorComment" : "CarlvinceTan",
      "commentText" : "I also tried Qwen3 Coder 480B A35B (free) and Deepseek V3.1 (free)."
    }, {
      "numberIssue" : 38637,
      "numberCommentInIssue" : 3,
      "authorComment" : "lemorage",
      "commentText" : "I very suspect this is because the sent payload is way too large. Free models on openRouter have tighter restrictions. So can u check, if u just chat with some simple messages, or attached files are relatively small, will this still happen?"
    }, {
      "numberIssue" : 38637,
      "numberCommentInIssue" : 4,
      "authorComment" : "CarlvinceTan",
      "commentText" : "It's working now (for both small and large  payloads with and without attachments), I'm not too sure what was the issue that triggered the previous error warning. The files I included back then didn't have many lines of code. Thank you for replying though."
    } ]
  }, {
    "issueNumber" : 38638,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38638,
      "numberCommentInIssue" : 1,
      "authorComment" : "JunkuiZhang",
      "commentText" : "I believe this has been fixed via #38654, feel free to reopen this if you still see this."
    } ]
  }, {
    "issueNumber" : 38640,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38640,
      "numberCommentInIssue" : 1,
      "authorComment" : "JosephTLyons",
      "commentText" : "Thanks for flagging @thomasheartman, I'm able to reproduce! I'll bring this up with the team."
    }, {
      "numberIssue" : 38640,
      "numberCommentInIssue" : 2,
      "authorComment" : "olejorgenb",
      "commentText" : "Could it be that this was supposed to be closed by https://github.com/zed-industries/zed/pull/39139? (Note the the PR \"Closes\" it's own PR-ID instead of an issue ID (easy copy-paste mistake to make))"
    } ]
  }, {
    "issueNumber" : 38641,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38641,
      "numberCommentInIssue" : 1,
      "authorComment" : "driftcell",
      "commentText" : "I noticed that `shift-g` will go to the first column of last line, is it right? I will change this PR to draft now."
    }, {
      "numberIssue" : 38641,
      "numberCommentInIssue" : 2,
      "authorComment" : "AlvaroParker",
      "commentText" : "In Neovim, `gg` and `G` behave the same as moving the cursor up and down with `j` and `k`. They remember the column position when moving vertically. So if you're on column 10 of a line, when you press `G` it will go to the last line at column 10, or to the maximum column if that line is shorter. \r\n\r\nYou can check this by opening a file with `nvim -u NONE <file>` (`-u NONE` to not load any custom config)\r\n\r\nI think most users who come from Neovim/Vim are used to using Neovim keymaps, so keeping this as it is makes sense as a sane default imo."
    }, {
      "numberIssue" : 38641,
      "numberCommentInIssue" : 3,
      "authorComment" : "driftcell",
      "commentText" : "> In Neovim, `gg` and `G` behave the same as moving the cursor up and down with `j` and `k`. They remember the column position when moving vertically. So if you're on column 10 of a line, when you press `G` it will go to the last line at column 10, or to the maximum column if that line is shorter.\r\n> \r\n> You can check this by opening a file with `nvim -u NONE <file>` (`-u NONE` to not load any custom config)\r\n> \r\n> I think most users who come from Neovim/Vim are used to using Neovim keymaps, so keeping this as it is makes sense as a sane default imo.\r\n\r\nYes, you are right, because I don't have the experience of use Neovim so I made this change(the default behavior of vim), I will close the PR later, thanks bro."
    } ]
  }, {
    "issueNumber" : 38642,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38642,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @mkcode on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    } ]
  }, {
    "issueNumber" : 38644,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38644,
      "numberCommentInIssue" : 1,
      "authorComment" : "chrisking",
      "commentText" : "Might be related to this https://github.com/zed-industries/zed/issues/29827 "
    }, {
      "numberIssue" : 38644,
      "numberCommentInIssue" : 2,
      "authorComment" : "gdmhrogla",
      "commentText" : "I can't reproduce the crash, but I also don't have syntax highlighting or something else.\n\nI'm using the current windows nightly.\n\n```\n2025-10-10T15:20:40+02:00 INFO  [extension::extension_builder] compiling grammar htmldjango for extension C:\\Users\\r62xx052\\Downloads\\zed-django-html-main\\zed-django-html-main\n2025-10-10T15:20:40+02:00 INFO  [extension::extension_builder] checking out htmldjango parser\n2025-10-10T15:20:42+02:00 INFO  [extension::extension_builder] compiling htmldjango parser\n2025-10-10T15:20:47+02:00 INFO  [extension::extension_builder] compiled grammar htmldjango for extension C:\\Users\\r62xx052\\Downloads\\zed-django-html-main\\zed-django-html-main\n2025-10-10T15:20:47+02:00 INFO  [extension::extension_builder] finished compiling extension C:\\Users\\r62xx052\\Downloads\\zed-django-html-main\\zed-django-html-main\n2025-10-10T15:20:50+02:00 INFO  [extension_host] rebuilt extension index in 2.5453165s\n2025-10-10T15:20:50+02:00 INFO  [extension_host] extensions updated. loading 1, reloading 0, unloading 0\n```\n"
    }, {
      "numberIssue" : 38644,
      "numberCommentInIssue" : 3,
      "authorComment" : "corentinbettiol",
      "commentText" : "Hi @gdmhrogla!\nYeah the problem seems to be fixed, I retried and the install process did not crash zed, as well as selecting Django HTML syntax for an html file. Seems that tree-sitter have been fixed, and it works on zed 0.207.4 :)"
    } ]
  }, {
    "issueNumber" : 38645,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38645,
      "numberCommentInIssue" : 1,
      "authorComment" : "lemorage",
      "commentText" : "Thx! I was kinda fooled by my raycast clipboard. Can u check again if this time it works?"
    } ]
  }, {
    "issueNumber" : 38646,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38646,
      "numberCommentInIssue" : 1,
      "authorComment" : "jneem",
      "commentText" : "I just checked with latest master (version 206.0) and I'm getting the expected behavior. Do you still see the issue in a more recent version?"
    } ]
  }, {
    "issueNumber" : 38648,
    "commentsCount" : 8,
    "comments" : [ {
      "numberIssue" : 38648,
      "numberCommentInIssue" : 1,
      "authorComment" : "notpeter",
      "commentText" : "Can you provide additional steps to reproduce?\nAssume I have an empty directory and get me to seeing the behavior you are seeing."
    }, {
      "numberIssue" : 38648,
      "numberCommentInIssue" : 2,
      "authorComment" : "pedroapfilho",
      "commentText" : "It works when I add `node-linker=hoisted` to the `.npmrc`. It seems that it's something related to the `pnpm` config. But it works on Cursor though."
    }, {
      "numberIssue" : 38648,
      "numberCommentInIssue" : 3,
      "authorComment" : "notpeter",
      "commentText" : "Interesting. Would love to understand the conditions which trigger this issue and when/if Zed should be applying a specific workaround to get [`node-linker=hoisted`](https://pnpm.io/9.x/npmrc#node-linker) automatically as appropriate."
    }, {
      "numberIssue" : 38648,
      "numberCommentInIssue" : 4,
      "authorComment" : "pedroapfilho",
      "commentText" : "You can use this [repo here](https://github.com/pedroapfilho/acme-monorepo), and basically remove the option from the `.npmrc`, and then you'll see the issue."
    }, {
      "numberIssue" : 38648,
      "numberCommentInIssue" : 5,
      "authorComment" : "pedroapfilho",
      "commentText" : "Any other info necessary for this bug?"
    }, {
      "numberIssue" : 38648,
      "numberCommentInIssue" : 6,
      "authorComment" : "dotMortis",
      "commentText" : "Hey, I came across your issue while investigating my own ESLint problems.\nIn my pnpm monorepo setup, Prettier works fine even with per-module configs.\nI’ve linked the repo in my issue here:\nhttps://github.com/zed-industries/zed/issues/39041"
    }, {
      "numberIssue" : 38648,
      "numberCommentInIssue" : 7,
      "authorComment" : "pauliusef",
      "commentText" : "> Hey, I came across your issue while investigating my own ESLint problems. In my pnpm monorepo setup, Prettier works fine even with per-module configs. I’ve linked the repo in my issue here: [#39041](https://github.com/zed-industries/zed/issues/39041)\n\n@dotMortis this issue comes up when Prettier config adds Prettier plugins. Without plugins, prettier does work with pnpm. Repository in your issue has a simple Prettier config without any plugins."
    }, {
      "numberIssue" : 38648,
      "numberCommentInIssue" : 8,
      "authorComment" : "pedroapfilho",
      "commentText" : "Yeah, I think it comes up to certain `prettier` plugins that use `fs` stuff, and I don't know if `zed` is handling this case, the same way that `vscode` based editors are."
    } ]
  }, {
    "issueNumber" : 38649,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38649,
      "numberCommentInIssue" : 1,
      "authorComment" : "notpeter",
      "commentText" : "Thanks for reporting.  This will require some work as the caps_lock key in particular brings some complications.\n\nAs a workaround around, you could try remapping caps_lock to another key / key combo in your operating system (e.g. ctrl-alt-shift-1 or whatever) and then mapping that in Zed."
    }, {
      "numberIssue" : 38649,
      "numberCommentInIssue" : 2,
      "authorComment" : "Tomatos03",
      "commentText" : "> ### Summary\n> \n> I would like to bind `workspace::ToggleVimMode` to the CapsLock key, but can't.\n> ### Description\n> \n> DESCRIPTION_HERE\n> \n> Steps to reproduce:\n> \n>     1. In the top left corner click zed\n> \n>     2. From the dropdown pick Open Key Bindings\n> \n>     3. Search for workspace: toggle vim mode\n> \n>     4. Try changing it to Caps lock\n> \n> \n> **Expected Behavior**: **Actual Behavior**:\n> keybindings\n> \n> ### Zed Version and System Specs\n> \n> Zed: 0.204.4 (Zed) OS: Linux X11 ubuntu 24.04 Memory: 7.5 GiB Architecture: x86_64 GPU: Intel(R) UHD Graphics (TGL GT1) || Intel open-source Mesa driver || Mesa 25.0.7-0ubuntu0.24.04.2\n\nYou can use [keyd](https://github.com/rvaiya/keyd) on Linux to remap Caps Lock to Esc \n"
    }, {
      "numberIssue" : 38649,
      "numberCommentInIssue" : 3,
      "authorComment" : "aizigao",
      "commentText" : "I recommend binding caps with xremap to ctrl plus esc\n"
    } ]
  }, {
    "issueNumber" : 38651,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38651,
      "numberCommentInIssue" : 1,
      "authorComment" : "lemorage",
      "commentText" : "This seems a regression issue. I did not get this behavior in v0.203.5."
    }, {
      "numberIssue" : 38651,
      "numberCommentInIssue" : 2,
      "authorComment" : "kinoute",
      "commentText" : "Yeah I just got this as well. And I can't, in the \"commit message modal\", use the shortcut cmd+enter to \"Amend\". Have to do it manually."
    }, {
      "numberIssue" : 38651,
      "numberCommentInIssue" : 3,
      "authorComment" : "TaufiqHdyt",
      "commentText" : "[Related issue](https://discord.com/channels/869392257814519848/1418769932174233682) from Discord."
    } ]
  }, {
    "issueNumber" : 38653,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38653,
      "numberCommentInIssue" : 1,
      "authorComment" : "osiewicz",
      "commentText" : "I can repro on Windows and not on Mac. My repro steps are a bit different though. After `test1`/`test2` are created, collapsing and expanding `IgnoredFolder` amounts to an empty folder."
    }, {
      "numberIssue" : 38653,
      "numberCommentInIssue" : 2,
      "authorComment" : "RandaZraik",
      "commentText" : "@osiewicz ah I see, you can see here how it behaves for me currently:\n\nhttps://github.com/user-attachments/assets/e4741324-4ed8-44b3-9d82-8f3103b977ce"
    } ]
  }, {
    "issueNumber" : 38655,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38655,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  0 warning: \n  1 messages\n  \n  DangerID: danger-id-Danger;\n-->\n\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Messages</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:book:</td>\n      <td>\n\n  This PR includes links to the following GitHub Issues: #- 21994\nIf this PR aims to close an issue, please include a `Closes #ISSUE` line at the top of the PR body.\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 7333a75a94a521628bf96c32cceee04c2cf2715b\n</p>\n"
    } ]
  }, {
    "issueNumber" : 38657,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38657,
      "numberCommentInIssue" : 1,
      "authorComment" : "benbrandt",
      "commentText" : "Will revisit later"
    } ]
  }, {
    "issueNumber" : 38658,
    "commentsCount" : 16,
    "comments" : [ {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @b5, @dignifiedquire on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 2,
      "authorComment" : "dignifiedquire",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @b5 on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 4,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 5,
      "authorComment" : "b5",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 6,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 7,
      "authorComment" : "jeroenvanmaanen",
      "commentText" : "I am dying to use this, so I switched to the fork for the moment. I surely hope that this PR will be merged! \uD83D\uDC4D \uD83E\uDD1E "
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 8,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @jeroenvanmaanen on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 9,
      "authorComment" : "jeroenvanmaanen",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 10,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 11,
      "authorComment" : "franciskafyi",
      "commentText" : "Hey @dignifiedquire, we're doing a big PR review push next week ahead of the break and we'd love to include this one, if it's ready! What kind of questions do you have for us?"
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 12,
      "authorComment" : "dignifiedquire",
      "commentText" : "@franciskafyi would love to help land this, the two biggest open questions are the ones I mentioned in the description\r\n\r\n>  UX: What's the best way to do the setup? Currently the remote_server binary needs to be run manually, and the connection ticket pasted into the UI.\r\n\r\nThis is the harder one, folks have been using it, the way it currently is, so I'd be happy to land it like it is, and we can work on improving this based on feedback, but you might want a more streamlined version to land it?\r\n\r\n> UI: what icon should we use? \r\n\r\nThis is probably a lot easier, just need some guidance on what icon to use in the UI to reference iroh connections."
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 13,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 6dd719a442006268864917dabcdad5cc0487a195\n</p>\n"
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 14,
      "authorComment" : "dignifiedquire",
      "commentText" : "As noted in the description and above, there are some open questions, but CI is green now, so marking it as ready for review"
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 15,
      "authorComment" : "franciskafyi",
      "commentText" : "Hey @dignifiedquire, thank you for this!\r\n\r\nI spoke with @Veykril and team internally and we think this is a good idea but we expect this to carry some maintenance cost on our side that we're not sure we're able to take on right now. \r\n\r\nTo start, would you be able to start a Discussion about this? We'd love to hear if this is something other users want as well. For more exposure I'd recommend asking in our Discord too. \r\n\r\nI'll close this for now, but let's revisit once we see more traction from users. Feel free to tag me in the Discussion so I can follow along closely. "
    }, {
      "numberIssue" : 38658,
      "numberCommentInIssue" : 16,
      "authorComment" : "jeroenvanmaanen",
      "commentText" : "Arrgh! \uD83D\uDE31  I've been using the @dignifiedquire clone of Zed the past few months and I hoped to be able to switch to the official Zed binary at some point in the near future. This existence of this PR was the decisive push I needed to switch from IntelliJ to Zed.\r\n\r\nI was planning to find some time to see whether it would be possible to reconnect after a timeout (e.g., because of putting my laptop in sleep mode). This would be a lot more elegant using Iroh over UDP than with SSH over TCP I guess.\r\n\r\nI hope you will find a way to make this pluggable so that this feature can exist, without placing a maintenance burden on the Zed organisation. (You could try to decouple frontend and backend using some kind of communication layer, for example, I don't know, ... Iroh? \uD83D\uDE09)"
    } ]
  }, {
    "issueNumber" : 38659,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38659,
      "numberCommentInIssue" : 1,
      "authorComment" : "xtanion",
      "commentText" : "I was able to reproduce this. From what I can see, the `create_terminal_shell` method uses active_toolchain to determine which venv to activate. The problem is that `active_toolchain` only returns a cached toolchain, and since no Python environments are cached until you open a Python file, it ends up returning `None`.\nhttps://github.com/zed-industries/zed/blob/e42dfb438715f80513d33a652035698485bbbd0c/crates/project/src/terminals.rs#L325C1-L329C56"
    }, {
      "numberIssue" : 38659,
      "numberCommentInIssue" : 2,
      "authorComment" : "theelderbeever",
      "commentText" : "@xtanion How do you clear the cached toolchain? My zed refuses to stop using the wrong python in the wrong places. I would rather have it just load the toolchain on each open than cache with the amount of headaches this has caused me."
    }, {
      "numberIssue" : 38659,
      "numberCommentInIssue" : 3,
      "authorComment" : "xtanion",
      "commentText" : "Hey @theelderbeever, you can check out my [PR](https://github.com/zed-industries/zed/pull/39470). It might have some performance issues since it sets the active toolchain in the start_terminal function itself. I’m working on an alternative approach to improve that."
    } ]
  }, {
    "issueNumber" : 38660,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38660,
      "numberCommentInIssue" : 1,
      "authorComment" : "JosephTLyons",
      "commentText" : "Thank you!"
    } ]
  }, {
    "issueNumber" : 38662,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38662,
      "numberCommentInIssue" : 1,
      "authorComment" : "tobezdev",
      "commentText" : "*cricket noises*"
    }, {
      "numberIssue" : 38662,
      "numberCommentInIssue" : 2,
      "authorComment" : "lengarvey",
      "commentText" : "This looks amazing. I've recently had my zed GH copilot agent start using sed to edit files while in ask mode. I can't figure out how to disable specific commands from being run and this feature would definitely let me do it."
    } ]
  }, {
    "issueNumber" : 38666,
    "commentsCount" : 9,
    "comments" : [ {
      "numberIssue" : 38666,
      "numberCommentInIssue" : 1,
      "authorComment" : "katie-z-geer",
      "commentText" : "This has been fixed in 0.204. Now, you have to click rollback if you want to discard all your changes. Let me know if you have what you need here!\n\n\n\n\n"
    }, {
      "numberIssue" : 38666,
      "numberCommentInIssue" : 2,
      "authorComment" : "OperationalFallacy",
      "commentText" : "I don't think problem I described is fixed at all. I wanted the editor not to discard changes if type something into an earlier prompt.\n "
    }, {
      "numberIssue" : 38666,
      "numberCommentInIssue" : 3,
      "authorComment" : "OperationalFallacy",
      "commentText" : "Idk if anybody else suffering this UX, I certainly do\n\nIDE discard changes if user forgets to click tiny little button at the button of the screen while typing something into a start prompt \n\n<img width=\"2118\" height=\"1385\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3a0a666a-4eb4-42cf-91c4-6406361ceb4f\" />"
    }, {
      "numberIssue" : 38666,
      "numberCommentInIssue" : 4,
      "authorComment" : "danilo-leal",
      "commentText" : "Hey @OperationalFallacy, thanks for the issue! I think the behavior here is correct, as in: discarding pending changes (neither accept nor rejected) when you edit a previous message makes sense to me. _However_, I think your confusion also makes sense; we don't tell you that's going to happen—we're assuming it is intuitive/obvious and it may not be. With that, I think the course of action here should be communicating to you something like \"You have pending agent changes, do you confirm resubmitting this message?\" or something. This is on my radar and hopefully, I'll tackle it soon. We don't want the UI for that to be an aggressive modal at the middle of the screen, though; so we'll need to figure something out."
    }, {
      "numberIssue" : 38666,
      "numberCommentInIssue" : 5,
      "authorComment" : "OperationalFallacy",
      "commentText" : "Agree \nYou probably should have a standard IDE UX on unexpected file changes, it asks if ok to rewrite or compare\nSomething like that\n"
    }, {
      "numberIssue" : 38666,
      "numberCommentInIssue" : 6,
      "authorComment" : "orien",
      "commentText" : "Zed 0.206.6 just deleted a considerable number of AI generated changes. \uD83D\uDE2E I edited only the last prompt in a long conversation, which hadn't provided any changes yet."
    }, {
      "numberIssue" : 38666,
      "numberCommentInIssue" : 7,
      "authorComment" : "Mr-Pepe",
      "commentText" : "> Zed just deleted a considerable number of AI generated changes\n\nSame... The way it currently works isn't intuitive to me at all and I have lost work more than once because of it :\\\n\nEdit: I just found the little \"Restore checkpoint\" button. "
    }, {
      "numberIssue" : 38666,
      "numberCommentInIssue" : 8,
      "authorComment" : "dallas-hall-tl",
      "commentText" : "I think my UX surprise to this is more nuanced:\n1. I have some changes that have not been \"Kept\" or \"Rejected\"\n2. I type out a message and accidentally hit \"Enter\" before finishing my message.\n3. I hit the stop button (typically only \"thinking\" messages have shown at this point, if any)\n4. I click back to edit my last message\n5. My changes are gone\n\nThis actually took me some time to figure out what was happening, as it felt like the code just disappeared. And my mental model told me that it was safe to edit the previous message because I had \"interrupted\" it before it made further changes.\n\nMy ideal situation is any of the following:\n- only changes made _before_ the target message (the historical one I want to edit) would be discarded (this is my favorite, and it matches a behavior I liked in a different editor, so it feels familiar)\n- I am warned that my changes will be discarded, and I'm given a chance to say \"Oops! I want to keep most of this.\"\n- Nothing is discarded automatically when editing chats"
    }, {
      "numberIssue" : 38666,
      "numberCommentInIssue" : 9,
      "authorComment" : "danilo-leal",
      "commentText" : "@dallas-hall-tl Oof, yeah, that all checks out; thanks for sharing your experience. I agree with the evaluated solutions and the one that'd be ultimately the best. One of the reasons why we haven't acted on this yet, though, is because we're actually considering removing this interstitial agent reject/keep step that we currently have and just rely on Git. So, with it, editing a past message with \"edits in pending acceptance state\" would never automatically discard them; you'd need to do it through Git, as you'd normally do. There are still some other design questions we're going through before promptly executing on this, but should happen hopefully soon. "
    } ]
  }, {
    "issueNumber" : 38667,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38667,
      "numberCommentInIssue" : 1,
      "authorComment" : "colemcanelly",
      "commentText" : "Duplicate of https://github.com/zed-industries/zed/issues/38491"
    } ]
  }, {
    "issueNumber" : 38669,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38669,
      "numberCommentInIssue" : 1,
      "authorComment" : "kraanzu",
      "commentText" : "Do you mean the filetree won't even show the pyrightconfig.json file?"
    }, {
      "numberIssue" : 38669,
      "numberCommentInIssue" : 2,
      "authorComment" : "tyrion",
      "commentText" : "No, it is shown in the file-tree, just not picked up by pyright for some reason (even though the same configuration file and folder layout works fine with pyright on Cursor)"
    }, {
      "numberIssue" : 38669,
      "numberCommentInIssue" : 3,
      "authorComment" : "kraanzu",
      "commentText" : "Hmmm...From what I experienced. Looks like zed needs a python file in the root dir (ie the same directory as the pyrightconfig.json)\nCan you just create an empty python file in the root dir and open it in zed and see the updated logs?"
    }, {
      "numberIssue" : 38669,
      "numberCommentInIssue" : 4,
      "authorComment" : "tyrion",
      "commentText" : "Thanks to your suggestion I have managed to do some progress, but the issue is not solved yet.\n\n<img width=\"249\" height=\"192\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b4f9654f-8465-484d-843f-3cf787c10429\" />\n\nAs you can see from the image, it seems that multiple instances of pyright are started.\n\nIt seems that if I open a file inside `package_a`, then I get an instance of pyright for that project (\"Loading pyproject.toml file at /home/tyrion/Work/project/services/package_a/pyproject.toml\"), if I open a file inside `package_b` same thing but it loads the pyproject.toml inside package_b.\n\nIf no buffers are open pyright is not started.\n\nSo, I tried creating a `hello.py` file in the root, and start the editor with no open buffers.  If I open the `hello.py` file, then I get an instance of pyright and the `pyrightconfig.json` is found! This triggered a scan of all the file in the workspace, following the ignore patterns. However, pyright could not find the correct venv path (solved by specifying venvPath and venv in its settings).\n\nThis seems all good. However, whenever I open a file inside one of the sub-projects (package_a, package_b, etc) a new instance of pyright is spawned, which ingnores the top-level pyrightconfig.json and so it messes up everything.\n\nI am not sure if it possible to solve this on my side somehow, but this starts to look more and more like a bug to me, since it effectively prevents from working in monorepos.\n\nThanks again for you help, let me know if you have some other ideas."
    }, {
      "numberIssue" : 38669,
      "numberCommentInIssue" : 5,
      "authorComment" : "kraanzu",
      "commentText" : "> This seems all good. However, whenever I open a file inside one of the sub-projects (package_a, package_b, etc) a new instance of pyright is spawned, which ingnores the top-level pyrightconfig.json and so it messes up everything.\n\nThis behaviour is intended. See https://github.com/zed-industries/zed/pull/22182\n\nI did try a few things. There's a `-p` flag for pyright cli that can be used to define a source of pyrightconfig but it can't be used in combination with `--stdio` which is used by zed\n\nSo yea, idk if this is even possible or `correct` way\nThe alternative can be to create a project specific zed settings file and copy the same settings from your root pyrightconfig\n\n"
    } ]
  }, {
    "issueNumber" : 38671,
    "commentsCount" : 8,
    "comments" : [ {
      "numberIssue" : 38671,
      "numberCommentInIssue" : 1,
      "authorComment" : "franciskafyi",
      "commentText" : "Thank you for reporting this. We'll take a look at configuring MCP servers for Windows asap!"
    }, {
      "numberIssue" : 38671,
      "numberCommentInIssue" : 2,
      "authorComment" : "maxbrunsfeld",
      "commentText" : "Which MCP servers are you using?"
    }, {
      "numberIssue" : 38671,
      "numberCommentInIssue" : 3,
      "authorComment" : "KrunchMuffin",
      "commentText" : "Would have been Supabase and Context7 at least. But I went back, updated\r\nZed, went into the servers and the changes appear to be there now. So Maybe\r\nit was saving my changes, but not reflecting in the UI.\r\n\r\nOn Mon, Sep 29, 2025 at 7:40 PM Max Brunsfeld ***@***.***>\r\nwrote:\r\n\r\n> *maxbrunsfeld* left a comment (zed-industries/zed#38671)\r\n> <https://github.com/zed-industries/zed/issues/38671#issuecomment-3349404234>\r\n>\r\n> Which MCP servers are you using?\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/zed-industries/zed/issues/38671#issuecomment-3349404234>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AAH5HDP24MH2TB7YGJZQCHL3VG7OFAVCNFSM6AAAAACHGP2JVCVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZTGNBZGQYDIMRTGQ>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n"
    }, {
      "numberIssue" : 38671,
      "numberCommentInIssue" : 4,
      "authorComment" : "maxbrunsfeld",
      "commentText" : "I'm able to configure MCP servers using this UI in the current Windows nightly. Can you try configuring yours again?"
    }, {
      "numberIssue" : 38671,
      "numberCommentInIssue" : 5,
      "authorComment" : "maxbrunsfeld",
      "commentText" : "Oh, actually I believe it's because the Supabase and Context7 server extensions have unreleased changes that get them working on Windows. I'll be publishing new versions today."
    }, {
      "numberIssue" : 38671,
      "numberCommentInIssue" : 6,
      "authorComment" : "maxbrunsfeld",
      "commentText" : "Ok, Context7 has been updated. Still waiting on the Supbase extension maintainer to merge our fix."
    }, {
      "numberIssue" : 38671,
      "numberCommentInIssue" : 7,
      "authorComment" : "maxbrunsfeld",
      "commentText" : "Now we just need to publish the new supabase extension."
    }, {
      "numberIssue" : 38671,
      "numberCommentInIssue" : 8,
      "authorComment" : "maxbrunsfeld",
      "commentText" : "Version 0.0.3 of the Supabase extension is out, and works on Windows."
    } ]
  }, {
    "issueNumber" : 38672,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38672,
      "numberCommentInIssue" : 1,
      "authorComment" : "mgsloan",
      "commentText" : "Not merging this.  Should find a better solution for provenance tracking than manipulating the lowest bits of the luminance channel mantissa."
    } ]
  }, {
    "issueNumber" : 38674,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38674,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "Thanks! "
    }, {
      "numberIssue" : 38674,
      "numberCommentInIssue" : 2,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 9af8051765055ae7d60d025ffa151299d5151a52\n</p>\n"
    } ]
  }, {
    "issueNumber" : 38681,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38681,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "Amazing, thanks for this, and sorry for not spotting the regression! "
    } ]
  }, {
    "issueNumber" : 38682,
    "commentsCount" : 6,
    "comments" : [ {
      "numberIssue" : 38682,
      "numberCommentInIssue" : 1,
      "authorComment" : "franciskafyi",
      "commentText" : "Thank you for raising this, how does e.g. VS Code handle this?"
    }, {
      "numberIssue" : 38682,
      "numberCommentInIssue" : 2,
      "authorComment" : "wiltaylor-daf",
      "commentText" : "@franciskafyi they have 3 installers for windows on their web site.\nThey have multiple installers for each of the different scenarios:\nhttps://code.visualstudio.com/Download\n\n<img width=\"231\" height=\"410\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f2529738-245a-4aed-8345-5a01939a428f\" />\n\nThey have a user install which is like your current installer, a system installer which installs to program files like i described above and a zip file for a portable install that a user can just copy to their system (or a enterprise IT team could package if they wanted to).\n\nAnother option that other editors use is to ask the user if they want to install for themselves or all users (all users requriring elevation). Inno (installer zed is using) supports doing this.\n\nThen to deploy your app via sccm or any other deployment tool the admin would just need to call something like:\n```powershell\nzed_editor_installer_x86_64.exe /ALLUSERS /VERYSILENT /NORESTART\n```"
    }, {
      "numberIssue" : 38682,
      "numberCommentInIssue" : 3,
      "authorComment" : "wiltaylor-daf",
      "commentText" : "Oh should mention the cli install will probably be installing via winget, scoop or chocolatey. Be great to have zed on there too but probably not something to worry about till your out of beta (i am planning on raising tickets for them later)."
    }, {
      "numberIssue" : 38682,
      "numberCommentInIssue" : 4,
      "authorComment" : "Neustradamus",
      "commentText" : "It will be nice to have by default, installer which select:\n- All users\n- Current user\n\nAdministrator rights are important.\n\nFor example, Pulsar is good:\n- https://github.com/pulsar-edit/pulsar\n- https://github.com/pulsar-edit/pulsar/releases"
    }, {
      "numberIssue" : 38682,
      "numberCommentInIssue" : 5,
      "authorComment" : "720720",
      "commentText" : "https://github.com/microsoft/winget-pkgs/blob/master/manifests/z/ZedIndustries/Zed/0.208.4/ZedIndustries.Zed.installer.yaml\n\nhttps://github.com/microsoft/winget-pkgs/issues/304654\n\nif the installer supports it we could add scope machine to the winget manifest\n"
    }, {
      "numberIssue" : 38682,
      "numberCommentInIssue" : 6,
      "authorComment" : "wiltaylor-daf",
      "commentText" : "> if the installer supports it we could add scope machine to the winget manifest\n\nYeah would be nice. Currently it doesn't though, it only supports installing to the current users profile. \n\n"
    } ]
  }, {
    "issueNumber" : 38683,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38683,
      "numberCommentInIssue" : 1,
      "authorComment" : "mikayla-maki",
      "commentText" : "This PR doesn't seem to work when I tested it by running with development state and then hitting `cmd-shift-n` \uD83D\uDE05 \r\n"
    }, {
      "numberIssue" : 38683,
      "numberCommentInIssue" : 2,
      "authorComment" : "petros",
      "commentText" : "@mikayla-maki oh hi! \uD83D\uDE04. I am running it using `cargo run`. Should I run it differently? Still works here."
    }, {
      "numberIssue" : 38683,
      "numberCommentInIssue" : 3,
      "authorComment" : "mikayla-maki",
      "commentText" : "In attempting to figure out what was going on, I realized there where some other bugs in our new window deserialization and our new window opening code that are masking the behavior in this PR. However, I could observe that behavior working correctly for simple cases, and the code looks correct, so I think this is ok to merge. Thanks Petros, nice to see you again!"
    } ]
  }, {
    "issueNumber" : 38684,
    "commentsCount" : 6,
    "comments" : [ {
      "numberIssue" : 38684,
      "numberCommentInIssue" : 1,
      "authorComment" : "JunkuiZhang",
      "commentText" : "I can not reproduce this, could you provide the text you copy?\n\nhttps://github.com/user-attachments/assets/d0930443-6d2b-4c31-89f4-03552f452b65"
    }, {
      "numberIssue" : 38684,
      "numberCommentInIssue" : 2,
      "authorComment" : "luckzylp",
      "commentText" : "Yes. The Chinese string for the test is as follows,\n```\n\uD83C\uDF1F\uD83C\uDF1F 使用模式 &mut V 去匹配一个可变引用时，你需要格外小心，因为匹配出来的 V 是一个值，而不是可变引用\n```\nI used the same operation on home computer and found that there was no problem of the zed crashing, but it was on the latest Zed software version 4532765ae845b8c98c73c88cc916f7d771b429d5. The configuration of the computer at home is as follows,\n```\nZed: v0.206.0 (Zed Nightly 4532765ae845b8c98c73c88cc916f7d771b429d5) \nOS: Windows 10.0.19045\nMemory: 7.7 GiB\nArchitecture: x86_64\nGPU: Intel(R) HD Graphics 620 || Intel Corporation || 31.0.101.2135\n```\n\nSo now I'm not sure if it's a problem with the company's computer environment or if the latest software version of Zed has fixed this issue.  I might need to use that company's computer again with the latest software to test if there are still any problems when I go to work again.\n\n\n\n"
    }, {
      "numberIssue" : 38684,
      "numberCommentInIssue" : 3,
      "authorComment" : "WantenMN",
      "commentText" : "Zed Dev 0.206.0 \n681a4adc42df0c93b95fd1a36a3ad47eaca086c0\n\nCrashes after pasting/input any Chinese character：\n\nhttps://github.com/user-attachments/assets/609f02c5-6851-44cd-94c4-197e610b470a\n\n"
    }, {
      "numberIssue" : 38684,
      "numberCommentInIssue" : 4,
      "authorComment" : "WantenMN",
      "commentText" : "I updated to Zed Dev 0.207.0 (0f7dbf57f5e690780cf7b388d19fa1378e297a6e), and the problem no longer occurs."
    }, {
      "numberIssue" : 38684,
      "numberCommentInIssue" : 5,
      "authorComment" : "luckzylp",
      "commentText" : "@JunkuiZhang  I tried to catch the crash log on the company computer in version 'Zed: v0.206.0 (Zed Nightly e484f49)' as follows,\n```\nPS D:\\Zed Nightly\\bin> $env:RUST_BACKTRACE=\"full\"; .\\zed.exe --foreground\n2025-09-25T09:48:24+08:00 INFO  [zed] ========== starting zed version 0.206.0, sha e484f49 ==========\n2025-09-25T09:48:24+08:00 INFO  [gpui::platform::windows::directx_devices] Using GPU: Intel(R) Iris(R) Xe Graphics\n2025-09-25T09:48:24+08:00 INFO  [gpui::platform::windows::directx_devices] Created device with Direct3D 11.1 feature level.\n2025-09-25T09:48:24+08:00 INFO  [gpui::platform::windows::direct_write] Use Microsoft YaHei UI as UI font.\n2025-09-25T09:48:24+08:00 INFO  [zed] Using git binary path: None\n2025-09-25T09:48:24+08:00 INFO  [crashes] spawning crash handler process\n2025-09-25T09:48:24+08:00 ERROR [gpui::text_system::font_features] Incorrect font feature tag: normal\n2025-09-25T09:48:24+08:00 INFO  [crashes] connected to crash handler process after 100ms\n2025-09-25T09:48:24+08:00 INFO  [crashes] crash handler registered\n2025-09-25T09:48:24+08:00 INFO  [extension_host] extensions updated. loading 37, reloading 0, unloading 0\n2025-09-25T09:48:25+08:00 INFO  [gpui::platform::windows::vsync] DirectComposition is supported for VSync, interval: 16.666ms\n2025-09-25T09:48:25+08:00 INFO  [sqlez::migrations] Found 9 foreign key relationships to check\n2025-09-25T09:48:25+08:00 ERROR [gpui] 参数错误。 (0x80070057)\n\nStack backtrace:\n   0: git_odb_object_size\n   1: git_odb_object_size\n   2: git_trace_set\n   3: git_patch_owner\n   4: git_patch_owner\n   5: git_odb_object_size\n   6: git_odb_object_size\n   7: git_odb_object_size\n   8: git_patch_owner\n   9: CallWindowProcW\n  10: IsWindowUnicode\n  11: git_patch_owner\n  12: git_odb_object_size\n  13: git_odb_object_size\n  14: git_odb_object_size\n  15: git_odb_object_size\n  16: git_odb_object_size\n  17: git_odb_object_size\n  18: git_trace_set\n  19: BaseThreadInitThunk\n  20: RtlUserThreadStart\n2025-09-25T09:48:25+08:00 INFO  [client] set status on client 0: Authenticating\n2025-09-25T09:48:25+08:00 INFO  [zed::zed] Using GPU: GpuSpecs { is_software_emulated: false, device_name: \"Intel(R) Iris(R) Xe Graphics\", driver_name: \"Intel Corporation\", driver_info: \"32.0.101.5972\" }\n2025-09-25T09:48:25+08:00 INFO  [sqlez::migrations] Found 9 foreign key relationships to check\n2025-09-25T09:48:28+08:00 INFO  [sqlez::migrations] Found 10 foreign key relationships to check\n2025-09-25T09:48:30+08:00 INFO  [client] set status on client 236935: Authenticated\n2025-09-25T09:48:30+08:00 INFO  [workspace] Couldn't find any enabled panel for the Left dock.\n\nStack backtrace:\n   0: git_odb_object_size\n   1: git_odb_object_size\n   2: git_odb_object_size\n   3: git_odb_object_size\n   4: git_filter_source_mode\n   5: git_filter_source_mode\n   6: git_patch_owner\n   7: CallWindowProcW\n   8: IsWindowUnicode\n   9: git_patch_owner\n  10: git_odb_object_size\n  11: git_odb_object_size\n  12: git_odb_object_size\n  13: git_odb_object_size\n  14: git_odb_object_size\n  15: git_odb_object_size\n  16: git_trace_set\n  17: BaseThreadInitThunk\n  18: RtlUserThreadStart\n2025-09-25T09:48:30+08:00 INFO  [sqlez::migrations] Found 11 foreign key relationships to check\n2025-09-25T09:48:30+08:00 ERROR [agent2::agent] Failed to authenticate provider: Amazon Bedrock: 找不到元素。 (0x80070490)\n2025-09-25T09:48:30+08:00 INFO  [gpui::platform::windows::directx_renderer] Updating quad_pipeline buffer size from 64 to 256\n2025-09-25T09:48:33+08:00 WARN  [language::language_registry] not registering extension-provided language server LanguageServerName(\"basedpyright\") for language LanguageName(\"Python\"), since a builtin language server exists with that name\n2025-09-25T09:48:33+08:00 WARN  [language::language_registry] not registering extension-provided language server LanguageServerName(\"ruff\") for language LanguageName(\"Python\"), since a builtin language server exists with that name\n2025-09-25T09:54:00+08:00 ERROR [worktree] failed to open local worktree root\n\nCaused by:\n    拒绝访问。 (os error 5)\n\nStack backtrace:\n   0: git_odb_object_size\n   1: git_odb_object_size\n   2: git_trace_set\n   3: git_patch_owner\n   4: git_filter_source_mode\n   5: git_filter_source_mode\n   6: git_patch_owner\n   7: CallWindowProcW\n   8: IsWindowUnicode\n   9: git_patch_owner\n  10: git_odb_object_size\n  11: git_odb_object_size\n  12: git_odb_object_size\n  13: git_odb_object_size\n  14: git_odb_object_size\n  15: git_odb_object_size\n  16: git_trace_set\n  17: BaseThreadInitThunk\n  18: RtlUserThreadStart\n2025-09-25T09:54:00+08:00 WARN  [fs] Failed to watch: Input watch path is neither a file nor a directory.\n2025-09-25T09:54:02+08:00 INFO  [sqlez::migrations] Found 16 foreign key relationships to check\n2025-09-25T09:54:10+08:00 ERROR [crashes] triggering a crash to generate a minidump...\n```\nHope this information will be helpful to you.\n\n---\n\nI was testing on the latest build from today:\n```\n Zed: v0.207.0 (Zed Nightly d321cf93ba074542f10b99e95d055059eec076e2)  \nOS: Windows 10.0.26100  \nMemory: 15.7 GiB  \nArchitecture: x86_64  \nGPU: Intel(R) Iris(R) Xe Graphics || Intel Corporation || 32.0.101.5972  \n```\nI did not experience any Zed UI crashes, but crash-related entries still appeared in the runtime logs. I'm not sure if this is the intended behavior.\n\nThe run log is as follows,\n```\nPS D:\\Zed Nightly\\bin> $env:RUST_BACKTRACE=\"full\"; .\\zed.exe --foreground\n2025-09-25T10:02:39+08:00 INFO  [zed] ========== starting zed version 0.207.0, sha d321cf9 ==========\n2025-09-25T10:02:39+08:00 INFO  [gpui::platform::windows::directx_devices] Using GPU: Intel(R) Iris(R) Xe Graphics\n2025-09-25T10:02:39+08:00 INFO  [gpui::platform::windows::directx_devices] Created device with Direct3D 11.1 feature level.\n2025-09-25T10:02:39+08:00 INFO  [gpui::platform::windows::direct_write] Use Microsoft YaHei UI as UI font.\n2025-09-25T10:02:39+08:00 INFO  [zed] Using git binary path: None\n2025-09-25T10:02:39+08:00 INFO  [crashes] spawning crash handler process\n2025-09-25T10:02:39+08:00 ERROR [gpui::text_system::font_features] Incorrect font feature tag: normal\n2025-09-25T10:02:39+08:00 INFO  [extension_host] extensions updated. loading 37, reloading 0, unloading 0\n2025-09-25T10:02:39+08:00 INFO  [gpui::platform::windows::vsync] DirectComposition is supported for VSync, interval: 16.666ms\n2025-09-25T10:02:39+08:00 INFO  [crashes] connected to crash handler process after 100ms\n2025-09-25T10:02:39+08:00 INFO  [crashes] crash handler registered\n2025-09-25T10:02:39+08:00 INFO  [client] set status on client 0: Authenticating\n2025-09-25T10:02:44+08:00 INFO  [client] set status on client 236935: Authenticated\n2025-09-25T10:02:44+08:00 ERROR [worktree] failed to open local worktree root\n\nCaused by:\n    拒绝访问。 (os error 5)\n\nStack backtrace:\n   0: git_odb_object_size\n   1: git_odb_object_size\n   2: git_trace_set\n   3: git_patch_owner\n   4: git_filter_source_mode\n   5: git_filter_source_mode\n   6: git_patch_owner\n   7: CallWindowProcW\n   8: IsWindowUnicode\n   9: git_patch_owner\n  10: git_odb_object_size\n  11: git_odb_object_size\n  12: git_odb_object_size\n  13: git_odb_object_size\n  14: git_odb_object_size\n  15: git_odb_object_size\n  16: git_trace_set\n  17: BaseThreadInitThunk\n  18: RtlUserThreadStart\n2025-09-25T10:02:44+08:00 WARN  [fs] Failed to watch: Input watch path is neither a file nor a directory.\n2025-09-25T10:02:44+08:00 INFO  [zed::zed] Using GPU: GpuSpecs { is_software_emulated: false, device_name: \"Intel(R) Iris(R) Xe Graphics\", driver_name: \"Intel Corporation\", driver_info: \"32.0.101.5972\" }\n2025-09-25T10:02:44+08:00 INFO  [onboarding] Onboarding page Basics loaded\n2025-09-25T10:02:44+08:00 ERROR [agent2::agent] Failed to authenticate provider: Amazon Bedrock: 找不到元素。 (0x80070490)\n2025-09-25T10:02:46+08:00 WARN  [language::language_registry] not registering extension-provided language server LanguageServerName(\"basedpyright\") for language LanguageName(\"Python\"), since a builtin language server exists with that name\n2025-09-25T10:02:46+08:00 WARN  [language::language_registry] not registering extension-provided language server LanguageServerName(\"ruff\") for language LanguageName(\"Python\"), since a builtin language server exists with that name\n\n```\n\n\n\n"
    }, {
      "numberIssue" : 38684,
      "numberCommentInIssue" : 6,
      "authorComment" : "maxbrunsfeld",
      "commentText" : "Please let us know if this is still happening to anyone on the latest nightly."
    } ]
  }, {
    "issueNumber" : 38685,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38685,
      "numberCommentInIssue" : 1,
      "authorComment" : "franciskafyi",
      "commentText" : "That's no good. We're taking a look! Thank you for reporting!"
    } ]
  }, {
    "issueNumber" : 38686,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38686,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Can you try https://github.com/zed-industries/zed/issues/17904#issuecomment-2812652929 settings change?\nTerminal's default for line height seem to be odd."
    }, {
      "numberIssue" : 38686,
      "numberCommentInIssue" : 2,
      "authorComment" : "sultanmyrza",
      "commentText" : "Thank you @SomeoneToIgnore! Adding the `line_height` setting fixed the issue.\n\n<details><summary>Zed configuration (details.json)</summary>\n\n```json\n{\n  \"ui_font_size\": 16,\n  \"buffer_font_size\": 15,\n  \"theme\": {\n    \"mode\": \"system\",\n    \"light\": \"One Light\",\n    \"dark\": \"One Dark\"\n  },\n  \"terminal\": {\n    \"line_height\": {\n      \"custom\": 1.3\n    }\n  }\n}\n```\n\n</details>\n\n**Issue Status:** This appears to be a duplicate of [zed-industries/zed#17904](https://github.com/zed-industries/zed/issues/17904). The solution is documented in [this comment](https://github.com/zed-industries/zed/issues/17904#issuecomment-2812652929).\n\n**Question for maintainers:** Should this issue remain open? As a new Zed user, I was not aware of the `line_height` configuration option, and there might be other new users facing the same problem. Should the QR code display work out of the box without requiring custom terminal settings?\n"
    }, {
      "numberIssue" : 38686,
      "numberCommentInIssue" : 3,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "I think it should be changed, we'll try in Nightly after the next release this Wednesday."
    } ]
  }, {
    "issueNumber" : 38689,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38689,
      "numberCommentInIssue" : 1,
      "authorComment" : "17twenty",
      "commentText" : "Related to https://github.com/sqlc-dev/sqlc/issues/3907"
    }, {
      "numberIssue" : 38689,
      "numberCommentInIssue" : 2,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Nothing here seems possible to fix in Zed per se: either the formatter it calls for sql is defined by an extension should be fixed (which one is called, by the way?) or that other issue has to be fixed — Zed itself knows nothing about languages and how to format them."
    }, {
      "numberIssue" : 38689,
      "numberCommentInIssue" : 3,
      "authorComment" : "17twenty",
      "commentText" : "What's the way to find the formatter/plugin being used? Is it not in the config provided?"
    }, {
      "numberIssue" : 38689,
      "numberCommentInIssue" : 4,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Should be a config provided one, yeah, but I have no clue which sql-related extension is used, hence no clue about its config.\n\nBy default, Zed uses \nhttps://github.com/zed-industries/zed/blob/f07bc12aed224159016007cbe47ef60c74381a74/assets/settings/default.json#L1086-L1102\n\nwhich will first try to use Prettier (if enabled for the language in its language config), then fall back to the corresponding language server (if defined for the language in its language config).\n\nI see no other, sql-related info in the default settings, so the rest have to be in the extension language config."
    } ]
  }, {
    "issueNumber" : 38690,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38690,
      "numberCommentInIssue" : 1,
      "authorComment" : "achieve-dream1221",
      "commentText" : "This issue should not be difficult to fix, since similar issues have been reported before. However, it still hasn’t been addressed. Is there any reason why it hasn’t been fixed yet?\nhttps://github.com/zed-industries/zed/issues/36055"
    } ]
  }, {
    "issueNumber" : 38692,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38692,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report, that seems really bad..\n\nWe'll try to take a look, but if you stumble across a method to more reliably reproduce this and share it here, that would be definitely appreciated."
    }, {
      "numberIssue" : 38692,
      "numberCommentInIssue" : 2,
      "authorComment" : "aadishv",
      "commentText" : "> We'll try to take a look, but if you stumble across a method to more reliably reproduce this and share it here, that would be definitely appreciated.\n\nOkay I spent a little bit of time trying to reproduce it. I think that, if you start the application and (before the first window appears) spam clicking its icon in the Dock, this issue will occur. The cloned windows that appear are all the same window as would've appeared without spamming the icon. Idk if this is intentional, or if it's the only way to cause the error, but it definitely works consistently for me. Hope this helps!"
    }, {
      "numberIssue" : 38692,
      "numberCommentInIssue" : 3,
      "authorComment" : "MrSubidubi",
      "commentText" : "That makes it also reproducible for me, thanks for getting back! Would appreciate if you could update your issue description accordingly. Nice digging!"
    }, {
      "numberIssue" : 38692,
      "numberCommentInIssue" : 4,
      "authorComment" : "egilchrist-godaddy",
      "commentText" : "Not sure if it's related, but when I open Zed in a directory from my terminal, i.e., `zed .`, it always opens an empty project instead of the project I'm trying to open. It's extremely annoying."
    } ]
  }, {
    "issueNumber" : 38693,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38693,
      "numberCommentInIssue" : 1,
      "authorComment" : "ojpro",
      "commentText" : "Having the same performance issue\n-  slow LSP\n- ~project panel takes a while to reflect changes~\n- ~RPC buffer limit~\n\n\n- Global Search is slow (I think because it does not lazy load the results, as I have to wait until search finish)\n- sometime the terminal get disconnected\n"
    }, {
      "numberIssue" : 38693,
      "numberCommentInIssue" : 2,
      "authorComment" : "volodymyrrudyi",
      "commentText" : "The same, also sometimes Zed hangs completely and crashes. Mac OS"
    }, {
      "numberIssue" : 38693,
      "numberCommentInIssue" : 3,
      "authorComment" : "miguelraz",
      "commentText" : "@mudrockdev Is this still an issue if you\n1. Connect to a remote that has no LSPs in the project\n2. Connect to a remote that has a single LSP in the project\n\nIf it happens with more, any chance you could give us concrete examples so we can pare it down and squash the bug faster?"
    }, {
      "numberIssue" : 38693,
      "numberCommentInIssue" : 4,
      "authorComment" : "Veykril",
      "commentText" : "This isn't really a useful issue for us to track, we are aware of performance and memory concerns already"
    } ]
  }, {
    "issueNumber" : 38697,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38697,
      "numberCommentInIssue" : 1,
      "authorComment" : "overstarry",
      "commentText" : "```\n\n2025-09-23T20:22:00+08:00 WARN  [agent_servers::acp] agent stderr: Failed to spawn Claude Code process: spawn /home/overstarry/.local/share/zed/node/node-v22.5.1-linux-x64/bin/node ENOENT\n\n2025-09-23T20:22:00+08:00 WARN  [agent_servers::acp] agent stderr: Claude Code process exited with code -2\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr: Error handling request {\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:   jsonrpc: '2.0',\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:   id: 2,\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:   method: 'session/prompt',\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:   params: {\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:     sessionId: '01997685-ff83-77b9-96e3-69b22d530ae8',\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:     prompt: [ [Object] ]\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:   }\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr: } {\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:   code: -32603,\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:   message: 'Internal error',\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:   data: {\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:     details: 'Failed to spawn Claude Code process: spawn /home/overstarry/.local/share/zed/node/node-v22.5.1-linux-x64/bin/node ENOENT'\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:   }\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr: }\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr: Unhandled Rejection at: Promise {\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:   <rejected> Error: ProcessTransport is not ready for writing\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:       at ProcessTransport.write (file:///home/overstarry/.local/share/zed/external_agents/claude-code-acp/0.4.3/node_modules/@anthropic-ai/claude-code/sdk.mjs:6539:13)\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:       at Query.streamInput (file:///home/overstarry/.local/share/zed/external_agents/claude-code-acp/0.4.3/node_modules/@anthropic-ai/claude-code/sdk.mjs:7030:46)\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:       at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr: } reason: Error: ProcessTransport is not ready for writing\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:     at ProcessTransport.write (file:///home/overstarry/.local/share/zed/external_agents/claude-code-acp/0.4.3/node_modules/@anthropic-ai/claude-code/sdk.mjs:6539:13)\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:     at Query.streamInput (file:///home/overstarry/.local/share/zed/external_agents/claude-code-acp/0.4.3/node_modules/@anthropic-ai/claude-code/sdk.mjs:7030:46)\n\n2025-09-23T20:22:17+08:00 WARN  [agent_servers::acp] agent stderr:     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n\n````"
    }, {
      "numberIssue" : 38697,
      "numberCommentInIssue" : 2,
      "authorComment" : "zxy198717",
      "commentText" : "the latest version is now available. "
    }, {
      "numberIssue" : 38697,
      "numberCommentInIssue" : 3,
      "authorComment" : "zxy198717",
      "commentText" : "bug @ and / not work...."
    } ]
  }, {
    "issueNumber" : 38699,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38699,
      "numberCommentInIssue" : 1,
      "authorComment" : "chemsedd",
      "commentText" : "I changed *Hyprland* config to disable HDR and it fixed it for me.\n\n\n```\nrender {\n    cm_auto_hdr = 0\n}\n```\n\n[Hyrpalnd docs for render section](https://wiki.hypr.land/Configuring/Variables/#render)"
    }, {
      "numberIssue" : 38699,
      "numberCommentInIssue" : 2,
      "authorComment" : "MatyeusM",
      "commentText" : "> I changed _Hyprland_ config to disable HDR and it fixed it for me.\n> \n> ```\n> render {\n>     cm_auto_hdr = 0\n> }\n> ```\n> \n> [Hyrpalnd docs for render section](https://wiki.hypr.land/Configuring/Variables/#render)\n\nThank you very much. Currently zed is still the only application i run, that uses that behaviour."
    }, {
      "numberIssue" : 38699,
      "numberCommentInIssue" : 3,
      "authorComment" : "Edgar200021",
      "commentText" : "> I changed _Hyprland_ config to disable HDR and it fixed it for me.\n> \n> ```\n> render {\n>     cm_auto_hdr = 0\n> }\n> ```\n> \n> [Hyrpalnd docs for render section](https://wiki.hypr.land/Configuring/Variables/#render)\n\nThanks bro"
    }, {
      "numberIssue" : 38699,
      "numberCommentInIssue" : 4,
      "authorComment" : "MatyeusM",
      "commentText" : "I can try to make a repro checklist, since it is i think monitor specific. The monitor needs to be HDR capable, and not in HDR mode. With auto_hdr enabled in hyprland. \n\nHowever, it could be that this works as intended, despite not being on other apps. I have to check after new year, as I got not access to my initial config, that encountered this issue."
    }, {
      "numberIssue" : 38699,
      "numberCommentInIssue" : 5,
      "authorComment" : "mentalblood0",
      "commentText" : "Had similar problem with mpv, fixed with\n\n```\nrender {\n    cm_auto_hdr = 0\n    cm_fs_passthrough = 0\n}\n```\n"
    } ]
  }, {
    "issueNumber" : 38701,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38701,
      "numberCommentInIssue" : 1,
      "authorComment" : "JosephTLyons",
      "commentText" : "Hey @LHolten - I'm trying to reproduce, but am unable to. Any chance I could get you to try to come up with a minimal rust project that has the issue? I'm also no macOS, so maybe the difference is there."
    }, {
      "numberIssue" : 38701,
      "numberCommentInIssue" : 2,
      "authorComment" : "Veykril",
      "commentText" : "I believe this to be fixed by https://github.com/zed-industries/zed/pull/38308"
    }, {
      "numberIssue" : 38701,
      "numberCommentInIssue" : 3,
      "authorComment" : "JosephTLyons",
      "commentText" : "Awesome @Veykril - I actually just found an exact reproduction too. I did a project search over `visible_regex_match_iter`, then placed my cursor at the end of `visible_regex_match_iter` and did `select larger syntax node` and stable crashed.\n\nHappy to hear it is fixed."
    } ]
  }, {
    "issueNumber" : 38703,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38703,
      "numberCommentInIssue" : 1,
      "authorComment" : "Anthony-Eid",
      "commentText" : "Just curious, did you run any benchmarks on this? I would love to see the results! \r\n\r\nRope should have some "
    }, {
      "numberIssue" : 38703,
      "numberCommentInIssue" : 2,
      "authorComment" : "Veykril",
      "commentText" : "Not yet which is why its a draft still, haven't checked yet whether we have benches that exercise cursors"
    }, {
      "numberIssue" : 38703,
      "numberCommentInIssue" : 3,
      "authorComment" : "Veykril",
      "commentText" : "So, as expected this improves cursor construction time, but generally regresses any other benchmark that uses them as they likely hit the allocation path \r\n\r\n```\r\nGnuplot not found, using plotters backend\r\npush/4096               time:   [361.95 µs 365.82 µs 368.96 µs]\r\n                        thrpt:  [10.587 MiB/s 10.678 MiB/s 10.792 MiB/s]\r\n                 change:\r\n                        time:   [-2.2700% -1.3406% -0.4579%] (p = 0.00 < 0.05)\r\n                        thrpt:  [+0.4600% +1.3588% +2.3227%]\r\n                        Change within noise threshold.\r\nFound 10 outliers among 100 measurements (10.00%)\r\n  6 (6.00%) low severe\r\n  4 (4.00%) high mild\r\npush/65536              time:   [1.3057 ms 1.3085 ms 1.3113 ms]\r\n                        thrpt:  [47.662 MiB/s 47.766 MiB/s 47.866 MiB/s]\r\n                 change:\r\n                        time:   [+2.4124% +2.8898% +3.3284%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-3.2212% -2.8087% -2.3556%]\r\n                        Performance has regressed.\r\nFound 6 outliers among 100 measurements (6.00%)\r\n  1 (1.00%) low severe\r\n  3 (3.00%) low mild\r\n  2 (2.00%) high mild\r\n\r\nappend/4096             time:   [679.32 ns 682.89 ns 687.42 ns]\r\n                        thrpt:  [5.5493 GiB/s 5.5861 GiB/s 5.6155 GiB/s]\r\n                 change:\r\n                        time:   [-0.4620% +0.0534% +0.5962%] (p = 0.84 > 0.05)\r\n                        thrpt:  [-0.5927% -0.0533% +0.4642%]\r\n                        No change in performance detected.\r\nFound 5 outliers among 100 measurements (5.00%)\r\n  2 (2.00%) high mild\r\n  3 (3.00%) high severe\r\nappend/65536            time:   [9.4385 µs 9.4554 µs 9.4737 µs]\r\n                        thrpt:  [6.4426 GiB/s 6.4551 GiB/s 6.4666 GiB/s]\r\n                 change:\r\n                        time:   [+1.7650% +1.9803% +2.1771%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-2.1307% -1.9418% -1.7344%]\r\n                        Performance has regressed.\r\nFound 4 outliers among 100 measurements (4.00%)\r\n  2 (2.00%) high mild\r\n  2 (2.00%) high severe\r\n\r\nslice/4096              time:   [28.137 µs 28.254 µs 28.368 µs]\r\n                        thrpt:  [137.70 MiB/s 138.25 MiB/s 138.83 MiB/s]\r\n                 change:\r\n                        time:   [+0.9032% +1.3539% +1.8047%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-1.7727% -1.3358% -0.8951%]\r\n                        Change within noise threshold.\r\nFound 4 outliers among 100 measurements (4.00%)\r\n  4 (4.00%) low mild\r\nslice/65536             time:   [542.41 µs 542.82 µs 543.27 µs]\r\n                        thrpt:  [115.04 MiB/s 115.14 MiB/s 115.23 MiB/s]\r\n                 change:\r\n                        time:   [+3.4480% +3.6578% +3.8701%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-3.7259% -3.5288% -3.3330%]\r\n                        Performance has regressed.\r\nFound 10 outliers among 100 measurements (10.00%)\r\n  2 (2.00%) low severe\r\n  1 (1.00%) low mild\r\n  5 (5.00%) high mild\r\n  2 (2.00%) high severe\r\n\r\nbytes_in_range/4096     time:   [3.7717 µs 3.7794 µs 3.7871 µs]\r\n                        thrpt:  [1.0073 GiB/s 1.0093 GiB/s 1.0114 GiB/s]\r\n                 change:\r\n                        time:   [+5.8778% +6.3463% +6.7867%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-6.3554% -5.9676% -5.5515%]\r\n                        Performance has regressed.\r\nFound 3 outliers among 100 measurements (3.00%)\r\n  1 (1.00%) low severe\r\n  1 (1.00%) low mild\r\n  1 (1.00%) high mild\r\nbytes_in_range/65536    time:   [89.379 µs 89.770 µs 90.212 µs]\r\n                        thrpt:  [692.82 MiB/s 696.23 MiB/s 699.27 MiB/s]\r\n                 change:\r\n                        time:   [+1.2150% +2.6951% +4.3439%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-4.1631% -2.6243% -1.2004%]\r\n                        Performance has regressed.\r\nFound 9 outliers among 100 measurements (9.00%)\r\n  4 (4.00%) high mild\r\n  5 (5.00%) high severe\r\n\r\nchars/4096              time:   [832.18 ns 834.58 ns 837.12 ns]\r\n                        thrpt:  [4.5569 GiB/s 4.5708 GiB/s 4.5840 GiB/s]\r\n                 change:\r\n                        time:   [+22.246% +22.750% +23.254%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-18.866% -18.534% -18.198%]\r\n                        Performance has regressed.\r\nFound 2 outliers among 100 measurements (2.00%)\r\n  2 (2.00%) high mild\r\nchars/65536             time:   [15.124 µs 15.236 µs 15.350 µs]\r\n                        thrpt:  [3.9763 GiB/s 4.0061 GiB/s 4.0357 GiB/s]\r\n                 change:\r\n                        time:   [+17.886% +18.634% +19.365%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-16.223% -15.707% -15.172%]\r\n                        Performance has regressed.\r\n\r\nclip_point/4096         time:   [45.186 µs 45.281 µs 45.382 µs]\r\n                        thrpt:  [86.075 MiB/s 86.267 MiB/s 86.449 MiB/s]\r\n                 change:\r\n                        time:   [+31.548% +31.916% +32.280%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-24.403% -24.194% -23.982%]\r\n                        Performance has regressed.\r\nBenchmarking clip_point/65536: Warming up for 3.0000 s\r\nWarning: Unable to complete 100 samples in 12.0s. You may wish to increase target time to 13.4s, enable flat sampling, or reduce sample count to 60.\r\nclip_point/65536        time:   [2.1633 ms 2.1669 ms 2.1706 ms]\r\n                        thrpt:  [28.794 MiB/s 28.843 MiB/s 28.891 MiB/s]\r\n                 change:\r\n                        time:   [+21.987% +22.829% +23.666%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-19.137% -18.586% -18.024%]\r\n                        Performance has regressed.\r\nFound 11 outliers among 100 measurements (11.00%)\r\n  6 (6.00%) high mild\r\n  5 (5.00%) high severe\r\n\r\npoint_to_offset/4096    time:   [15.812 µs 15.836 µs 15.862 µs]\r\n                        thrpt:  [246.26 MiB/s 246.67 MiB/s 247.05 MiB/s]\r\n                 change:\r\n                        time:   [+16.941% +17.171% +17.416%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-14.833% -14.655% -14.487%]\r\n                        Performance has regressed.\r\nFound 10 outliers among 100 measurements (10.00%)\r\n  1 (1.00%) low severe\r\n  6 (6.00%) low mild\r\n  3 (3.00%) high mild\r\npoint_to_offset/65536   time:   [628.49 µs 634.03 µs 640.25 µs]\r\n                        thrpt:  [97.618 MiB/s 98.577 MiB/s 99.445 MiB/s]\r\n                 change:\r\n                        time:   [+12.238% +15.525% +18.914%] (p = 0.00 < 0.05)\r\n                        thrpt:  [-15.905% -13.439% -10.903%]\r\n                        Performance has regressed.\r\nFound 9 outliers among 100 measurements (9.00%)\r\n  6 (6.00%) high mild\r\n  3 (3.00%) high severe\r\n\r\ncursor-construction/4096             time:   [13.863 µs 13.887 µs 13.910 µs]\r\n                        thrpt:  [280.83 MiB/s 281.28 MiB/s 281.77 MiB/s]\r\n                 change:\r\n                        time:   [-17.264% -16.984% -16.719%] (p = 0.00 < 0.05)\r\n                        thrpt:  [+20.075% +20.458% +20.867%]\r\n                        Performance has improved.\r\nFound 3 outliers among 100 measurements (3.00%)\r\n  1 (1.00%) low severe\r\n  2 (2.00%) low mild\r\ncursor-construction/65536            time:   [547.00 µs 552.15 µs 558.37 µs]\r\n                        thrpt:  [111.93 MiB/s 113.19 MiB/s 114.26 MiB/s]\r\n                 change:\r\n                        time:   [-1.2282% -0.0654% +1.1849%] (p = 0.92 > 0.05)\r\n                        thrpt:  [-1.1710% +0.0654% +1.2435%]\r\n                        No change in performance detected.\r\nFound 10 outliers among 100 measurements (10.00%)\r\n  6 (6.00%) high mild\r\n  4 (4.00%) high severe\r\n```"
    }, {
      "numberIssue" : 38703,
      "numberCommentInIssue" : 4,
      "authorComment" : "Veykril",
      "commentText" : "https://github.com/zed-industries/zed/pull/38776 reduces it by only 8 bytes without any runtime tradeoffs which has some nicer small gains on the rope benchmark"
    } ]
  }, {
    "issueNumber" : 38704,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38704,
      "numberCommentInIssue" : 1,
      "authorComment" : "localcc",
      "commentText" : "Closing for now as it might not be needed once we switch off of cosmic_text depending on if the library we choose does grid fitting on the y-axis. Our ideal font  rendering solution would not use cosmic_text because we get a very bad glyph rasterization result from it"
    }, {
      "numberIssue" : 38704,
      "numberCommentInIssue" : 2,
      "authorComment" : "filipwiech",
      "commentText" : "@localcc What about macOS, should it be applied there, or there's no need (referencing https://github.com/zed-industries/zed/pull/37622#issuecomment-3307275405)? :thinking: "
    }, {
      "numberIssue" : 38704,
      "numberCommentInIssue" : 3,
      "authorComment" : "localcc",
      "commentText" : "my knoweldge on macos font rendering is fairly limited but afaik macos handles y-axis subpixel hinting fine and no action is needed there"
    } ]
  }, {
    "issueNumber" : 38706,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38706,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  0 warning: \n  1 messages\n  \n  DangerID: danger-id-Danger;\n-->\n\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Messages</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:book:</td>\n      <td>\n\n  This PR includes links to the following GitHub Issues: #38343\nIf this PR aims to close an issue, please include a `Closes #ISSUE` line at the top of the PR body.\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 35fc4ed0fa8c959134605d8140ae47dac67f8a1f\n</p>\n"
    } ]
  }, {
    "issueNumber" : 38709,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38709,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report! \n\nLooking at the code, it seems that the necessary extraction for this is not implemented:\n\nhttps://github.com/zed-industries/zed/blob/1cd1993d84e5111bd20808f23333451f84f9eaea/crates/git/src/hosting_provider.rs#L106-L113\n\nis not implemented for `GitLab`. Once that is added, that should work, although I am not sure how easy that would be to add for GitLab.\n\nGonna optimistically throw the `good first issue` at this, but please be warned that this might actually not be the case. Thanks!"
    }, {
      "numberIssue" : 38709,
      "numberCommentInIssue" : 2,
      "authorComment" : "rufevean",
      "commentText" : "I dug into this and tried to implement it, but I couldn’t get the required merge request number from just the commit message. I also considered using the commit SHA and then hitting GitLab over HTTP to fetch details, but that would require access to the SHA and a client, which we don’t have in this context.\n\nJust wanted to give an update on what I tried. Do you know if there’s any other way to reliably get the merge request number in this situation?"
    }, {
      "numberIssue" : 38709,
      "numberCommentInIssue" : 3,
      "authorComment" : "MrSubidubi",
      "commentText" : "@rufevean Thanks for checking in on this. I am personally unaware of any other way to reliably get this, my quick search did not yield any results of GitLab APIs that would easily support this. We only do it regex-based for GitHub too, so might be not as easy as I initially thought. Sorry for sending you down that route!"
    }, {
      "numberIssue" : 38709,
      "numberCommentInIssue" : 4,
      "authorComment" : "LeapSeconds",
      "commentText" : "Is it fairly easy to provide solely a commit link? The GitLab commit view provides a link to the MR, so a link to the MR from Zed is more of a \"nice to have\"."
    } ]
  }, {
    "issueNumber" : 38711,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38711,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @ch45er on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38711,
      "numberCommentInIssue" : 2,
      "authorComment" : "ch45er",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38711,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38711,
      "numberCommentInIssue" : 4,
      "authorComment" : "reflectronic",
      "commentText" : "I simplified the implementation. Now, we will just pick `fxc` from whichever folder has the highest version number."
    } ]
  }, {
    "issueNumber" : 38712,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38712,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "Thanks! Weird that busybox doesn't support method, but also weird that we're passing it... Surely `GET` is the default.\n\nWe'll look into this (or if you wanted to send a PR to just remove that line, we can test it on non-busy box remotes)."
    } ]
  }, {
    "issueNumber" : 38716,
    "commentsCount" : 9,
    "comments" : [ {
      "numberIssue" : 38716,
      "numberCommentInIssue" : 1,
      "authorComment" : "s33a",
      "commentText" : "As of today, I cannot get a single response to stream."
    }, {
      "numberIssue" : 38716,
      "numberCommentInIssue" : 2,
      "authorComment" : "PaulBunch",
      "commentText" : "I've been facing this problem regularly for the past week."
    }, {
      "numberIssue" : 38716,
      "numberCommentInIssue" : 3,
      "authorComment" : "s33a",
      "commentText" : "Gemini 2.5 Pro was working for a few days. Then it went back to \"failed to stream completion\" for the last 3 or 4 days. I'm not sure what to do next about this. I tested the newly released nightly build just now with the same results."
    }, {
      "numberIssue" : 38716,
      "numberCommentInIssue" : 4,
      "authorComment" : "nguyenvulong",
      "commentText" : "Got a similar issue today. Probably rate limit. I retried after a few minutes and it worked again. But I do not think that I will stick with Gemini if this ever happens again. \n\nCodex MCP added last week faces another issue with code comprehension but that's another story."
    }, {
      "numberIssue" : 38716,
      "numberCommentInIssue" : 5,
      "authorComment" : "wiggy9999",
      "commentText" : "Same issue. Gemini 2.5 Flash works but not Pro."
    }, {
      "numberIssue" : 38716,
      "numberCommentInIssue" : 6,
      "authorComment" : "kimdo8736",
      "commentText" : "I'm getting the same issue."
    }, {
      "numberIssue" : 38716,
      "numberCommentInIssue" : 7,
      "authorComment" : "LaVashikk",
      "commentText" : "Same issue"
    }, {
      "numberIssue" : 38716,
      "numberCommentInIssue" : 8,
      "authorComment" : "kspr9",
      "commentText" : "cannot get any models to work, no gemini, no claude, no openai, no open router. nothing. \nfor claude it says, failed to stream completion, for claude it says 'invalid request format, prompt too long' and for o3 mini high (through open router) it says ' invalid request format to openrouter's api, this endpoint's max length is 200 000 tokens however you requested 723890 tokens' \n\nByt I only asked one question. and it was the first in the thread.\n\n<img width=\"542\" height=\"157\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/05f74c14-b6f3-416c-8e39-558732538799\" />\n\n<img width=\"275\" height=\"31\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c13fc293-90c1-4464-8711-062fb5d7a6b7\" />"
    }, {
      "numberIssue" : 38716,
      "numberCommentInIssue" : 9,
      "authorComment" : "pekeler",
      "commentText" : "Same problem with Gemini 3 Pro"
    } ]
  }, {
    "issueNumber" : 38719,
    "commentsCount" : 10,
    "comments" : [ {
      "numberIssue" : 38719,
      "numberCommentInIssue" : 1,
      "authorComment" : "nwalke",
      "commentText" : "Any chance of this being a zed extension rather than integrated straight to core?  I only ask because I think that would be the faster way to get this and I really want to use it :)"
    }, {
      "numberIssue" : 38719,
      "numberCommentInIssue" : 2,
      "authorComment" : "AlvaroParker",
      "commentText" : "Hey @nwalke currently zed does not support that kind of extensions. And even if it does, I don't think it would be a good idea to move this to an extension. Zed already has git support so improving that support is the right choice imo. \r\n\r\nI don't think it should take too long for a zed team member to review this (and hopefully, aprove it), of course you can always compile this branch from source and use it (at your own risk). "
    }, {
      "numberIssue" : 38719,
      "numberCommentInIssue" : 3,
      "authorComment" : "EpicEric",
      "commentText" : "Oh nice! I was trying to make an extension myself but I ran into the same issues, and then I stumbled upon this pull request.\r\n\r\nMy only suggestion is adding `git worktree remove` functionality as well."
    }, {
      "numberIssue" : 38719,
      "numberCommentInIssue" : 4,
      "authorComment" : "AlvaroParker",
      "commentText" : "I'll probably add worktree remove on another PR just because I'm not sure about the UI/UX for that functionality. For now, I think this PR is ready to go."
    }, {
      "numberIssue" : 38719,
      "numberCommentInIssue" : 5,
      "authorComment" : "cole-miller",
      "commentText" : "Thanks! In the latest revision it seems like opening remote worktrees isn't quite working--when I select a worktree from the picker I get a window with the original remote project, not a project for the selected worktree. Based on how `open_remote_project_with_existing_connection` is used elsewhere, I think we need to construct a remote project to pass into it using `Project::remote`, instead of using a local project."
    }, {
      "numberIssue" : 38719,
      "numberCommentInIssue" : 6,
      "authorComment" : "AlvaroParker",
      "commentText" : "I was hoping in reusing the connection of the active projects when on remote, but when I try creating a new remote `Project` from the existing connection I hit a few panics on `proto_client.rs` which indicate we can't have more than 1 project with the same underlying connection. I went for the second best approach, that is, opening a new connection when switching between worktrees. "
    }, {
      "numberIssue" : 38719,
      "numberCommentInIssue" : 7,
      "authorComment" : "AlvaroParker",
      "commentText" : "Awesome! One thing I've notice just now (that I didn't catch), is that when the following happens: \r\n\r\n- A branch `bar` is currently checked out\r\n- A new branch `foo` is created based off `bar`\r\n- The user tries to create a new worktree with the name `foo` based off `main`\r\n\r\nThe worktree fails to create because there's already a branch `foo` based off `bar`\r\n\r\nShould we handle this edge case? Or is the error ok to have? Since the user is trying to create a branch that already exists but based off another branch. \r\n\r\nThis doesn't happens if the user creates a worktree `foo` based off `bar`. If this is the case, the worktree correctly checks out the already created `foo` branch in the new worktree. "
    }, {
      "numberIssue" : 38719,
      "numberCommentInIssue" : 8,
      "authorComment" : "xtrasmal",
      "commentText" : "Awesome, thanks @AlvaroParker "
    }, {
      "numberIssue" : 38719,
      "numberCommentInIssue" : 9,
      "authorComment" : "sundaycrafts",
      "commentText" : "OMG THIS IS AWESOME!!!!! So cool"
    }, {
      "numberIssue" : 38719,
      "numberCommentInIssue" : 10,
      "authorComment" : "sidneyfrancois",
      "commentText" : "very useful feature, thanks @AlvaroParker!"
    } ]
  }, {
    "issueNumber" : 38720,
    "commentsCount" : 6,
    "comments" : [ {
      "numberIssue" : 38720,
      "numberCommentInIssue" : 1,
      "authorComment" : "berkus",
      "commentText" : "Tried configuring `tombi-toml` extension somehow, but it apparently just does nothing - no formatting is happening in the toml files at all when I save."
    }, {
      "numberIssue" : 38720,
      "numberCommentInIssue" : 2,
      "authorComment" : "protodeniz",
      "commentText" : "This works for me `{\"formatter\": {\"external\": {\"command\": \"taplo\", \"arguments\": [\"fmt\",\"-\"]}}`\n"
    }, {
      "numberIssue" : 38720,
      "numberCommentInIssue" : 3,
      "authorComment" : "berkus",
      "commentText" : "@protodeniz and does it properly pick up rules from .taplo.toml for you? E.g. if you set it to format every toml file _except_ Makefile.toml?"
    }, {
      "numberIssue" : 38720,
      "numberCommentInIssue" : 4,
      "authorComment" : "berkus",
      "commentText" : "Something like \n\n```\n[formatting]\nallowed_blank_lines = 1\ncolumn_width = 120\nreorder_arrays = true\nreorder_keys = true\n\n# Don't mangle makefiles, they are order-sensitive\n[[rule]]\ninclude = [\"**/Makefile.toml\"]\n\n[rule.formatting]\nreorder_arrays = false\nreorder_keys = false\n```"
    }, {
      "numberIssue" : 38720,
      "numberCommentInIssue" : 5,
      "authorComment" : "protodeniz",
      "commentText" : "It does pick up the configuration file but the application of the rules seem to be broken regardless of zed (tested with the cli, passing directly the configuration etc.). I think you should set both `reorder_keys` and `reorder_arrays` to`false` globally as a workaround (former should be set to `false` globally imo regardless)."
    }, {
      "numberIssue" : 38720,
      "numberCommentInIssue" : 6,
      "authorComment" : "berkus",
      "commentText" : "`tombi` is doing weird things in zed rn, it sometimes reformats, sometimes doesn't, and sometimes shows weird lsp errors all over the toml file."
    } ]
  }, {
    "issueNumber" : 38721,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38721,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  0 warning: \n  1 messages\n  \n  DangerID: danger-id-Danger;\n-->\n\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Messages</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:book:</td>\n      <td>\n\n  This PR includes links to the following GitHub Issues: #38169\nIf this PR aims to close an issue, please include a `Closes #ISSUE` line at the top of the PR body.\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 3bcc67189a99c8bf017c01b5588829f817c54856\n</p>\n"
    } ]
  }, {
    "issueNumber" : 38722,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38722,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "That is expected in https://github.com/zed-industries/zed/issues/15097 and https://github.com/zed-industries/zed/issues/23164 (especially) issues by other part of the community.\n\nSo eventually, I'd expect an explicit restoration code to appear there too, which could be controlled via\n\nhttps://github.com/zed-industries/zed/blob/271d67f7adde107a728fe2e9d4cb964ac91cd15b/assets/settings/default.json#L135-L143\n\nWhat's odd that we do not have explicit code to restore such history now, so there seems to be an editor leak happening?"
    }, {
      "numberIssue" : 38722,
      "numberCommentInIssue" : 2,
      "authorComment" : "injust",
      "commentText" : "The issue persists even if I reload Zed. Maybe that will help narrow down what's causing this?\n\nI reproduced the issue, reloaded Zed, and reproduced it again. I filtered out the lines that didn't seem interesting.\n\n<details>\n<summary>Logs</summary>\n\n```\n2025-09-23T11:37:51-04:00 ERROR [project] no snapshots found for buffer 4294967461 and server 2\n2025-09-23T11:37:51-04:00 ERROR [project] no snapshots found for buffer 30064771288 and server 1\n2025-09-23T11:37:58-04:00 ERROR [project] no snapshots found for buffer 4294967670 and server 4\n2025-09-23T11:37:58-04:00 ERROR [project] no snapshots found for buffer 4294967670 and server 3\n2025-09-23T11:37:59-04:00 ERROR [editor] No entry in selection_history found for undo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:38:00-04:00 ERROR [project] no snapshots found for buffer 4294967670 and server 4\n2025-09-23T11:38:01-04:00 ERROR [editor] No entry in selection_history found for redo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:38:01-04:00 ERROR [editor] No entry in selection_history found for undo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:38:02-04:00 ERROR [project] no snapshots found for buffer 4294967670 and server 4\n2025-09-23T11:38:02-04:00 ERROR [project] no snapshots found for buffer 4294967670 and server 3\n2025-09-23T11:38:04-04:00 INFO  [zed] ========== starting zed version 0.204.5, sha 289a4a6 ==========\n2025-09-23T11:38:13-04:00 ERROR [project] no snapshots found for buffer 4294967677 and server 4\n2025-09-23T11:38:13-04:00 ERROR [editor] No entry in selection_history found for undo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:38:14-04:00 ERROR [project] no snapshots found for buffer 4294967677 and server 4\n2025-09-23T11:38:15-04:00 ERROR [editor] No entry in selection_history found for redo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:38:15-04:00 ERROR [editor] No entry in selection_history found for undo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:38:17-04:00 ERROR [project] no snapshots found for buffer 4294967461 and server 2\n2025-09-23T11:38:19-04:00 ERROR [project] snapshot not found for buffer 73014444222 server 1 at version 3\n2025-09-23T11:38:19-04:00 ERROR [project] no snapshots found for buffer 73014444222 and server 2\n2025-09-23T11:38:56-04:00 ERROR [editor] No entry in selection_history found for redo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:38:57-04:00 ERROR [editor] No entry in selection_history found for undo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:38:59-04:00 ERROR [editor] No entry in selection_history found for undo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:38:59-04:00 ERROR [project] no snapshots found for buffer 4294967677 and server 4\n2025-09-23T11:39:00-04:00 ERROR [editor] No entry in selection_history found for redo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:39:01-04:00 ERROR [editor] No entry in selection_history found for undo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n2025-09-23T11:39:01-04:00 ERROR [project] no snapshots found for buffer 4294967677 and server 4\n```\n\n</details>\n\n> What's odd that we do not have explicit code to restore such history now, so there seems to be an editor leak happening?\n\nOne person's bug is another's undocumented feature I suppose \uD83D\uDE06"
    }, {
      "numberIssue" : 38722,
      "numberCommentInIssue" : 3,
      "authorComment" : "carhartl",
      "commentText" : "For me it's kind of the other way around - undo history for a file is lost, whenever I switch to a different project in the same window, and return to it. It wasn't always like that."
    }, {
      "numberIssue" : 38722,
      "numberCommentInIssue" : 4,
      "authorComment" : "injust",
      "commentText" : "An interesting observation: When this happens, undoing/redoing a change (which was made before reopening the file) doesn't jump to the location of the edit.\n\nRelevant logs:\n\n```\nERROR [editor] No entry in selection_history found for undo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\nERROR [editor] No entry in selection_history found for redo. This may correspond to a bug where undo does not update the selection. If this is occurring, please add details to https://github.com/zed-industries/zed/issues/22692\n```"
    } ]
  }, {
    "issueNumber" : 38723,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38723,
      "numberCommentInIssue" : 1,
      "authorComment" : "xj-m",
      "commentText" : "I also noticed that if I have VSCode quit, the lagging issue seems fixed"
    }, {
      "numberIssue" : 38723,
      "numberCommentInIssue" : 2,
      "authorComment" : "ghost",
      "commentText" : "> I also noticed that if I have VSCode quit, the lagging issue seems fixed\n\nThere are known problems of Electron and macOS 26. I bet this is what causing it on your machine.\n\nhttps://github.com/electron/electron/issues/48311\n"
    } ]
  }, {
    "issueNumber" : 38727,
    "commentsCount" : 8,
    "comments" : [ {
      "numberIssue" : 38727,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "cc @smitbarmase as another great case"
    }, {
      "numberIssue" : 38727,
      "numberCommentInIssue" : 2,
      "authorComment" : "osiewicz",
      "commentText" : "Note that we effectively cannot use `sortText` as provided by Pyright/basedpyright for reasons outlined in https://github.com/zed-industries/zed/pull/37850, which makes sorting based on semantics of symbols difficult.."
    }, {
      "numberIssue" : 38727,
      "numberCommentInIssue" : 3,
      "authorComment" : "covracer",
      "commentText" : "When I try to write a multiline docstring `\"\"\"<newline>` the autocompletion frustratingly inserts a filename."
    }, {
      "numberIssue" : 38727,
      "numberCommentInIssue" : 4,
      "authorComment" : "Julian-J-S",
      "commentText" : "yes, please. Exact same issue here with the enums. This would be great to fix. Its supper annoying currently \uD83E\uDD13 "
    }, {
      "numberIssue" : 38727,
      "numberCommentInIssue" : 5,
      "authorComment" : "ricardofelgueiras",
      "commentText" : "Does this also happens to you? The autocompletion doesn't help with the functions's parameters.\n\nFor example in zed:\n\n<img width=\"560\" height=\"193\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ce148f55-05c1-48e4-ae83-d0d746c7b4d6\" />\n\nAnd on vscode:\n\n<img width=\"527\" height=\"181\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/14459861-14e7-4bf6-8c9d-50ecad3edc11\" />"
    }, {
      "numberIssue" : 38727,
      "numberCommentInIssue" : 6,
      "authorComment" : "osiewicz",
      "commentText" : "@ricardofelgueiras this is a different feature called *Signature Help*. See our docs: https://zed.dev/docs/configuring-zed?highlight=signature#auto-signature-help"
    }, {
      "numberIssue" : 38727,
      "numberCommentInIssue" : 7,
      "authorComment" : "ricardofelgueiras",
      "commentText" : "> [@ricardofelgueiras](https://github.com/ricardofelgueiras) this is a different feature called _Signature Help_. See our docs: https://zed.dev/docs/configuring-zed?highlight=signature#auto-signature-help\n\nThat's it. Thank you for the help."
    }, {
      "numberIssue" : 38727,
      "numberCommentInIssue" : 8,
      "authorComment" : "alkasadist",
      "commentText" : "i will take a shot at this issue. things looking promising so far\n\n<img src=\"https://github.com/user-attachments/assets/8208d511-f4a4-41f9-8550-3b24370bf776\" width=\"400\">\n\n<img src=\"https://github.com/user-attachments/assets/e7c99d7a-b61e-463b-b0f1-36cd279b3887\" width=\"400\">\n"
    } ]
  }, {
    "issueNumber" : 38733,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38733,
      "numberCommentInIssue" : 1,
      "authorComment" : "JosephTLyons",
      "commentText" : "Thanks for the PR Tim, it's been a little while since Ive used VS Code as my primary editor, let me verify how it operates by default. If this brings us closer to the pane-opening functionality of that VS Code has by default, I'm happy to merge. Just wanted to communicate that we see your PR in the meanwhile."
    }, {
      "numberIssue" : 38733,
      "numberCommentInIssue" : 2,
      "authorComment" : "JosephTLyons",
      "commentText" : "Thank you!"
    } ]
  }, {
    "issueNumber" : 38734,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38734,
      "numberCommentInIssue" : 1,
      "authorComment" : "guuzaa",
      "commentText" : "There are guards intended to keep diff_text within the context window, but they only measure length in bytes.\nhttps://github.com/zed-industries/zed/blob/55e68553a45722718305f4207ca09a54a214eecb/crates/git_ui/src/git_panel.rs#L1796-L1799\n\nMoreover, the code checks byte length and then trims by character count, which makes the safeguard ineffective—multi‑byte UTF‑8 characters can pass the trimming."
    }, {
      "numberIssue" : 38734,
      "numberCommentInIssue" : 2,
      "authorComment" : "michtesar",
      "commentText" : "Hey there, I think I could try to take this one in \"Let's Git Together\"...but I believe some discussion needs to happen about the actual solution. I can see multiple ones, but all starts with the token count, not with file size.\n\nAt one point we won't be able to send all into context, or even filling the whole LLM context just for the commit message would be economically inefficient.\n\n1. We could possibly truncate all code that goes in (probably not the best one, but on the other hand very easy and fast)\n2. Do some smart heuristics, e.g. pick only interesting files (not like config files etc.) and pick the largest hunk assuming that the biggest changes happened there.\n3. Once we hit certain token limit we could just fill in the previous commits along side with the file names that has been changed, so the LLM has a little bit of context what was happening and which files has been changed.\n\nMaybe I have missed anything, but these are the ones, I can think of...What do you think?"
    } ]
  }, {
    "issueNumber" : 38736,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38736,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "Thanks! "
    } ]
  }, {
    "issueNumber" : 38738,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38738,
      "numberCommentInIssue" : 1,
      "authorComment" : "JorritPosthuma",
      "commentText" : "I have the same! Node cannot reach my local HomeAssistant server from within the terminal, while curl can. But from the normal MacOS terminal, both can reach it...\n\nDoesn't seem to be a DNS issue, as the same happens when directly connecting to IP.\n\n<img width=\"1800\" height=\"1169\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8471e1a6-ae04-4153-a114-ebd619d25232\" />\n\n**Details:**\nZed 0.208.6 \nMacOS 15.6.1 (24G90)\nNo apps that interfere with networking (like LittleSnitch)"
    }, {
      "numberIssue" : 38738,
      "numberCommentInIssue" : 2,
      "authorComment" : "JorritPosthuma",
      "commentText" : "Zed 0.209.6 fixes it for me! I thought, let's checkout the code and fix it myself. But then the develop build also worked, and then I discovered, I was not on the latest build. And no more problems! (Kept both versions, old version still gave problems, so it was not something with the host / my network)."
    } ]
  }, {
    "issueNumber" : 38739,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38739,
      "numberCommentInIssue" : 1,
      "authorComment" : "mal1k-me",
      "commentText" : "I examined the local threads database (the thread json data in particular), but there was no trace of the foreign chat."
    }, {
      "numberIssue" : 38739,
      "numberCommentInIssue" : 2,
      "authorComment" : "mal1k-me",
      "commentText" : "Closing the issue as this vulnerability is now documented by Github.\n\n**Excerpt from the Github Security email**:\n\n> We're writing to inform you that your GitHub Copilot usage between August 10, 2025 and September 23, 2025 was affected by a vulnerability that caused a small percentage of model responses to be misrouted to another user."
    } ]
  }, {
    "issueNumber" : 38740,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38740,
      "numberCommentInIssue" : 1,
      "authorComment" : "smitbarmase",
      "commentText" : "Thanks, I think we should have an action that only selects the current buffer instead of a complete multi-buffer, which can then be configurable via a keymap. Whether this should be the default or not can be discussed."
    }, {
      "numberIssue" : 38740,
      "numberCommentInIssue" : 2,
      "authorComment" : "github-actions[bot]",
      "commentText" : "Hi there! Zed development moves fast and a significant number of bugs become outdated. If you can reproduce this bug on the latest stable Zed, please let us know by leaving a comment with the Zed version. If the bug doesn't appear for you anymore, feel free to close the issue yourself; otherwise, the bot will close it in a couple of weeks.\nThanks for your help!"
    } ]
  }, {
    "issueNumber" : 38744,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38744,
      "numberCommentInIssue" : 1,
      "authorComment" : "github-actions[bot]",
      "commentText" : "# Squawk Report\n\n### **✅ 0** violations across **1** file(s)\n\n---\n\n<h3><code>crates/collab/migrations/20250916173002_add_path_style_to_project.sql</code></h3>\n\n```sql\nALTER TABLE projects ADD COLUMN windows_paths BOOLEAN DEFAULT FALSE;\n\n```\n\n<h4>✅ Rule Violations (0)</h4>\n\nNo violations found.\n    \n---\n    \n\n[\uD83D\uDCDA More info on rules](https://github.com/sbdchd/squawk#rules)\n\n⚡️ Powered by [`Squawk`](https://github.com/sbdchd/squawk) (0.26.0), a linter for PostgreSQL, focused on migrations"
    } ]
  }, {
    "issueNumber" : 38748,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38748,
      "numberCommentInIssue" : 1,
      "authorComment" : "lemorage",
      "commentText" : "Can u give a more explicit reproduce step sequence, maybe with some example md text if possible? Does the issue only show up for 3 images with `<img>` tags?"
    }, {
      "numberIssue" : 38748,
      "numberCommentInIssue" : 2,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report!\n\nI think we might have actually just fixed this recently, for me it shows the three images within the specified file. Could you check whether you can still reproduce on the latest Preview (v0.206.x)? "
    }, {
      "numberIssue" : 38748,
      "numberCommentInIssue" : 3,
      "authorComment" : "warrenjokinen",
      "commentText" : "Thanks. Yes. It was fixed with PR #38820 so this document is rendering correctly.\nThe issue was fixed by simple changes to the Markdown document (adding blank lines)\n\nHowever, the remaining issue is that the Previewing of md files in zed is not very robust, yet.\n\nIn this case, the zed Preview did not match what GitHub does. \nzed just silently failed...\n\nI would be glad to test what I can to make zed better all the time. \n(But not a Rust programmer, yet.)"
    }, {
      "numberIssue" : 38748,
      "numberCommentInIssue" : 4,
      "authorComment" : "MrSubidubi",
      "commentText" : "Ah I see, missed that PR of yours, sorry and thanks for improving this. \n\nAllowed myself to update the issue description to have a reproduction case for everyone.\n\nThanks for the report!"
    }, {
      "numberIssue" : 38748,
      "numberCommentInIssue" : 5,
      "authorComment" : "github-actions[bot]",
      "commentText" : "Hi there! Zed development moves fast and a significant number of bugs become outdated. If you can reproduce this bug on the latest stable Zed, please let us know by leaving a comment with the Zed version. If the bug doesn't appear for you anymore, feel free to close the issue yourself; otherwise, the bot will close it in a couple of weeks.\nThanks for your help!"
    } ]
  }, {
    "issueNumber" : 38749,
    "commentsCount" : 8,
    "comments" : [ {
      "numberIssue" : 38749,
      "numberCommentInIssue" : 1,
      "authorComment" : "LoricAndre",
      "commentText" : "@ConradIrwin I added more context to this PR, please check it if you find the time"
    }, {
      "numberIssue" : 38749,
      "numberCommentInIssue" : 2,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against a8bef5d03518829baca2406cd6e281cf73eb84cc\n</p>\n"
    }, {
      "numberIssue" : 38749,
      "numberCommentInIssue" : 3,
      "authorComment" : "LoricAndre",
      "commentText" : "I don't know the rule about closing comments in Zed, so I'm leaving them open but everything should be done @cole-miller"
    }, {
      "numberIssue" : 38749,
      "numberCommentInIssue" : 4,
      "authorComment" : "cole-miller",
      "commentText" : "Hey @LoricAndre, sorry for the slow turnaround here.\r\n\r\nI realized when looking over this again that we can solve the original issue with a simpler approach that's a subset of what you've done here: just move `ParsedCommitMessage` to `commit.rs`, and add a `parse` constructor that takes an `Option<Arc<GitHostingProviderRegistry>>`, then use that from both `blame.rs` and `git_panel.rs`. That way we don't have to make any changes to `CommitDetails`, which I think is probably best left alone for this change. Would you be up for implementing that approach? Also happy to open a PR that implements it and credit you as a coauthor if that's easier."
    }, {
      "numberIssue" : 38749,
      "numberCommentInIssue" : 5,
      "authorComment" : "LoricAndre",
      "commentText" : "Hi @cole-miller, I was about to ask for some input, so the timing is pretty perfect (I have my hands quite full with my other projects, don't worry about taking some time to review).\r\nI think what I just force-pushed matches your comment, could you take a look ? You're right that this makes this change quite a bit simpler"
    }, {
      "numberIssue" : 38749,
      "numberCommentInIssue" : 6,
      "authorComment" : "LoricAndre",
      "commentText" : "I resolved the previous comments as the changes made them obsolete at this point, feel free to reopen anything that you still deem relevant"
    }, {
      "numberIssue" : 38749,
      "numberCommentInIssue" : 7,
      "authorComment" : "cole-miller",
      "commentText" : "Thanks! I just pushed some small tweaks, this is ready to go now."
    }, {
      "numberIssue" : 38749,
      "numberCommentInIssue" : 8,
      "authorComment" : "LoricAndre",
      "commentText" : "Thank you, I had missed that dead code "
    } ]
  }, {
    "issueNumber" : 38750,
    "commentsCount" : 30,
    "comments" : [ {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 1,
      "authorComment" : "wiyota",
      "commentText" : "Same here (including specs.)"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 2,
      "authorComment" : "Omar-Ahmed85",
      "commentText" : "The same problem here.\nI have Gemini CLI installed at version: \"0.6.1\".\n\nZed: Nightly 0.207.0\nOS: Windows 10 64-bit\nMemory: 8 GiB\n"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 3,
      "authorComment" : "abdull1986",
      "commentText" : "@zed-intelligence am not sure how was this tested it never worked since day one across all platforms "
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 4,
      "authorComment" : "CLoaKY233",
      "commentText" : "I Tried it on windows \n```plaintext\nwin 11 16gb, \n``` \n---\nwith \n```json\n\"agent_servers\": {\n    \"gemini\": {\n      \"ignore_system_version\": true\n    }\n  },\n```\nand setting it true aswell, \n- Initially some issues came up with the proxy, but resolving them the cli is still stuck on loading\n- I have gemini installed in the system aswell, with auth method direct login\n\nACP logs only show this upon opening a new thread with gemini cli, but there is no further action\n```json\n{\n  \"protocolVersion\": 1,\n  \"clientCapabilities\": {\n    \"fs\": {\n      \"readTextFile\": true,\n      \"writeTextFile\": true\n    },\n    \"terminal\": true\n  }\n}\n\n``` \n--- \nAlso tried to add gemini as an external agent to run it directly that way, \n```json \n\"agent_servers\": {\n    \"Gemini CLI\": {\n      \"command\": \"C:\\\\Users\\\\laysh\\\\AppData\\\\Roaming\\\\npm\\\\gemini.cmd\",\n      \"args\": [\"--acp\"],\n      \"env\": {}\n    }\n  },\n```\n- This shows exact same behaviour [ stuck on loading with the same acp log aswell ] \n```json\n{\n  \"protocolVersion\": 1,\n  \"clientCapabilities\": {\n    \"fs\": {\n      \"readTextFile\": true,\n      \"writeTextFile\": true\n    },\n    \"terminal\": true\n  }\n}\n``` \n- on the assistant panel it shows the  error \n```plaintext\nInternal error: \"server shut down unexpectedly\"\n``` \n"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 5,
      "authorComment" : "ConradIrwin",
      "commentText" : "This should definitely be working, so I wonder if there's something different about your setup.\n\nWhat versions of node.js are you using? If you manually run the command with ` npx ~/Library/Application\\ Support/Zed/external_agents/gemini/0.5.4/node_modules/@google/gemini-cli` does it work?\n\nIf not, does one of you have the time to screen share with me later this week and we can try and debug? Email conrad@zed.dev \n"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 6,
      "authorComment" : "CLoaKY233",
      "commentText" : "> This should definitely be working, so I wonder if there's something different about your setup.\n> \n> What versions of node.js are you using? If you manually run the command with ` npx ~/Library/Application\\ Support/Zed/external_agents/gemini/0.5.4/node_modules/@google/gemini-cli` does it work?\n> \n> If not, does one of you have the time to screen share with me later this week and we can try and debug? Email [conrad@zed.dev](mailto:conrad@zed.dev)\n\nyes it works, \nthe command exactly was \n```powershell\n npx C:\\Users\\laysh\\AppData\\Local\\Zed\\external_agents\\gemini\\0.6.1\\node_modules\\@google\\gemini-cli\n```\n\nI can surely help with debugging this, sometime this week. Meanwhile I'll also try to run it directly once and provide the runtime logs of the error aswell! \n"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 7,
      "authorComment" : "p-arndt",
      "commentText" : "I can confirm that running the comand directly works as @CLoaKY233 mentioned already!\n\nHowever setting up the client via PATH doesn't work also ([https://zed.dev/docs/ai/external-agents#installation](https://zed.dev/docs/ai/external-agents#installation)) with setting `ignore_system_version`  to `false`.\n\nIn normal normal Powershell Terminal i can execute Gemini, so my path is verified working."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 8,
      "authorComment" : "Omar-Ahmed85",
      "commentText" : "@ConradIrwin \n\nThe command is working just perfectly + I run Gemini in Powershell using the command: `gemini` and everything is fine."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 9,
      "authorComment" : "Mik3Rizzo",
      "commentText" : "Same here: Gemini CLI stuck on \"Loading...\".\n\nGemini CLI: installed, 0.6.1\nnpm: 11.5.1\nZed: Nightly 0.207.0\nOS: Windows 11\n\nThe problem still persists with the setting:\n```json\n  \"agent_servers\": {\n    \"gemini\": {\n      \"ignore_system_version\": false\n    }\n  },\n```"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 10,
      "authorComment" : "cole-miller",
      "commentText" : "For those seeing this on Windows, it's an upstream issue with Gemini CLI, which we've opened a PR to fix: https://github.com/google-gemini/gemini-cli/pull/10339. (On macOS and Linux we're not yet sure what's going on.)"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 11,
      "authorComment" : "QuentinDEME97",
      "commentText" : "Same issue started to happen today. It was working fine yesterday. \n\nGemini-cli in working in the terminal but stuck in agent panel with an error message.\n\nI'm on 26.1 beta of mac os."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 12,
      "authorComment" : "cole-miller",
      "commentText" : "@QuentinDEME97 what is the error message? Can you post a screenshot and share your `Zed.log` (`zed: open log` from the command palette)? If you don't want to share the whole log, the lines that say `agent stderr:` are the most important."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 13,
      "authorComment" : "Pillber",
      "commentText" : "different person, different os, but same issue. i don't get an error message, but the agent panel seems to stick on \"Loading\". granted, this is my first time trying out the agent panel, so i don't know what the happy path looks like...\n\nZed Nightly 0.208.0 \nOS: Windows 11\n\ngemini installed by way of letting zed do it, tested and works in terminal\n\nlog output doesn't say anything except the following. any other messages are clearly not related (time separated by minutes from the things i tried, and rendering based).\n```\n[agent_servers::acp] Spawning external agent server: \"C\\\\Program Files\\\\nodejs\\\\node.exe\", [\"C:\\\\Users\\\\melca\\\\AppData\\\\Local\\\\Zed\\\\external_agents\\\\gemini\\\\0.8.1\\\\node_modules/@google/gemini-cli/dist/index.js\", \"--experimental-acp\"]\n```"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 14,
      "authorComment" : "erinn",
      "commentText" : "\nShort version:\nOn MacOS removing ~/.gemini and re-adding the API key to zed cleared the issue for me. \n\nI do not know the root cause here, I just suspect authentication tokens issues from running gemini-cli installed with homebrew versus the version local to Zed.\n\nLonger version: \n\nSetup:\n- MacOS 26.0.1\n- gemini configured to auth via API key in zed\n- gemini-cli also installed via homebrew\n\nI was able to run gemini-cli via the cli using the version installed in home-brew as well as the version installed in Library\\Application Support\\etc. However, when trying to run via Zed it got stuck in a loading state. \n\nComparing against a working MacOS system I noticed that the startup was slightly different between the two when run via the CLI. On the system where Zed was stuck on loading gemini-cli showed: \n`Loaded cached credentials.\nusing macos seatbelt (profile: permissive-open) ...\nLoaded cached credentials.`\n\nOn the working system no mention of 'Loaded cached credentials'. There is an [issue open](https://github.com/google-gemini/gemini-cli/discussions/8996) regarding the double 'Loaded cached credentials' entry. It may or may not be pertinent. Trying to ascertain where the home-brew version of gemini stored its credentials and configuration I found ~/.gemini. Removing that directory and re-adding the API token to Zed cleared the issue. \n\nIt's possible this is a clash between Zed using an API key and gemini-cli installed via homebrew using oauth-personal, but that is just speculation at this point and hasn't been tested.\n\nPerhaps this will help in troubleshooting, or perhaps my issue was unique. Good luck, thanks for developing Zed. \n\n "
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 15,
      "authorComment" : "cole-miller",
      "commentText" : "@Pillber  See the [previous comment](https://github.com/zed-industries/zed/issues/38750#issuecomment-3356367104) about the current situation on Windows."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 16,
      "authorComment" : "cole-miller",
      "commentText" : "@erinn Thanks, that's very helpful!"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 17,
      "authorComment" : "Pillber",
      "commentText" : "@cole-miller i saw that earlier! it says it's merged though, so i assumed it was fixed... is that not the case?"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 18,
      "authorComment" : "cole-miller",
      "commentText" : "Sorry for the confusion--it's merged to gemini-cli's main branch, but Zed's auto-download won't pick it up until it's in one of their stable releases (I think that will be v0.9.x if it's on schedule). You can install the v0.9.x preview on your system manually and add `\"ignore_system_version\": false` to your Zed Gemini settings as a workaround in the meantime."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 19,
      "authorComment" : "wiyota",
      "commentText" : "I may have identified the workaround.\n\nI was setting `sandbox-exec` in `~/.gemini/setting.json` under `tools.sandbox`, but after removing this configuration and restarting Zed, it started working properly.\nIt's the same for gemini-cli v0.9.0-preview.0.\n\nAs already mentioned, there appears to be a problem with the sandbox-related implementation.\n\nEdit: specifying `true` or `docker` instead of `sandbox-exec` will also fail.\n"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 20,
      "authorComment" : "CnsMaple",
      "commentText" : "0.9.0-preview.0 may solve the problem"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 21,
      "authorComment" : "wiyota",
      "commentText" : "[The commit resolving the above issue](https://github.com/google-gemini/gemini-cli/commit/7e1705274cb89400e2534b2f42e2c4ad1647db25) is already included in v0.7.0, so if this is the cause, v0.9.0 should not be a solution.\n\nFurthermore, assuming this is a sandbox-related issue, it appears to be separate from the aforementioned Google OAuth issue."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 22,
      "authorComment" : "CnsMaple",
      "commentText" : "I also deleted the .gemini folder before using versions 0.8 and 0.9. It may be as you said."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 23,
      "authorComment" : "unnamedd",
      "commentText" : "> [@QuentinDEME97](https://github.com/QuentinDEME97) what is the error message? Can you post a screenshot and share your `Zed.log` (`zed: open log` from the command palette)? If you don't want to share the whole log, the lines that say `agent stderr:` are the most important.\n\nmacOS Tahoe 26.0.1 (25A362)\n\nZed 0.207.3 \n25d7cb4e0d0ff210bdea36e54fd7b34f0ddd80a8\n\n@cole-miller \nRegarding your request for the logs, here we go with mine. \n\nMy current settings for this: \n\n```jsonc\n{\n  \"agent_servers\": {\n    // \"gemini\": { \"ignore_system_version\": false }\n  },\n}\n```\n\n### The log \n\n```\n2025-10-09T15:35:07+02:00 WARN  [agent_servers::acp] agent stderr: Loaded cached credentials.\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr: node:internal/modules/package_json_reader:316\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:   throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:         ^\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr: \n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr: Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'ink' imported from /Users/unnamedd/Library/Application Support/Zed/external_agents/gemini/0.8.1/node_modules/@google/gemini-cli/dist/src/gemini.js\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:     at Object.getPackageJSONURL (node:internal/modules/package_json_reader:316:9)\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:     at packageResolve (node:internal/modules/esm/resolve:768:81)\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:     at moduleResolve (node:internal/modules/esm/resolve:858:18)\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:     at defaultResolve (node:internal/modules/esm/resolve:990:11)\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:     at #cachedDefaultResolve (node:internal/modules/esm/loader:755:20)\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:     at ModuleLoader.resolve (node:internal/modules/esm/loader:732:38)\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:     at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:317:38)\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:     at #link (node:internal/modules/esm/module_job:208:49) {\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr:   code: 'ERR_MODULE_NOT_FOUND'\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr: }\n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr: \n2025-10-09T15:36:07+02:00 WARN  [agent_servers::acp] agent stderr: Node.js v24.9.0\n2025-10-09T15:40:37+02:00 WARN  [agent_servers::acp] agent stderr: Loaded cached credentials.\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr: node:internal/modules/package_json_reader:316\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:   throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:         ^\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr: \n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr: Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'ink' imported from /Users/unnamedd/Library/Application Support/Zed/external_agents/gemini/0.8.1/node_modules/@google/gemini-cli/dist/src/gemini.js\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:     at Object.getPackageJSONURL (node:internal/modules/package_json_reader:316:9)\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:     at packageResolve (node:internal/modules/esm/resolve:768:81)\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:     at moduleResolve (node:internal/modules/esm/resolve:858:18)\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:     at defaultResolve (node:internal/modules/esm/resolve:990:11)\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:     at #cachedDefaultResolve (node:internal/modules/esm/loader:755:20)\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:     at ModuleLoader.resolve (node:internal/modules/esm/loader:732:38)\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:     at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:317:38)\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:     at #link (node:internal/modules/esm/module_job:208:49) {\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr:   code: 'ERR_MODULE_NOT_FOUND'\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr: }\n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr: \n2025-10-09T15:41:43+02:00 WARN  [agent_servers::acp] agent stderr: Node.js v24.9.0\n```"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 24,
      "authorComment" : "yslpn",
      "commentText" : "> Short version: On MacOS removing ~/.gemini and re-adding the API key to zed cleared the issue for me.\n\n@erinn Thank you, it works for me."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 25,
      "authorComment" : "wiyota",
      "commentText" : "Removing `~/.gemini` will certainly resolve the issue, but it should recur if you set up a sandbox again."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 26,
      "authorComment" : "scbizu",
      "commentText" : "It maybe bugged with the `proxy` was set in settings.json  , I can see the log with can not parse `socks5h` based protocol , and comment this `proxy` setting , Zed let me re-login to the gemini-cli and things like to be worked ok."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 27,
      "authorComment" : "invzhi",
      "commentText" : "I use socks5h as proxy, occured this error in Zed.log: \nagent stderr: InvalidArgumentError: Invalid URL protocol: the URL must start with `http:` or `https:`.\n\nProblem is solved when I switch to http proxy."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 28,
      "authorComment" : "brielov",
      "commentText" : "Since about a week ago, I've had a similar problem with Claude code. When I start a new thread using Claude code ACP, I get an endless “Loading…” that never resolves."
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 29,
      "authorComment" : "Scott-Nx",
      "commentText" : "Just tested with Zed v0.209.6(3d61fb08a0bd3b22eb7a50ee3e126e891edf7f30) - it Works great now.\n\n```\nOS: Windows 11 25H2 (OS Build 26200.6901)\nNodejs Runtime from Zed (No System Nodejs install)\nNo setting config need\n```\n\n<img width=\"1920\" height=\"1140\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f2282a8e-f962-416e-b465-1879df7e66f9\" />"
    }, {
      "numberIssue" : 38750,
      "numberCommentInIssue" : 30,
      "authorComment" : "pavandhadge",
      "commentText" : "I’m using Fedora 42 and Zed version 213.8, and I’m still running into the same issue — the Gemini CLI inside Zed gets stuck on the loading screen.\n\nI’ve tried all the suggested fixes mentioned above, but nothing has worked.\nThen I removed both Zed and the Gemini CLI , did a fresh install with only Zed, and it still gets stuck on loading.\nI also tried installing the Gemini CLI (0.18.0)  via npm and using it through the agent-server, but it’s still stuck on the loading screen.\n\nnode version 22.21.0"
    } ]
  }, {
    "issueNumber" : 38752,
    "commentsCount" : 7,
    "comments" : [ {
      "numberIssue" : 38752,
      "numberCommentInIssue" : 1,
      "authorComment" : "DavidBM",
      "commentText" : "This was closed, but tool calls still don't work for me on Zed 0.207.4"
    }, {
      "numberIssue" : 38752,
      "numberCommentInIssue" : 2,
      "authorComment" : "guuzaa",
      "commentText" : "It works on my machine in Zed 0.207.4\nCould you provide more details, such as a screenshot?"
    }, {
      "numberIssue" : 38752,
      "numberCommentInIssue" : 3,
      "authorComment" : "DavidBM",
      "commentText" : "On many tool calls I see this output and it hangs there.\n`<xai:function_call name=\"diagnostics\"><parameter name=\"path\">\"js/app.js</parameter>`\n\nOn the same chat it was able to run diagnostic successfully one time, then made some changes, tried to run diagnostics again and failed. "
    }, {
      "numberIssue" : 38752,
      "numberCommentInIssue" : 4,
      "authorComment" : "DavidBM",
      "commentText" : "<img width=\"1005\" height=\"906\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6c8adfbe-b1c9-42f7-9e13-4ee9dde4606f\" />"
    }, {
      "numberIssue" : 38752,
      "numberCommentInIssue" : 5,
      "authorComment" : "DavidBM",
      "commentText" : "Another instance:\n\n<img width=\"994\" height=\"506\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b2c71836-c310-4c90-9c3c-10050c948bae\" />"
    }, {
      "numberIssue" : 38752,
      "numberCommentInIssue" : 6,
      "authorComment" : "DavidBM",
      "commentText" : "Same in no reasoning: \n\n<img width=\"1002\" height=\"1081\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/0af2a03f-5882-4434-8ad1-4d080db9acb3\" />\n"
    }, {
      "numberIssue" : 38752,
      "numberCommentInIssue" : 7,
      "authorComment" : "DavidBM",
      "commentText" : "Grok Code 1 fast runs flawlessly "
    } ]
  }, {
    "issueNumber" : 38753,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38753,
      "numberCommentInIssue" : 1,
      "authorComment" : "danilo-leal",
      "commentText" : "Hey @junyiz, thanks for the issue! I agree that this is a problem, but I don't think scrolling is the solution here. I think I'd intuitively left-truncate the file's path so you can see more of its unique content. For example, we're seeing many instances of `slime-kinght-rush/weexs/fengpao/src/`, which are all repeated. The most important thing, which comes after `/views/` isn't fully visible, and that is the thing that'd allow you to disambiguate one `index.tsx` from the other.\n\nTo illustrate, what I think we should do is: `.../src/pages/home/BoardView` — truncate to the left depending on available space."
    } ]
  }, {
    "issueNumber" : 38754,
    "commentsCount" : 27,
    "comments" : [ {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 1,
      "authorComment" : "franciskafyi",
      "commentText" : "Thank you for reporting this. Not ideal and we're taking a look asap!"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 2,
      "authorComment" : "usernamex",
      "commentText" : "[zed.log](https://github.com/user-attachments/files/22616089/zed.log)\nZed for Windows works fine when I first installed it, then I have updated it and afterwards, Gemini CLI no longer works. Stuck in loading. I have tried uninstalling and deleting the folders and files manually but the error remains. Attached is zed.log from my PC, it might help with the investigation. Thank you."
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 3,
      "authorComment" : "Darlington93",
      "commentText" : "The issue still persists, even as I have tried uninstalling and deleting the folders and files manually but the error remains. I'm still encountering this error on Windows using the latest beta version. Is there any update on this? Thanks."
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 4,
      "authorComment" : "cole-miller",
      "commentText" : "Thanks everyone for the reports. We've identified this as an upstream issue with Gemini CLI and have submitted a fix there: https://github.com/google-gemini/gemini-cli/pull/10339."
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 5,
      "authorComment" : "Darlington93",
      "commentText" : "Thanks for the update @cole-miller. I would appreciate it if you could notify me when a fix is available. Thank you. "
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 6,
      "authorComment" : "ORDER-AGENT",
      "commentText" : "This issue was resolved in Gemini CLI Release v0.9.0-nightly.20251002.a6af7bbb.\nI confirmed it works by manually installing\n\nhttps://github.com/google-gemini/gemini-cli/releases/tag/v0.9.0-nightly.20251002.a6af7bbb\n- fix: Stream parsing for Windows Zed integration by @benbrandt in https://github.com/google-gemini/gemini-cli/pull/10339"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 7,
      "authorComment" : "franciskafyi",
      "commentText" : "Amazing, we're glad to hear it. We'll close this issue then!"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 8,
      "authorComment" : "Darlington93",
      "commentText" : "@franciskafyi, it is still stuck at the same place, even after updating to the latest nightly. I am open to have a call with you or any member of the Zed team to assist in debugging this issue and ensuring it's resolved quickly. Thank you. "
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 9,
      "authorComment" : "ORDER-AGENT",
      "commentText" : "If `ignore_system_version` is not set to false, it will fail because it attempts to use the stable release (0.7.x).\nPlease add the following to `settings.json`:\n\n  “agent_servers”: {\n    “gemini”: {\n      “ignore_system_version”: false\n    }\n  },"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 10,
      "authorComment" : "Darlington93",
      "commentText" : "This is the error message I am getting after adding the following to the settings.json\n\n<img width=\"1903\" height=\"1127\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/5bd0ae10-4c4d-413a-a67e-380a50a92a88\" />"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 11,
      "authorComment" : "ORDER-AGENT",
      "commentText" : "The location where I added it seems incorrect, and settings.json doesn't appear to be recognized properly.\n\nI added it as follows:\n\n<img width=\"704\" height=\"568\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/43b7f582-0e07-4c2c-be71-06689df0a455\" />"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 12,
      "authorComment" : "Darlington93",
      "commentText" : "Still same error as shown in the screenshot attached, @franciskafyi \n\n<img width=\"1895\" height=\"1127\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2cbc1337-39f9-4c2d-9be0-c27a753c5b53\" />"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 13,
      "authorComment" : "ORDER-AGENT",
      "commentText" : "@Darlington93 \nPlease note the last two lines of my settings.json file.\n\nRemove the trailing ‘,’ add a newline, then add ‘}’."
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 14,
      "authorComment" : "Darlington93",
      "commentText" : "@cole-miller, I am still experiencing thesame issue as the Gemini CLI fails to install. "
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 15,
      "authorComment" : "cole-miller",
      "commentText" : "@Darlington93 This is an upstream issue with Gemini CLI--the fix is on their main branch but hasn't been released to stable yet, so Zed will still automatically download the broken version for now. I'll update this issue when the fix is in a stable Gemini CLI release.\n\nTo use Gemini CLI in Zed in the meantime, you can install one of their nightly releases on your system, and use `ignore_system_version` like @ORDER-AGENT mentioned."
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 16,
      "authorComment" : "Darlington93",
      "commentText" : "@cole-miller, thanks for the headsup, much appreciated. I have installed the ignore_system_version like @ORDER-AGENT mentioned, however, the installation still fails as it is still stuck at the buffering loading, and the same error persists. I look forward to your update on this issue. Thanks. "
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 17,
      "authorComment" : "cole-miller",
      "commentText" : "@Darlington93 which version of Gemini CLI did you install system-wide? (`gemini --version`)"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 18,
      "authorComment" : "Darlington93",
      "commentText" : "Hello @cole-miller, thanks for your inquiry, I dont seem to know the version of the Gemini CLI I installed system-wide. I just tried installing the Gemini CLI I found on the Zed platform, and I was hoping it would just work. How can I check the version of the Gemini CLI on my system? Thanks. "
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 19,
      "authorComment" : "nbiotminsk",
      "commentText" : "How to use globally installed npm Gemini CLI?\n> @Darlington93 This is an upstream issue with Gemini CLI--the fix is on their main branch but hasn't been released to stable yet, so Zed will still automatically download the broken version for now. I'll update this issue when the fix is in a stable Gemini CLI release.\n> \n> To use Gemini CLI in Zed in the meantime, you can install one of their nightly releases on your system, and use `ignore_system_version` like @ORDER-AGENT mentioned.\n\n"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 20,
      "authorComment" : "p-arndt",
      "commentText" : "It still seems to be broken for me."
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 21,
      "authorComment" : "ORDER-AGENT",
      "commentText" : "https://github.com/zed-industries/zed/issues/38754#issuecomment-3368676703\n\nSince the modified version of GeminiCLI is currently only available as a Preview or Nightly build, please wait for the stable release if you are unsure about the manual installation method or the instructions above."
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 22,
      "authorComment" : "p-arndt",
      "commentText" : "Great! Now it's working. Thanks."
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 23,
      "authorComment" : "CocoCookie820",
      "commentText" : "![Image](https://github.com/user-attachments/assets/4d5b0ba7-0689-4791-9ab2-94bdc1b18e63)\n\nany news ? I still stuck in loading "
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 24,
      "authorComment" : "benbrandt",
      "commentText" : "Yes there is an issue with Gemini v0.18 not able to send messages over stdout, we have a fix, but it hasn't been merged yet: https://github.com/google-gemini/gemini-cli/pull/13795\n\nWe'll work on some better messaging in Zed as well to make it clearer that this won't startup"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 25,
      "authorComment" : "CocoCookie820",
      "commentText" : "@benbrandt This method doesn't seem to work for me. I'll try using the gemini CLI first and hope it gets fixed someday.\uD83E\uDD2F\n"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 26,
      "authorComment" : "inj-src",
      "commentText" : "I hope the Gemini CLI team merges the new changes and we can start using Gemini CLI with zed again..\n"
    }, {
      "numberIssue" : 38754,
      "numberCommentInIssue" : 27,
      "authorComment" : "franciskafyi",
      "commentText" : "@inj-src we do too! Please help us make some noise on the PR: https://github.com/google-gemini/gemini-cli/pull/13795 \uD83D\uDE4F "
    } ]
  }, {
    "issueNumber" : 38755,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38755,
      "numberCommentInIssue" : 1,
      "authorComment" : "JosephTLyons",
      "commentText" : "This isn't a git issue really, but I marked it as such because we should be using the git diff UI here."
    }, {
      "numberIssue" : 38755,
      "numberCommentInIssue" : 2,
      "authorComment" : "xipeng-jin",
      "commentText" : "Hi @JosephTLyons  \nYes, I can see that the current inline assistant doesn't use the git diff ui to render and it looks not good and characters are not even aligned. I can take some time working on this issue\n\n<img width=\"1048\" height=\"269\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3ba18f78-2f9c-43e8-8828-bbaf9382198d\" />"
    }, {
      "numberIssue" : 38755,
      "numberCommentInIssue" : 3,
      "authorComment" : "xipeng-jin",
      "commentText" : "I created a PR for simply fixing the misalignment issue for the inline assistance. Regarding to this issue, I would like to have more details how we should use the new git diff to rendering the inline assist diff. Instead of rendering a separate deleted block, should we use the `BufferDiff` to render the git diff style?"
    } ]
  }, {
    "issueNumber" : 38756,
    "commentsCount" : 9,
    "comments" : [ {
      "numberIssue" : 38756,
      "numberCommentInIssue" : 1,
      "authorComment" : "boozook",
      "commentText" : "Uh, I so need `hide_in_full_screen`!"
    }, {
      "numberIssue" : 38756,
      "numberCommentInIssue" : 2,
      "authorComment" : "AlvaroParker",
      "commentText" : "No chance to add this to the `unstable` settings? Like is done with `unstable.ui_density` "
    }, {
      "numberIssue" : 38756,
      "numberCommentInIssue" : 3,
      "authorComment" : "ConradIrwin",
      "commentText" : "I think we could do that if we also limited it to Linux (as is done by vscodes equivalent setting). Really the use case for this is tiling window managers, but on macOS if you hide the title bar the traffic light icons crash into the content.\r\n\r\nWe do plan to put more UI in the title bar and so if you’re using this setting you’re also opting into “broken mode” in some senses (though the trade offs may be worth it for you). We’re definitely not committing to making sure every zed feature is usable with the title bar hidden (e.g. collab today)."
    }, {
      "numberIssue" : 38756,
      "numberCommentInIssue" : 4,
      "authorComment" : "MoskitoHero",
      "commentText" : "I understand why this is reverted, but the title bar is so huuuuge (I want space for my code, not UI widgets), I hope the redesign considers making it smaller or featuring a compact mode..."
    }, {
      "numberIssue" : 38756,
      "numberCommentInIssue" : 5,
      "authorComment" : "KaKi87",
      "commentText" : "Me, I don't understand. On a Linux laptop, I use KDE's global menu to save space. Zed should respect that and use that space, instead of wasting my vertical real estate.\r\n\r\n<img width=\"2735\" height=\"1824\" alt=\"Screenshot_20250926_162144\" src=\"https://github.com/user-attachments/assets/dd584036-88d2-41f6-9d9f-1147957bad80\" />\r\n\r\nIn comparison, here's the Kate editor :\r\n\r\n<img width=\"2735\" height=\"1824\" alt=\"Screenshot_20250926_162324\" src=\"https://github.com/user-attachments/assets/c5afbbe8-3799-4167-a117-dd458f59de15\" />\r\n\r\nAnd here's VSCode :\r\n\r\n<img width=\"2735\" height=\"1824\" alt=\"Screenshot_20250926_161957\" src=\"https://github.com/user-attachments/assets/407c616e-8490-470a-a429-12b90b807581\" />\r\n"
    }, {
      "numberIssue" : 38756,
      "numberCommentInIssue" : 6,
      "authorComment" : "ConradIrwin",
      "commentText" : "@KaKi87 The KDE menu thing seems like a separate feature request. Is that something we'd have to hardcode for KDE, or is there a shared standard?"
    }, {
      "numberIssue" : 38756,
      "numberCommentInIssue" : 7,
      "authorComment" : "KaKi87",
      "commentText" : "I don't know and I honestly don't care whether you use the global menu (also there are other Linux distros with a global menu, such as [Unity](https://unityd.org)).\r\n\r\nWhat I care about though, is vertical space. For example, browsers, even though they don't respect the global menu anymore, they use a hamburger on the tab bar :\r\n\r\n<img width=\"2735\" height=\"1824\" alt=\"Screenshot_20250926_203759\" src=\"https://github.com/user-attachments/assets/6e79233e-8e35-4b73-846a-86a14c6e9f05\" />\r\n\r\n<img width=\"2735\" height=\"1824\" alt=\"Screenshot_20250926_202911\" src=\"https://github.com/user-attachments/assets/6bcd5fe2-1214-4764-aa0f-071461118fad\" />\r\n\r\nThus still preserving vertical real estate."
    }, {
      "numberIssue" : 38756,
      "numberCommentInIssue" : 8,
      "authorComment" : "debnath-d",
      "commentText" : "> The KDE menu thing seems like a separate feature request. Is that something we'd have to hardcode for KDE, or is there a shared standard?\r\n\r\n@ConradIrwin I think you'd have to implement support for this: https://wayland.app/protocols/kde-appmenu"
    }, {
      "numberIssue" : 38756,
      "numberCommentInIssue" : 9,
      "authorComment" : "controversial",
      "commentText" : "> preparing for the redesign\r\n\r\nis there anywhere we can read more about this?"
    } ]
  }, {
    "issueNumber" : 38757,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38757,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 4e22d0e7547d8a6aa138c6965e5ae80b5149a725\n</p>\n"
    }, {
      "numberIssue" : 38757,
      "numberCommentInIssue" : 2,
      "authorComment" : "bprize15",
      "commentText" : "> Thank you for the fix.\r\n> \r\n> Let's add a test to this one, similar to\r\n> \r\n> https://github.com/zed-industries/zed/blob/a2c8b57c3d03c1ba3dd76cd20f7fd63de5d191be/crates/outline/src/outline.rs#L396\r\n\r\nI made the fix. One thing to note is that testing required a bit of a refactor due to the use of `smol::block_on` https://github.com/zed-industries/zed/blob/a2c8b57c3d03c1ba3dd76cd20f7fd63de5d191be/crates/outline/src/outline.rs#L271\r\n\r\nThis never caused a bug in production, but according to this comment, it looks like the test executor runs on the same thread as asynchronous tasks: https://github.com/zed-industries/zed/blob/a2c8b57c3d03c1ba3dd76cd20f7fd63de5d191be/crates/gpui/src/executor.rs#L134\r\n\r\nThe issue was that the thread would block forever and never complete. Since `self.outline.search` creates a future, it requires the executor to poll it. However, since the thread is blocking, the executor never polls, and the program hangs.\r\n\r\nI couldn't find any other tests that spawned an asynchronous tasks in a `block_on` call, but I imagine this would affect them as well. You may want to evaluate the use of blocking over awaiting due to this. But I'm pretty new to the codebase, so I'm not aware of the full context, but I figured I'd point this out in case someone missed it."
    }, {
      "numberIssue" : 38757,
      "numberCommentInIssue" : 3,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Will close as stale after 2 weeks of inactivity and first conflicts appearing."
    } ]
  }, {
    "issueNumber" : 38759,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38759,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report!\n\nThis is actually somewhat expected - we've had the feedback that users mostly don't want this.\n\nYou can make this persistent by adding keybinds for this to your keymap and making these persist:\n\nhttps://github.com/zed-industries/zed/blob/1cd1993d84e5111bd20808f23333451f84f9eaea/assets/keymaps/default-macos.json#L38-L39\n\nand then toggle these to `true`. Curious if that would be sufficient for your use case?"
    }, {
      "numberIssue" : 38759,
      "numberCommentInIssue" : 2,
      "authorComment" : "simulieren",
      "commentText" : "Thanks, got it. \n\nI'm just used to the behavior of VS Code, so I think your suggestions solves it."
    }, {
      "numberIssue" : 38759,
      "numberCommentInIssue" : 3,
      "authorComment" : "MrSubidubi",
      "commentText" : "Alright, thanks for getting back. If you have any better ideas on how to adress this, be it now or later, please get back to me. Will close for now, if you disagree there, feel free to also mention that. Thanks!"
    } ]
  }, {
    "issueNumber" : 38760,
    "commentsCount" : 7,
    "comments" : [ {
      "numberIssue" : 38760,
      "numberCommentInIssue" : 1,
      "authorComment" : "franciskafyi",
      "commentText" : "We can't reproduce on the latest Nightly, could you take a look again? We've made some improvements in this area. Thank you!"
    }, {
      "numberIssue" : 38760,
      "numberCommentInIssue" : 2,
      "authorComment" : "franciskafyi",
      "commentText" : "Closing this for now but please let us know if this is still happening for you!"
    }, {
      "numberIssue" : 38760,
      "numberCommentInIssue" : 3,
      "authorComment" : "CnsMaple",
      "commentText" : "@franciskafyi Could you tell me how you do it?"
    }, {
      "numberIssue" : 38760,
      "numberCommentInIssue" : 4,
      "authorComment" : "franciskafyi",
      "commentText" : "@CnsMaple tell you how to do what, sorry?"
    }, {
      "numberIssue" : 38760,
      "numberCommentInIssue" : 5,
      "authorComment" : "CnsMaple",
      "commentText" : "@franciskafyi Haha, I mistranslated that. I meant to see if I was doing it incorrectly. I wanted to see how you generated the link and the terminal you used when you didn't encounter the problem.\nI still have the problem on both Windows 10 and Windows 11, so I think it might be my fault."
    }, {
      "numberIssue" : 38760,
      "numberCommentInIssue" : 6,
      "authorComment" : "franciskafyi",
      "commentText" : "Could it be related to this? https://github.com/zed-industries/zed/issues/39189"
    }, {
      "numberIssue" : 38760,
      "numberCommentInIssue" : 7,
      "authorComment" : "CnsMaple",
      "commentText" : "is same"
    } ]
  }, {
    "issueNumber" : 38761,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38761,
      "numberCommentInIssue" : 1,
      "authorComment" : "SathiyaramanM",
      "commentText" : "Managed to remove the existing Copilot login info by clearing cache at `~/Library/Caches/Zed`. Even then the Zed login was retained while the copilot login got removed. When I opened Zed again, the Copilot somehow automatically re-authenticated but used my work account this time, as expected, and my problem got solved as I am able to use GitHub Copilot Chat from my work account now.\n\nIt would have been helpful if there was a proper uninstall guide (especially removing all preferences and cache)."
    }, {
      "numberIssue" : 38761,
      "numberCommentInIssue" : 2,
      "authorComment" : "ConradIrwin",
      "commentText" : "Thanks for reporting this. Copilot is definitely an area that needs some love (it predates all our other AI integrations, and so hasn't really kept up).\n\n"
    } ]
  }, {
    "issueNumber" : 38762,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38762,
      "numberCommentInIssue" : 1,
      "authorComment" : "cole-miller",
      "commentText" : "Thanks for opening a PR!\r\n\r\nIt's not the case that Markdown lists get rewrapped--I just tested by putting this in the commit editor and committing from Zed:\r\n\r\n```\r\n- a\r\n- b\r\n```\r\n\r\n`git log` shows that the newline is preserved (I believe @smitbarmase fixed the issues we previously had with this).\r\n\r\nIt seems like we instead have an issue with loading the `summary` of the most recent commit, where newlines do get lost. I can see this in the previous commit UI element and it would explain the behavior of amend, too:\r\n\r\n<img width=\"546\" height=\"80\" alt=\"image\" src=\"https://github.com/user-attachments/assets/ddd22380-3523-4e54-8290-0985bf2302eb\" />\r\n\r\nSo a fix for how we load `summary` would be great, but changing how we rewrap commit messages doesn't address the problem."
    }, {
      "numberIssue" : 38762,
      "numberCommentInIssue" : 2,
      "authorComment" : "zeux",
      "commentText" : "I did test this change end-to-end and it fixes the problem end-to-end. I'm not sure how this can happen if the problem is elsewhere, but if you have an idea for where the root of the problem is, a fix for this would be greatly appreciated."
    }, {
      "numberIssue" : 38762,
      "numberCommentInIssue" : 3,
      "authorComment" : "zeux",
      "commentText" : "@cole-miller Here's Zed breaking my list that I typed in manually: https://github.com/zeux/meshoptimizer/commit/65e2d290d992d164ae6dca6b449615e53e645e76. I definitely did not break this formatting myself. This commit was not amended either, Zed just broke this in one of the flows.\r\n\r\nCan I just reopen this PR?.. I don't fully understand how Zed's contribution model works, but it's quite annoying that months ago I have hit this issue, debugged it, opened a PR, it was closed with no opportunity for discussion, and now I'm hitting the exact same problem, again, because obviously it's still there.\r\n\r\nMaybe the behavior is different between committing from the modal dialog vs committing from the tiny commit message window? I feel like I committed this one from the tiny commit message window after typing it in the modal and closing the modal without committing. Which is the same as amend flow, and why I had the original fix to begin with."
    }, {
      "numberIssue" : 38762,
      "numberCommentInIssue" : 4,
      "authorComment" : "zeux",
      "commentText" : "> Maybe the behavior is different between committing from the modal dialog vs committing from the tiny commit message window?\r\n\r\nIndeed I can trivially reproduce the rewrapping issue by selecting a file to commit in the git panel, typing this:\r\n\r\n<img width=\"546\" height=\"292\" alt=\"image\" src=\"https://github.com/user-attachments/assets/30157cc1-f9d9-4615-893c-8598544f66ba\" />\r\n\r\npressing \"Commit\", and then running `git log` and seeing this:\r\n\r\n<img width=\"903\" height=\"226\" alt=\"image\" src=\"https://github.com/user-attachments/assets/a90ad8a9-180f-4a3a-bab1-00afab490202\" />\r\n\r\nTo be clear, I don't care about me submitting a PR to fix this, I just want this problem to not happen and I'm reasonably sure the fix is exactly what this PR did because it's always wrong to rewrap lists with Markdown formatting if the rewrapper isn't whitespace or Markdown aware."
    } ]
  }, {
    "issueNumber" : 38764,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38764,
      "numberCommentInIssue" : 1,
      "authorComment" : "radix",
      "commentText" : "this has been confusing the heck out of me too. I think one of the worst things about it is that it (sometimes?) puts the external filenames *first* in the window title, rather than after the name of the workspace. So I can't easily scan through my window titles by looking at the beginning of them. This, plus the fact that the old filenames aren't cleaned up when you close them, makes alt-tabbing really difficult."
    }, {
      "numberIssue" : 38764,
      "numberCommentInIssue" : 2,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for reporting and the details! (4) definitely seems like a bug, although I was unable to reproduce that they persist after closing the file in my workspace. Does this still happen to you?\n\nI fully agree that they should never get that complex - it does not provide anything and only confuses me whilst looking at it, especially if they get long.\n\nLuckily, the logic for all of this is quite centralized within \n\nhttps://github.com/zed-industries/zed/blob/837f282f1ea2ffd872a75827ffddc4d3686076a0/crates/workspace/src/workspace.rs#L4410-L4471\n\nso we could easily improve this. Curious how many of the things available within VSCode provide value, but I think some of these would definitely be nice to have (and better what is currently there).\n\nHence, three things come to mind here for me:\n- Is the title spam still reproducible for you after closing the files?\n- Do we just wanna include the external file name in certain circumstances (e.g., no worktree open) and still truncate that in most cases?\n- What would be best to customize this? \n\nLast is probably more of a feature request discussion, but should improve this in any case."
    }, {
      "numberIssue" : 38764,
      "numberCommentInIssue" : 3,
      "authorComment" : "lionel-",
      "commentText" : "> Is the title spam still reproducible for you after closing the files?\n\nIt is, but I just noticed that this is not the case for all files \uD83E\uDD14 \n\n> Do we just wanna include the external file name in certain circumstances (e.g., no worktree open) and still truncate that in most cases?\n\nhmm good question! It seems this would be reasonable, although they should probably be truncated with `...` after showing 1 or 2 files. An alternative would be to just show the active file, or \"Zed\" if there is none.\n\n> What would be best to customize this?\n\nI think I would not start with something as complicated as the vscode UI though. It's worth noting that for VS Code people might be more particular because it the title name is always displayed. With Zed it's only displayed when switching windows.\n\nSo just a couple of options like these would be sufficient to start with. I'd personally make it very simple, only showing the active file (optionally):\n\n```ts\n\"worktree_title\": [\"worktree\", \"active_file\", \"zed\"],   // At least one is required, would be \"[worktree, \"active_file\"] by default\n\"default_title\": \"zed\" | \"active_file\"\n```"
    } ]
  }, {
    "issueNumber" : 38765,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38765,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report and thorough write-up! \n\nThe first issue seems to be an issue within the docs, we'll fix that.\n\nAs for the second issue, it is actually not indended to be configurable via the project settings. We are very aware of the issue with ambiguity coming from the docs, and are currently working on ways to improve that. Hopefully, it becomes a lot more apparent what can be configured and what cannot be in the near future."
    }, {
      "numberIssue" : 38765,
      "numberCommentInIssue" : 2,
      "authorComment" : "babhishek21",
      "commentText" : "**Re: project level `buffer_font_size`**\nI prefer to have this setting be project / local configurable. I have this peculiar use case where in web frontend projects with loads of HTML, I want the font size to be bigger, while in backend projects (Python, TS, golang; where line sizes are short), I prefer a smaller font (so I can see more of the code together). Would be great to have this revisited in the future."
    }, {
      "numberIssue" : 38765,
      "numberCommentInIssue" : 3,
      "authorComment" : "MrSubidubi",
      "commentText" : "I think we have a partial workaround for it: https://zed.dev/docs/configuring-zed#profiles\n\nYou could add a profile for just that and activate it in the projects you are working in. I do not think this persists across restarts though, but perhaps better than nothing.\n"
    } ]
  }, {
    "issueNumber" : 38767,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38767,
      "numberCommentInIssue" : 1,
      "authorComment" : "JunkuiZhang",
      "commentText" : "THank you!"
    } ]
  }, {
    "issueNumber" : 38768,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38768,
      "numberCommentInIssue" : 1,
      "authorComment" : "carhartl",
      "commentText" : "(Fwiw, the trick that works for me is use to use system tabs and thus keep projects in the same window..)"
    } ]
  }, {
    "issueNumber" : 38769,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38769,
      "numberCommentInIssue" : 1,
      "authorComment" : "smitbarmase",
      "commentText" : "That’s thoughtful UX. We should do it. To restate:\n\n1. Remove the formatter warning notification after a subsequent successful format.\n2. Add a setting to control whether language servers can show notifications.\n"
    }, {
      "numberIssue" : 38769,
      "numberCommentInIssue" : 2,
      "authorComment" : "tomatitito",
      "commentText" : "@smitbarmase I might have something that fixes the first point, removing the warning after a successful format. Does it make sense to open a PR? "
    }, {
      "numberIssue" : 38769,
      "numberCommentInIssue" : 3,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "One small question: does shift-clicking the notification's close button work?\nThat is supposed to silence most of the messages for the rest of Zed's session, but might misbehave for certain LSP ones."
    }, {
      "numberIssue" : 38769,
      "numberCommentInIssue" : 4,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "Here's a small thought dump on the topic: https://github.com/zed-industries/zed/pull/39535#pullrequestreview-3316127584 with the ideas how things can be fixed in both Zed and Elixir language server."
    }, {
      "numberIssue" : 38769,
      "numberCommentInIssue" : 5,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "https://github.com/zed-industries/zed/pull/41198 got very close to finish that, I think this is the right direction to work on this issue.\nIf we can fix the review comments + add a way to configure whether we show the latest notification only (current behavior) or show each notification separately, we're good to merge that change."
    } ]
  }, {
    "issueNumber" : 38771,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38771,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @qjtdsqqm94akkyysgjdqo3hx1jn6l17 on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38771,
      "numberCommentInIssue" : 2,
      "authorComment" : "qjtdsqqm94akkyysgjdqo3hx1jn6l17",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38771,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    } ]
  }, {
    "issueNumber" : 38772,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38772,
      "numberCommentInIssue" : 1,
      "authorComment" : "guuzaa",
      "commentText" : "I can't reproduce it on macOS 15.6.1 with Zed V0.204.5."
    }, {
      "numberIssue" : 38772,
      "numberCommentInIssue" : 2,
      "authorComment" : "levvij",
      "commentText" : "I have added my settings here:\n```\n{\n\t\"ui_font_size\": 16,\n\t\"buffer_font_size\": 16,\n\t\"theme\": \"Black Panel Dark\",\n\t\"restore_on_startup\": \"none\",\n\t\"soft_wrap\": \"editor_width\",\n\t\"show_whitespaces\": \"boundary\",\n\t\"hard_tabs\": true,\n\t\"tab_size\": 4,\n\t\"format_on_save\": \"off\",\n\t\"ui_font_family\": \"Zed Plex Mono\",\n\t\"buffer_font_family\": \"Zed Plex Mono\",\n\t\"buffer_font_features\": {\n\t\t\"calt\": false\n\t},\n\t\"auto_update\": false,\n\t\"vim_mode\": true,\n\t\"relative_line_numbers\": true\n}\n```\n\nAnd my keymap, I am using a US keyboard, but my MacBook has the Swiss layout printed on it:\n```\n[\n  {\n    \"context\": \"Workspace\",\n    \"bindings\": {\n      \"cmd-t\": \"workspace::NewTerminal\"\n    }\n  },\n  {\n    \"context\": \"Editor\",\n    \"bindings\": {\n      \"cmd-r\": \"editor::Rename\"\n    }\n  },\n  {\n    \"context\": \"(Editor && (showing_code_actions || showing_completions))\",\n    \"bindings\": {\n      \"pagedown\": \"editor::ContextMenuLast\"\n    }\n  },\n  {\n    \"context\": \"(Editor && (showing_code_actions || showing_completions))\",\n    \"bindings\": {\n      \"tab\": \"editor::ContextMenuNext\"\n    }\n  }\n]\n```\n\nThe specific code, `*` = Tab (not spaces)\n```\n*\tfunc filterSegments(_ segments: [ShipmentSegment], ofType type: ShipmentType) -> [ShipmentSegment] {\n*\t*\tswitch type {\n*\t*\tcase .unknown:\n*\t*\t*\treturn []\n*\t*\t*\tcase .direct:\n*\t*\t*\t*\treturn segments.filter { $0 is DirectSegment || $0 is QualinightSegment || $0 is DirectTourSegment }\n*\t*\tcase .exporting:\n*\t*\t*\t*\treturn segments.filter { $0 is ExportSegment || $0 is ExportTourSegment }\n*\t*\t*\tcase .transfer:\n*\t*\t*\t*\treturn segments.filter { $0 is TransferSegment }\n*\t*\tcase .importing:\n*\t*\t*\treturn segments.filter { $0 is ImportSegment || $0 is ImportTourSegment }\n*\t*\t}\n*\t}\n```\n\nMy vimrc if this is relevant at all:\n```\nset number\nset relativenumber\n```"
    }, {
      "numberIssue" : 38772,
      "numberCommentInIssue" : 3,
      "authorComment" : "lemorage",
      "commentText" : "I thought `>` or `<` in Visual mode always cleared the selection in Vim — if I remembered it right."
    }, {
      "numberIssue" : 38772,
      "numberCommentInIssue" : 4,
      "authorComment" : "smitbarmase",
      "commentText" : "I don't think clearing the selection is a bug. It's intended behavior, and Neovim does the same. You can use `gv` to restore the last selection. Closing this, but let me know if I misunderstood anything."
    }, {
      "numberIssue" : 38772,
      "numberCommentInIssue" : 5,
      "authorComment" : "levvij",
      "commentText" : "I'm sorry, I accidentally had a vi distribution installed that has another behavior and thought it's a bug in Zed. Thank you for your patience."
    } ]
  }, {
    "issueNumber" : 38773,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38773,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against b5d1b7bbef6fa6b7705aa1ad23601a2e62c18ff2\n</p>\n"
    }, {
      "numberIssue" : 38773,
      "numberCommentInIssue" : 2,
      "authorComment" : "devdattatalele",
      "commentText" : "## Addressed Review Feedback\r\n\r\n@SomeoneToIgnore - Thank you for the detailed review. I've addressed all your feedback in commit 3a6be93591. Here's what changed:\r\n\r\n1. buffer.rs:1249 - Removed fs::chunks() usage\r\n\r\nIssue: Still using non-existent `fs::chunks()` instead of Rope API.\r\n\r\nFix: Refactored to properly delegate through the type hierarchy:\r\n```rust\r\npub fn text_for_lsp(&self) -> String {\r\n    self.text_snapshot().text_with_line_endings()\r\n}\r\n```\r\n\r\nThis follows the proper chain: Buffer → BufferSnapshot → Rope.\r\n\r\n2. lsp_store.rs:7239 - Clarified incremental change handling\r\n\r\nExplanation: Added documentation explaining the rationale:\r\n```rust\r\n// Collect changed text and preserve line endings.\r\n// text_for_range returns chunks with normalized \\n, so we need to\r\n// convert to the buffer's actual line ending for LSP.\r\n```\r\n\r\nThe manual replacement is necessary here because `text_for_range()` returns `Chunks<'_>` (an iterator), not a full BufferSnapshot. We can't use `text_with_line_endings()` on a range iterator. The other three LSP communication points (initial registration, full sync, and rejoining) all use the full buffer methods.\r\n\r\n`LineEnding::normalize()` converts TO `\\n`, but we need to convert FROM `\\n` to the target line ending, so it's not applicable here.\r\n\r\n3. text.rs:2040 - Improved documentation\r\n\r\nIssue: Documentation was too LSP-specific.\r\n\r\nFix: Made documentation more general-purpose:\r\n```rust\r\n/// Returns the buffer's text with the buffer's configured line endings preserved.\r\n///\r\n/// Unlike `text()` which always uses `\\n`, this method formats the text using\r\n/// the buffer's actual line ending setting (Unix `\\n` or Windows `\\r\\n`).\r\n/// This is useful when the exact line ending format matters, such as for LSP\r\n/// communication, file saving, or generating diffs.\r\n```\r\n\r\nRemoved \"essential for LSP\" language and now lists multiple use cases.\r\n\r\n4. rope.rs:355 - Parameter type remains &str\r\n\r\nQuestion: Should this use `LineEnding` type directly?\r\n\r\nReasoning: Kept `&str` for the following reasons:\r\n- Avoids circular dependency: `rope` crate is lower-level than `text` crate which defines `LineEnding`\r\n- Callers convert via `LineEnding::as_str()` anyway\r\n\r\nAdded better documentation with examples:\r\n```rust\r\n/// Common line endings:\r\n/// - `\"\\n\"` for Unix/Linux/macOS\r\n/// - `\"\\r\\n\"` for Windows\r\n/// - `\"\\r\"` for classic Mac OS (rarely used)\r\n```\r\n\r\n5. rope.rs:364 - Removed redundant code\r\n\r\nIssue: Redundant Windows-specific branch with misleading \"optimize\" comment.\r\n\r\nFix: Simplified implementation to single code path:\r\n```rust\r\nif line_ending == \"\\n\" {\r\n    // Fast path: rope already uses \\n internally\r\n    self.to_string()\r\n} else {\r\n    // Convert \\n to target line ending\r\n    let mut result = String::new();\r\n    for chunk in self.chunks() {\r\n        result.push_str(&chunk.replace('\\n', line_ending));\r\n    }\r\n    result\r\n}\r\n```\r\n\r\nRemoved the unnecessary Windows-specific branch that provided no actual optimization.\r\n\r\n### Summary\r\n\r\nThe implementation now:\r\n- Uses proper Rope API throughout (no fs::chunks())\r\n- Has clear documentation that's not overly specific to one use case\r\n- Explains why manual conversion is needed in the incremental change path\r\n- Removes redundant code and misleading comments\r\n- Maintains consistency across all four LSP communication points\r\n\r\nAll changes maintain backward compatibility and preserve the core functionality of fixing line ending preservation for ESLint and other language servers."
    } ]
  }, {
    "issueNumber" : 38774,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38774,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 990d572ef4f57ef0319947e44c81f28fab0b60ca\n</p>\n"
    } ]
  }, {
    "issueNumber" : 38777,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38777,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against d3460832d28d1e3117880f6e03381cb3a783ac86\n</p>\n"
    }, {
      "numberIssue" : 38777,
      "numberCommentInIssue" : 2,
      "authorComment" : "maxdeviant",
      "commentText" : "Thank you for the PR, but I think for now this is something we can solve with better documentation."
    } ]
  }, {
    "issueNumber" : 38778,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38778,
      "numberCommentInIssue" : 1,
      "authorComment" : "smitbarmase",
      "commentText" : "This is the first time I've seen someone with this many root folders in a single Zed project \uD83D\uDE04. \n\nAnyway, we should definitely include a search feature and sort the list alphabetically. Thanks for the report.\n\n"
    }, {
      "numberIssue" : 38778,
      "numberCommentInIssue" : 2,
      "authorComment" : "achieve-dream1221",
      "commentText" : "> This is the first time I've seen someone with this many root folders in a single Zed project \uD83D\uDE04. \n> \n> Anyway, we should definitely include a search feature and sort the list alphabetically. Thanks for the report.\n> \n> \n\nBecause this is a large project, it uses the repo command provided by Google to manage multiple repositories. You can learn about the [repo](https://gerrit.googlesource.com/git-repo) command from the link provided above."
    } ]
  }, {
    "issueNumber" : 38779,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38779,
      "numberCommentInIssue" : 1,
      "authorComment" : "smitbarmase",
      "commentText" : "Does vtsls always crash on any TypeScript file you open? Can you provide a complete log to figure out what might be the cause of this crash?\n\nAlso, if you can get vtsls language server log by `dev: open language server logs`. It should look something like:\n\nNote log level is set to `log` here.\n\n<img width=\"613\" height=\"382\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c64f02ef-1464-4631-afbc-f5560fb65b4d\" />"
    }, {
      "numberIssue" : 38779,
      "numberCommentInIssue" : 2,
      "authorComment" : "ergen35",
      "commentText" : "No, it 'crashes' on every new ts/tsx file i create in the project/directory. Not when opening an already existing file.\n\nHere are the vstl logs\n\n`Starting TS Server\nUsing tsserver from: /home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/tsserver.js\n<syntax> Falling back to legacy node.js based file watching because of user settings.\n<syntax> Forking...\n<syntax> Starting...\n<semantic> Falling back to legacy node.js based file watching because of user settings.\n<semantic> Forking...\n<semantic> Starting...\nnode:internal/process/promises:394\n    triggerUncaughtException(err, true /* fromPromise */);\n    ^\n\n_TypeScriptServerError: <semantic> TypeScript Server Error (5.9.2)\nCannot read properties of undefined (reading 'configFileSpecs')\nTypeError: Cannot read properties of undefined (reading 'configFileSpecs')\n    at ConfiguredProject2.updateErrorOnNoInputFiles (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189330:43)\n    at _ProjectService.reloadFileNamesOfConfiguredProject (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:191408:13)\n    at ConfiguredProject2.updateGraph (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189209:38)\n    at updateWithTriggerFile (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189762:11)\n    at updateConfiguredProject (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189770:9)\n    at updateProjectFoundUsingFind (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189705:28)\n    at _ProjectService.findCreateOrReloadConfiguredProject (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192356:62)\n    at _ProjectService.tryFindDefaultConfiguredProjectForOpenScriptInfo (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192391:25)\n    at _ProjectService.tryFindDefaultConfiguredProjectAndLoadAncestorsForOpenScriptInfo (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192549:25)\n    at _ProjectService.assignProjectToOpenedScriptInfo (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192302:27)\n    at /home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192855:27\n    at Array.forEach (<anonymous>)\n    at _ProjectService.applyChangesInOpenFiles (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192852:56)\n    at updateOpen (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:194084:29)\n    at /home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196809:15\n    at IpcIOSession.executeWithRequestId (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196798:14)\n    at IpcIOSession.executeCommand (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196807:29)\n    at IpcIOSession.onMessage (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196855:68)\n    at process.<anonymous> (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/_tsserver.js:519:14)\n    at process.emit (node:events:508:28)\n    at emit (node:internal/child_process:949:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:91:21)\n    at _TypeScriptServerError.create (/home/ergen35/.local/share/zed/languages/vtsls/node_modules/@vtsls/language-service/dist/index.js:6094:16)\n    at _SingleTsServer.dispatchResponse (/home/ergen35/.local/share/zed/languages/vtsls/node_modules/@vtsls/language-service/dist/index.js:6288:50)\n    at _SingleTsServer.dispatchMessage (/home/ergen35/.local/share/zed/languages/vtsls/node_modules/@vtsls/language-service/dist/index.js:6220:22)\n    at ChildProcess.<anonymous> (/home/ergen35/.local/share/zed/languages/vtsls/node_modules/@vtsls/language-service/dist/index.js:6190:16)\n    at ChildProcess.emit (node:events:508:28)\n    at emit (node:internal/child_process:949:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:91:21) {\n  serverId: 'semantic',\n  version: TypeScriptVersion {\n    source: 'workspace-setting',\n    path: '/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/tsserver.js',\n    apiVersion: _API {\n      displayName: '5.9.2',\n      version: '5.9.2',\n      fullVersionString: '5.9.2'\n    },\n    _pathLabel: 'node_modules/typescript/lib'\n  },\n  response: {\n    seq: 0,\n    type: 'response',\n    command: 'updateOpen',\n    request_seq: 46,\n    success: false,\n    message: \"Error processing request. Cannot read properties of undefined (reading 'configFileSpecs')\\n\" +\n      \"TypeError: Cannot read properties of undefined (reading 'configFileSpecs')\\n\" +\n      '    at ConfiguredProject2.updateErrorOnNoInputFiles (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189330:43)\\n' +\n      '    at _ProjectService.reloadFileNamesOfConfiguredProject (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:191408:13)\\n' +\n      '    at ConfiguredProject2.updateGraph (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189209:38)\\n' +\n      '    at updateWithTriggerFile (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189762:11)\\n' +\n      '    at updateConfiguredProject (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189770:9)\\n' +\n      '    at updateProjectFoundUsingFind (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189705:28)\\n' +\n      '    at _ProjectService.findCreateOrReloadConfiguredProject (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192356:62)\\n' +\n      '    at _ProjectService.tryFindDefaultConfiguredProjectForOpenScriptInfo (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192391:25)\\n' +\n      '    at _ProjectService.tryFindDefaultConfiguredProjectAndLoadAncestorsForOpenScriptInfo (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192549:25)\\n' +\n      '    at _ProjectService.assignProjectToOpenedScriptInfo (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192302:27)\\n' +\n      '    at /home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192855:27\\n' +\n      '    at Array.forEach (<anonymous>)\\n' +\n      '    at _ProjectService.applyChangesInOpenFiles (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192852:56)\\n' +\n      '    at updateOpen (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:194084:29)\\n' +\n      '    at /home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196809:15\\n' +\n      '    at IpcIOSession.executeWithRequestId (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196798:14)\\n' +\n      '    at IpcIOSession.executeCommand (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196807:29)\\n' +\n      '    at IpcIOSession.onMessage (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196855:68)\\n' +\n      '    at process.<anonymous> (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/_tsserver.js:519:14)\\n' +\n      '    at process.emit (node:events:508:28)\\n' +\n      '    at emit (node:internal/child_process:949:14)\\n' +\n      '    at process.processTicksAndRejections (node:internal/process/task_queues:91:21)',\n    _serverType: 'semantic'\n  },\n  serverMessage: \"Cannot read properties of undefined (reading 'configFileSpecs')\",\n  serverStack: \"TypeError: Cannot read properties of undefined (reading 'configFileSpecs')\\n\" +\n    '    at ConfiguredProject2.updateErrorOnNoInputFiles (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189330:43)\\n' +\n    '    at _ProjectService.reloadFileNamesOfConfiguredProject (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:191408:13)\\n' +\n    '    at ConfiguredProject2.updateGraph (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189209:38)\\n' +\n    '    at updateWithTriggerFile (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189762:11)\\n' +\n    '    at updateConfiguredProject (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189770:9)\\n' +\n    '    at updateProjectFoundUsingFind (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:189705:28)\\n' +\n    '    at _ProjectService.findCreateOrReloadConfiguredProject (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192356:62)\\n' +\n    '    at _ProjectService.tryFindDefaultConfiguredProjectForOpenScriptInfo (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192391:25)\\n' +\n    '    at _ProjectService.tryFindDefaultConfiguredProjectAndLoadAncestorsForOpenScriptInfo (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192549:25)\\n' +\n    '    at _ProjectService.assignProjectToOpenedScriptInfo (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192302:27)\\n' +\n    '    at /home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192855:27\\n' +\n    '    at Array.forEach (<anonymous>)\\n' +\n    '    at _ProjectService.applyChangesInOpenFiles (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:192852:56)\\n' +\n    '    at updateOpen (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:194084:29)\\n' +\n    '    at /home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196809:15\\n' +\n    '    at IpcIOSession.executeWithRequestId (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196798:14)\\n' +\n    '    at IpcIOSession.executeCommand (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196807:29)\\n' +\n    '    at IpcIOSession.onMessage (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/typescript.js:196855:68)\\n' +\n    '    at process.<anonymous> (/home/ergen35/Sources/repos/minimax/minimax.backend/node_modules/typescript/lib/_tsserver.js:519:14)\\n' +\n    '    at process.emit (node:events:508:28)\\n' +\n    '    at emit (node:internal/child_process:949:14)\\n' +\n    '    at process.processTicksAndRejections (node:internal/process/task_queues:91:21)',\n  sanitizedStack: 'suppressed.js:189330:43\\n' +\n    'suppressed.js:191408:13\\n' +\n    'suppressed.js:189209:38\\n' +\n    'suppressed.js:189762:11\\n' +\n    'suppressed.js:189770:9\\n' +\n    'suppressed.js:189705:28\\n' +\n    'suppressed.js:192356:62\\n' +\n    'suppressed.js:192391:25\\n' +\n    'suppressed.js:192549:25\\n' +\n    'suppressed.js:192302:27\\n' +\n    'suppressed.js:192855:27\\n' +\n    'suppressed.js:192852:56\\n' +\n    'suppressed.js:194084:29\\n' +\n    'suppressed.js:196809:15\\n' +\n    'suppressed.js:196798:14\\n' +\n    'suppressed.js:196807:29\\n' +\n    'suppressed.js:196855:68\\n' +\n    'suppressed.js:519:14\\n'\n}\n\nNode.js v24.6.0\n`"
    }, {
      "numberIssue" : 38779,
      "numberCommentInIssue" : 3,
      "authorComment" : "refparo",
      "commentText" : "I'm also having this issue on macOS."
    } ]
  }, {
    "issueNumber" : 38780,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38780,
      "numberCommentInIssue" : 1,
      "authorComment" : "MrSubidubi",
      "commentText" : "Thanks for the report!\n\nThis seems very weird. Could you maybe attach your settings here? It might correspond to that and would help us with debugging if we had these. Thanks!"
    }, {
      "numberIssue" : 38780,
      "numberCommentInIssue" : 2,
      "authorComment" : "Billions229",
      "commentText" : "It was actually related to the setting files.json since according to what I said it was disabled yet when I installed I never opened the file surely it is the default configuration on linux distributions \nThank you for your help"
    }, {
      "numberIssue" : 38780,
      "numberCommentInIssue" : 3,
      "authorComment" : "MrSubidubi",
      "commentText" : "No problem, you are welcome! It could be that during the onboarding you deselected that perhaps? I would be unaware of some distros shipping such defaults, but obviously, could also very well be the case.\n\nGonna close this out, thanks for getting back!"
    } ]
  }, {
    "issueNumber" : 38781,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38781,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  \n```\nremote: expa...\n  \n  1 markdown notices\n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  \n```\nremote: expand tilde in SSH project paths\n        ^\n```\nWrite PR titles using sentence case.\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\nHave feedback on this plugin? [Let's hear it!](https://github.com/maxdeviant/danger-plugin-pr-hygiene/issues/new?template=feedback.yaml&title=%5BFeedback%5D%3A%20&labels=feedback&asignees=maxdeviant&version=0.6.1)\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against bc0deac5227ffeda7500eb78b726319b6d96d177\n</p>\n"
    } ]
  }, {
    "issueNumber" : 38782,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38782,
      "numberCommentInIssue" : 1,
      "authorComment" : "smitbarmase",
      "commentText" : "Thanks, I can reproduce this and can confirm it regressed in https://github.com/zed-industries/zed/pull/34418. We should fix it.\n\nJust to document:\n\nThis works:\n```c\n/*\n * try to rewrap this \n */\n```\n\nThis does not work properly:\n```c\n\t/*\n\t * try to rewrap this\n\t */\n```\n\n"
    }, {
      "numberIssue" : 38782,
      "numberCommentInIssue" : 2,
      "authorComment" : "lemorage",
      "commentText" : "Possibly related to how Zed handles mixed indentations here:\nhttps://github.com/zed-industries/zed/blob/0e0f48d8e1707377654cf6b1ee236162d2d16c8d/crates/editor/src/editor.rs#L12090-L12098"
    }, {
      "numberIssue" : 38782,
      "numberCommentInIssue" : 3,
      "authorComment" : "github-actions[bot]",
      "commentText" : "Hi there! Zed development moves fast and a significant number of bugs become outdated. If you can reproduce this bug on the latest stable Zed, please let us know by leaving a comment with the Zed version. If the bug doesn't appear for you anymore, feel free to close the issue yourself; otherwise, the bot will close it in a couple of weeks.\nThanks for your help!"
    } ]
  }, {
    "issueNumber" : 38783,
    "commentsCount" : 6,
    "comments" : [ {
      "numberIssue" : 38783,
      "numberCommentInIssue" : 1,
      "authorComment" : "lemorage",
      "commentText" : "> 3. Add the change to stash\n\nI suppose you were intended to say `stage`?\n\nI did not get the described behavior on v0.205.4 (same system). What I got was cmd-enter did nothing in step 6, but cmd-shift-enter did amend my commit successfully. "
    }, {
      "numberIssue" : 38783,
      "numberCommentInIssue" : 2,
      "authorComment" : "kerma",
      "commentText" : "> I suppose you were intended to say stage?\n\nyup..\n\n> I did not get the described behavior on v0.205.4 (same system). What I got was cmd-enter did nothing in step 6, but cmd-shift-enter did amend my commit successfully.\n\ncmd-shit-enter indeed works. So I guess it's not that big of a bug, but I got confused due to the hover here:\n\n<img width=\"675\" height=\"462\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8eaf0617-f0b6-489e-aa03-08052f927b0d\" />"
    }, {
      "numberIssue" : 38783,
      "numberCommentInIssue" : 3,
      "authorComment" : "smitbarmase",
      "commentText" : "Yikes, we should fix that tooltip. \n\nIn popover (Correct):\n<img width=\"313\" height=\"133\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/73476e0b-e131-434c-9669-975b5b754e3a\" />\n\nIn tooltip (Incorrect):\n<img width=\"523\" height=\"190\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a91713a5-c062-4f4e-b280-b628e5af038a\" />"
    }, {
      "numberIssue" : 38783,
      "numberCommentInIssue" : 4,
      "authorComment" : "lemorage",
      "commentText" : "Ah, did not get noticed the tooltip part!"
    }, {
      "numberIssue" : 38783,
      "numberCommentInIssue" : 5,
      "authorComment" : "kerma",
      "commentText" : "This is broken again. Now editing the amend commit message and pressing shift+cmd+enter does closes the commit window while doing nothing. Staged files remain staged, commit message is not amended. \n\nPlease re-open.\n\n\nZed 0.208.5 \n161d1d1f0feecdc462f1a7c63c2f42ba77a7e4f0"
    }, {
      "numberIssue" : 38783,
      "numberCommentInIssue" : 6,
      "authorComment" : "lemorage",
      "commentText" : "> This is broken again. Now editing the amend commit message and pressing shift+cmd+enter does closes the commit window while doing nothing. Staged files remain staged, commit message is not amended.\n> \n> Please re-open.\n> \n> Zed 0.208.5 [161d1d1](https://github.com/zed-industries/zed/commit/161d1d1f0feecdc462f1a7c63c2f42ba77a7e4f0)\n\nThis seems a different issue to me."
    } ]
  }, {
    "issueNumber" : 38784,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38784,
      "numberCommentInIssue" : 1,
      "authorComment" : "smitbarmase",
      "commentText" : "This looks like not a bug with Zed but an upstream provider region restriction. Can you access Anthropic models via API or other mediums from your region?"
    }, {
      "numberIssue" : 38784,
      "numberCommentInIssue" : 2,
      "authorComment" : "Benett1",
      "commentText" : "Yes i can access Anthropic from Claude, Cursor and Windsurfer. Issue appears only on Zed"
    } ]
  }, {
    "issueNumber" : 38785,
    "commentsCount" : 7,
    "comments" : [ {
      "numberIssue" : 38785,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @morgenthum on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38785,
      "numberCommentInIssue" : 2,
      "authorComment" : "morgenthum",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38785,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38785,
      "numberCommentInIssue" : 4,
      "authorComment" : "benbrandt",
      "commentText" : "@morgenthum have you tried this out yourself? Their docs say this only works over the /responses api and this provider doesn't support that yet: https://platform.openai.com/docs/models/gpt-5-codex"
    }, {
      "numberIssue" : 38785,
      "numberCommentInIssue" : 5,
      "authorComment" : "morgenthum",
      "commentText" : "> @morgenthum have you tried this out yourself? Their docs say this only works over the /responses api and this provider doesn't support that yet: https://platform.openai.com/docs/models/gpt-5-codex\r\n\r\nOh! I just saw that gpt-5-codex is now (since yesterday) available via the API, looked up the context window and output tokens, and added it, similar to gpt-5. The pull request is then obsolete. Sorry!"
    }, {
      "numberIssue" : 38785,
      "numberCommentInIssue" : 6,
      "authorComment" : "benbrandt",
      "commentText" : "@morgenthum no worries, we'll get it added as soon as we can! thanks!"
    }, {
      "numberIssue" : 38785,
      "numberCommentInIssue" : 7,
      "authorComment" : "gianpaj",
      "commentText" : "Please support the /responses API \uD83D\uDE4F \r\n\r\nApparently, `gpt-5-codex` beats all other LLMs (incl. Claude) and it's faster and cheaper\r\nhttps://x.com/_valsai/status/1970958429259977075?s=52\r\n\r\nhttps://github.com/zed-industries/zed/pull/38785\r\n\r\n"
    } ]
  }, {
    "issueNumber" : 38791,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38791,
      "numberCommentInIssue" : 1,
      "authorComment" : "jansol",
      "commentText" : "Are your monitors set up in a mirrored configuration or as an extended desktop?"
    }, {
      "numberIssue" : 38791,
      "numberCommentInIssue" : 2,
      "authorComment" : "michalwilk123",
      "commentText" : "@jansol as mirrored"
    }, {
      "numberIssue" : 38791,
      "numberCommentInIssue" : 3,
      "authorComment" : "smitbarmase",
      "commentText" : "If we're only talking about mirrored display, shouldn't every app and UI element scale the same? Maybe Zed isn't doing anything special here. Could you share a screenshot of another editor side by side with Zed on both screens, so we can figure out what's going on?\n"
    }, {
      "numberIssue" : 38791,
      "numberCommentInIssue" : 4,
      "authorComment" : "michalwilk123",
      "commentText" : "@smitbarmase \n\nI opened cursor alongside zed\n\n1) Opened editors with my laptop lid closed:\n\n<img width=\"1482\" height=\"864\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/515df945-703b-406e-9f1f-a9e15666a980\" />\n\n2)  Opened both editors with my laptop opened (mirrored screens)\n\n<img width=\"1758\" height=\"971\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a0be70f3-b77a-41dc-be39-d4f1056dd693\" />\n\nBoth screenshots are taken from the main big display and only difference is if the laptop lid is closed or open \n\nI dont know if it is visible in screenshoots but the font in mirrored screen is much bigger in zed. The font size in cursor is exact same which is expected behavior i think\n\nThe bug only shows up when i close all instances of zed"
    } ]
  }, {
    "issueNumber" : 38795,
    "commentsCount" : 7,
    "comments" : [ {
      "numberIssue" : 38795,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @tsjason on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38795,
      "numberCommentInIssue" : 2,
      "authorComment" : "tsjason",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38795,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38795,
      "numberCommentInIssue" : 4,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  1 warning:  This PR is missin...\n  \n  \n  DangerID: danger-id-Danger;\n-->\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Warnings</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:warning:</td>\n      <td>\n\n  This PR is missing release notes.\n\nPlease add a \"Release Notes\" section that describes the change:\n\n```\nRelease Notes:\n\n- Added/Fixed/Improved ...\n```\n\nIf your change is not user-facing, you can use \"N/A\" for the entry:\n```\nRelease Notes:\n\n- N/A\n```\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 91712eb4b69fc37e2fc384303f0f3ff2f95b2c4e\n</p>\n"
    }, {
      "numberIssue" : 38795,
      "numberCommentInIssue" : 5,
      "authorComment" : "yara-blue",
      "commentText" : "Looks good, can you run cargo fmt and push again? We should be able to merge after :tada: "
    }, {
      "numberIssue" : 38795,
      "numberCommentInIssue" : 6,
      "authorComment" : "tsjason",
      "commentText" : "@dvdsk It's been formatted. Thanks."
    }, {
      "numberIssue" : 38795,
      "numberCommentInIssue" : 7,
      "authorComment" : "paveldroo",
      "commentText" : "Finally, thanks! You're hero!"
    } ]
  }, {
    "issueNumber" : 38797,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38797,
      "numberCommentInIssue" : 1,
      "authorComment" : "RandaZraik",
      "commentText" : "I’m not sure if this is an actual bug, but I’m reporting it for feedback. Please feel free to close the issue if this behavior is intentional!"
    }, {
      "numberIssue" : 38797,
      "numberCommentInIssue" : 2,
      "authorComment" : "franciskafyi",
      "commentText" : "Thank you! We're going to take a look!"
    }, {
      "numberIssue" : 38797,
      "numberCommentInIssue" : 3,
      "authorComment" : "esthertrapadoux",
      "commentText" : "@cppcoffee hi! :) Do you mind commenting in this issue so I can assign it to you?"
    }, {
      "numberIssue" : 38797,
      "numberCommentInIssue" : 4,
      "authorComment" : "cppcoffee",
      "commentText" : "> [@cppcoffee](https://github.com/cppcoffee) hi! :) Do you mind commenting in this issue so I can assign it to you?\n\nSure, I'm happy to take this on.\n"
    } ]
  }, {
    "issueNumber" : 38799,
    "commentsCount" : 23,
    "comments" : [ {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "Thanks for reporting. I know we still have more to do on performance here (in fact I went searching for a duplicate to merge this with, but couldn't find one, so I guess this gets to be the tracking issue :D).\n\n@osiewicz could this have been improved by yesterday's project panel updates?\n"
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 2,
      "authorComment" : "pftbest",
      "commentText" : "In my case the issue happens in this scenario:\n1) Connect remotely over ssh\n2) Have a linux repo extracted in some directory that is in the .gitignore of the parent git repo\n3) Navigate to a subdirectory in the kernel with a small amount of files\n4) Start search in such subdir (and also toggle \"Search files ignored by configuration\" because of step 2)\n\nFor me it takes 38 seconds to search anything in a subdir with 11 small files, which seems very broken. Searching the same via the terminal takes less than 10ms \n\n<img width=\"1621\" height=\"810\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3f73a80b-f6fb-4fbc-b098-529bfd76e5ba\" />\n\n### Zed Version and System Specs\n\nZed: v0.206.6 (Zed) \nOS: macOS 15.6.1\nMemory: 16 GiB\nArchitecture: aarch64"
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 3,
      "authorComment" : "ConradIrwin",
      "commentText" : "Hmm, we currently search strictly in-order so we can be sure results show in the correct order. I wonder if this causes a problem?\n\nDoes the ripgrep version terminate after 10ms, or just show the results sooner? "
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 4,
      "authorComment" : "pftbest",
      "commentText" : "@ConradIrwin  no, the rg command terminates immediately. I did some more testing and I think this bug is related to button \"serach files ignored by configuration\". If I disable this button then search takes around 1 second instead of 30 seconds. Maybe it tries to search some files outside of the specified search directory?\n\n<img width=\"1690\" height=\"989\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8eeeae39-68a0-4b22-8a7f-c58055a9a230\" />"
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 5,
      "authorComment" : "ConradIrwin",
      "commentText" : "Definitely I'd expect that button to make it slow as it requires us to look in all files in the current directory (even those that are .gitignored like build targets and config output). The equivalent command with ripgrep would be `rg --no-ignore config_`.\n\nOne other thing ripgrep does that we might want to figure out is allow listing results in any order, currently we always want to show the results in the same order as we show the file paths in the sidebar. This makes it easier to navigate the search hits, but means we have to wait until all earlier directories have been scanned before showing results in later directories "
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 6,
      "authorComment" : "pftbest",
      "commentText" : "> The equivalent command with ripgrep would be rg --no-ignore config_.\n\nIf you look at my screenshot you will see that I do pass `-u` flag to ripgrep which is a short hand for `--no-ignore` flag and it still runs in 5ms flat. Because the directory which I search in is very small, it only has 11 files 1kb each and does not contain any hidden or ignored files. However my full project which is open in Zed is more than 50GB in size and contains millions of files.\n\nI don't think the order of results matters here at all, I think Zed ignores the `Include: ` field which specifies the path it should search in. It probably disregards the `Include: ` field completely, searches the whole 50GB project and only then filters the output based on `Include: ` field. Since it takes 38 seconds to search, that is the only reasonable explanation I see here.\n\nHowever if it does work like that, it would be an issue for all big projects, because it's a very common operation to search in some small subdirectory of a bigger project."
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 7,
      "authorComment" : "bjackman",
      "commentText" : "Just to be clear though I think there is a totally general problem here, it's not just that searching subdirectories of large projects is slow, and totally independently of the \"search ignored files\" setting, Zed's search is orders of magnitude slower than e.g. VS Code. \n\nFWIW I also don't care in the slightest about the order of results appearing. If they can be sorted post-hoc so they eventually show up in the same order as the file list that's nice I guess, but I am 100% OK with seeing results appear as and when they become available, even if that means I become aware of \"later\" entries before \"earler\" ones."
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 8,
      "authorComment" : "ConradIrwin",
      "commentText" : "I think there's two things:\n\n1. We're slower than we should be (600ms vs 3s)\n2. The Include handling is super-busted (10ms vs 38s)\n\nBoth seem worth looking at"
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 9,
      "authorComment" : "ronanchilvers",
      "commentText" : "Just chiming in here - I work with large PHP codebase with vendor folders (gitignored) and I've been seeing similar problems. Project searches with `vendor` in `file_scan_inclusions` are orders of magnitude slower than searches where `vendor` isn't in `file_scan_inclusions` - near instantaneous vs 30+ seconds. However the latest release (0.207.3) seems to have improved search performance a lot. It now seems to be almost instantaneous for both cases! \uD83C\uDF89 "
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 10,
      "authorComment" : "bjackman",
      "commentText" : "Maybe that change is specific to the `file_scan_inclusions` issue (point 2 from Conradlrwin's comment) because on Zed 0.207.3 \n25d7cb4e0d0ff210bdea36e54fd7b34f0ddd80a I still see 4-5s searches in the Linux kernel tree (git grep takes a bit under a second for the search search)."
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 11,
      "authorComment" : "noahtallen",
      "commentText" : "Another datapoint: also working in a very large internal repo, and the main symptom for me is that while the initial result list of ~7k results populates quickly, the entire UI lags _a lot_ (even saw a beachball for a bit!) for many seconds until it finishes the search with 10k+ results.\n\nThis problem doesn't happen in VS Code, where the UI remains responsive while the search completes (and it also completes much more quickly).\n\nYou can replicate this easily by searching for a more common word like \"and\" or something like that. In my experience, this happens when there are 5k+ results."
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 12,
      "authorComment" : "osiewicz",
      "commentText" : "Yep @noahtallen , that's the case; Zed cannot post matches to screen quickly enough. Populating multibuffer has to happen on the main thread, hence we're quite limited there.\nMe and @smitbarmase are working on a refined search implementation that will reduce the latency for matches (see https://github.com/zed-industries/zed/pull/39956): this in turn will probably surface the issue you've described more, hence we'll work on that next.\n\nTo give an extra update: I think the issue with scanning ignored files is that we seem to stat all files in the worktree when that's the case. Will take a look once #39956 lands."
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 13,
      "authorComment" : "carterols",
      "commentText" : "This is still much too slow. I think the issue here is that I have added several folders to my `file_scan_exclusions` setting that I want ignored when searching. It *seems* like these folders still get searched in, but then get filtered out maybe?\n\nIf I manually enter the list of directories that I *want* to search in, then the search results appear within **2.5 seconds** (which is slightly slower than VSCode, but by about .5 seconds it appears). If I remove the inclusion filter in the search, it takes about **15 seconds**. In summary:\n- Search with **only** `file_scan_exclusions` set: **15s**\n- Search with inclusion filter of `src/`: **2.5s**\n- VSCode with `files.watcherExclude` set: **2s**\n\nI am expecting that the `files.watcherExclude` VSCode setting operates the same as the `file_scan_exclusions` Zed setting. Please note that my exclusions in both VSCode and Zed are the same and basically exclude every directory except for my `src` directory. "
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 14,
      "authorComment" : "osiewicz",
      "commentText" : "Just an update: #39956 was reverted as we've detected a bug in it's implementation."
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 15,
      "authorComment" : "adamjrrld",
      "commentText" : "To add another data point: I have a feeling that searching through compiled code is taking an extremely long time - and similar to @carterols if I exclude a directory that I suspect is slowing it down, it still feels like it's being searched. If I search for a server-side language specific term like ```indexAction``` in my large PHP codebase the search is very fast. Yet if I search for a term that is used by either css or javascript the search is painfully slow (often > 15s on a MacBook m4). This is even the case if I specifically search just the web directory. In summary:\n\n- Search **only** web directory using the ```include``` filter: **>15s**\n- Search entire codebase for PHP specific terms: **instant**\n- Search entire codebase for front-end terms (e.g. css class or JS variables): **>15s**  (irrespective of whether web/* is excluded)"
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 16,
      "authorComment" : "pftbest",
      "commentText" : "I have confirmed that my specific slowdown is caused by unfortunate behaviour of \"search files ignored by configuration\" button not respecting the \"Include:\" field. Here is a list of simple steps to reproduce this on Linux:\n\n1. Create a project structure using this shell commands:\n```bash\nmkdir test\ncd test\ngit init .\nmkdir -p build/aaa/bbb/ccc/ddd/eee\nmkdir src\necho \"hello world\" > ./build/aaa/bbb/ccc/ddd/eee/hello.txt\necho \"hello world\" > ./src/hello.txt\necho \"hello world\" > ./src/hello.d\necho \"build/\" > .gitignore\necho '*.d' >> .gitignore\n```\n\n2. Run Zed with strace attached to trace which directories it tries to open:\n```bash\nstrace -f -e trace=open,openat zeditor . 2>&1 | grep O_DIRECTORY\n```\n\n3. Search inside the `src` directory and enable \"search files ignored by configuration\" button. Observe in the terminal that it still tries to search the `build` directory even though we want to search only in \"src\".\n\nHere is a screen recording:\nhttps://github.com/user-attachments/assets/1f5997ef-bbb6-4bfd-bff2-28098acccf8e"
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 17,
      "authorComment" : "adamjrrld",
      "commentText" : "Is there any movement on this? Current search performance is the only thing stopping me switching over from neovim."
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 18,
      "authorComment" : "osiewicz",
      "commentText" : "We've re-landed project search improvements in Nightly. It should be available in tomorrow's Preview release (and a Stable release the week after that). https://github.com/zed-industries/zed/pull/40835\n\nNote that remote project search is still not fixed in terms of latency. Local one should be ~significantly better though."
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 19,
      "authorComment" : "osiewicz",
      "commentText" : "If you really feel like giving it a go, `curl -f https://zed.dev/install.sh | ZED_CHANNEL=nightly sh` is one way to install Nightly. "
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 20,
      "authorComment" : "adamjrrld",
      "commentText" : "Ah that's so much better - I can finally make the switch. Cheers!"
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 21,
      "authorComment" : "osiewicz",
      "commentText" : "@pftbest your issue with gitignored/include queries should be fixed by #42968, though that's prolly gonna land on next week's Preview as I want to let it sit on Nightly for a bit."
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 22,
      "authorComment" : "AlexeiScherbakov",
      "commentText" : "I wanted to use zed as a fast text editor within a user profile in Linux. Unfortunately, in this scenario, even simply creating an empty text file is laggy. It takes forever for the edited file to save. Files simply don't save; I have to restart zed and only then does the saving work. Zed 0.213.4 from flatpak 32Gb. Htop shows aggressive use of cpu, but I just start Zed and open one(!) docker file inside ~/projects (I wanted to use zed instead of nano :-) ) "
    }, {
      "numberIssue" : 38799,
      "numberCommentInIssue" : 23,
      "authorComment" : "yeskunall",
      "commentText" : "Cannot attach the miniprof so creating a zip of it and attaching \n\n[hang.zip](https://github.com/user-attachments/files/24312181/hang.zip)\n\nAnd the sysprof:\n\n[capture.zip](https://github.com/user-attachments/files/24312191/capture.zip)\n\n---\n\nThe file that hangs is a 88 thousand line file - here it is attached (zipped again since .rs file type is not supported for attachment by github here).\n\n[cc1352r1f_lib.zip](https://github.com/user-attachments/files/24312221/cc1352r1f_lib.zip)\n\n---\n\n###### _Originally posted by [@alefminus](https://github.com/alefminus) in https://github.com/zed-industries/zed/issues/45571_"
    } ]
  }, {
    "issueNumber" : 38801,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38801,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "Huh, I'm surprised that it does nothing at all (vs just being slow). Is there anything in your logs that might throw light on this?\n\nDoes it work outside of zed and dump the formatted version to stdout without the `--inplace` option?"
    }, {
      "numberIssue" : 38801,
      "numberCommentInIssue" : 2,
      "authorComment" : "rudolfvesely",
      "commentText" : "Thank you @ConradIrwin  for the reply and questions.\n\n> Does it work outside of zed and dump the formatted version to stdout without the `--inplace` option?\n\nYes, works OK: `yq -- \"sort_keys(..)\" file.yaml | sponge file.yaml`\n\n>  it does nothing at all\n\nIt does nothing. For example, formatting a very large JSON file is just slow (1-2 seconds). In this case, nothing happens.\n\n> Is there anything in your logs\n\nNothing in logs."
    } ]
  }, {
    "issueNumber" : 38811,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38811,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "Oops, thank you! "
    }, {
      "numberIssue" : 38811,
      "numberCommentInIssue" : 2,
      "authorComment" : "smackesey",
      "commentText" : "Just pointing out that the two sections weren't exactly the same, the deleted one has this which isn't in the other one:\r\n\r\n```\r\n**Options**\r\n\r\n`integer` values representing milliseconds\r\n```\r\n\r\nSuggesting maybe it was instead mislabeled rather than just duplicated?"
    }, {
      "numberIssue" : 38811,
      "numberCommentInIssue" : 3,
      "authorComment" : "ConradIrwin",
      "commentText" : "I think the integer was a typo? The button property is a boolean "
    }, {
      "numberIssue" : 38811,
      "numberCommentInIssue" : 4,
      "authorComment" : "MrSubidubi",
      "commentText" : "@smackesey Good catch, re-added that in https://github.com/zed-industries/zed/pull/39391"
    } ]
  }, {
    "issueNumber" : 38812,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38812,
      "numberCommentInIssue" : 1,
      "authorComment" : "Sarpar12",
      "commentText" : "Nevermind fixed itself after a restart, closing issue"
    } ]
  }, {
    "issueNumber" : 38813,
    "commentsCount" : 2,
    "comments" : [ {
      "numberIssue" : 38813,
      "numberCommentInIssue" : 1,
      "authorComment" : "JohanNorberg",
      "commentText" : "still a problem in Zed: v0.205.5 (Zed)"
    }, {
      "numberIssue" : 38813,
      "numberCommentInIssue" : 2,
      "authorComment" : "smitbarmase",
      "commentText" : "Closing this in favor of https://github.com/zed-extensions/csharp/issues/1"
    } ]
  }, {
    "issueNumber" : 38815,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38815,
      "numberCommentInIssue" : 1,
      "authorComment" : "eduardohitek",
      "commentText" : "```\nCaused by:\n    Sqlite call failed with code 787 and message: Some(\"FOREIGN KEY constraint failed\")\n2025-09-24T16:58:38-03:00 INFO  [client] set status on client 0: Reauthenticating\n2025-09-24T16:58:38-03:00 INFO  [client] set status on client 0: AuthenticationError\n2025-09-24T16:58:38-03:00 ERROR [workspace::notifications] failed to validate credentials: error sending request for url (https://cloud.zed.dev/client/users/me?)\n2025-09-24T16:58:44-03:00 ERROR [editor] persisting editor selections for editor 21474837173, workspace WorkspaceId(4)\n\nCaused by:\n    Sqlite call failed with code 787 and message: Some(\"FOREIGN KEY constraint failed\")\n```"
    }, {
      "numberIssue" : 38815,
      "numberCommentInIssue" : 2,
      "authorComment" : "smitbarmase",
      "commentText" : "I'm curious if you are behind a corporate proxy, VPN, or firewall. \n\n- Can you access https://cloud.zed.dev in a browser without any warning? \n- Is this happening for you just now, or has this always been the case?\n- What if you try to connect it with a different network, like a personal hotspot instead of Wi-Fi?\n\nI don't think SQLite errors have anything to do with this, which could be part of another discussion. "
    }, {
      "numberIssue" : 38815,
      "numberCommentInIssue" : 3,
      "authorComment" : "rizkygusna",
      "commentText" : "I have the same issue and it seems like network issue, https://cloud.zed.dev/ is timed out when i try to ping. But works in personal hotspot."
    }, {
      "numberIssue" : 38815,
      "numberCommentInIssue" : 4,
      "authorComment" : "Set27",
      "commentText" : "I got the same, strange, but only reload PC works."
    } ]
  }, {
    "issueNumber" : 38817,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38817,
      "numberCommentInIssue" : 1,
      "authorComment" : "smitbarmase",
      "commentText" : "Thanks, I tried using cargo, but I couldn't reproduce the issue. The agent only executes the next command after the first terminal process is completed. We do have this in place.\n\nCould you please provide a reproducible example? A minimal Python project that consistently reproduces the issue with a specific model would be great!"
    }, {
      "numberIssue" : 38817,
      "numberCommentInIssue" : 2,
      "authorComment" : "drdozer",
      "commentText" : "Sorry - I'm out of prompts in my usage plan :( However, I am having difficulty reproducing the issue in today's build, so it is possible it is already fixed."
    }, {
      "numberIssue" : 38817,
      "numberCommentInIssue" : 3,
      "authorComment" : "smitbarmase",
      "commentText" : "That's great to hear. Closing this for now, please let us know if you face this again. I can reopen."
    } ]
  }, {
    "issueNumber" : 38819,
    "commentsCount" : 4,
    "comments" : [ {
      "numberIssue" : 38819,
      "numberCommentInIssue" : 1,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "We require contributors to sign our Contributor License Agreement, and we don't have @saschanaz on file. You can sign our CLA at https://zed.dev/cla. Once you've signed, post a comment here that says '@cla-bot check'."
    }, {
      "numberIssue" : 38819,
      "numberCommentInIssue" : 2,
      "authorComment" : "saschanaz",
      "commentText" : "@cla-bot check"
    }, {
      "numberIssue" : 38819,
      "numberCommentInIssue" : 3,
      "authorComment" : "cla-bot[bot]",
      "commentText" : "The cla-bot has been summoned, and re-checked this pull request!"
    }, {
      "numberIssue" : 38819,
      "numberCommentInIssue" : 4,
      "authorComment" : "probably-neb",
      "commentText" : "Hey, thanks for taking a look at this. Unfortunately I'm going to close this, as the reasoning behind the hesitation to introduce the big wasmtime version bump is that we have to make sure our versions of Tree-sitter and Wasmtime are compatible, as well as evaluate whether there are breaking changes that might impact the extension API. This is not something we currently feel comfortable having contributors do for us, given the potential impact. Thanks!"
    } ]
  }, {
    "issueNumber" : 38821,
    "commentsCount" : 3,
    "comments" : [ {
      "numberIssue" : 38821,
      "numberCommentInIssue" : 1,
      "authorComment" : "zed-industries-bot",
      "commentText" : "\n<!--\n  0 failure: \n  0 warning: \n  1 messages\n  \n  DangerID: danger-id-Danger;\n-->\n\n\n\n<table>\n  <thead>\n    <tr>\n      <th width=\"50\"></th>\n      <th width=\"100%\" data-danger-table=\"true\">Messages</th>\n    </tr>\n  </thead>\n  <tbody><tr>\n      <td>:book:</td>\n      <td>\n\n  This PR includes links to the following GitHub Issues: #25744\nIf this PR aims to close an issue, please include a `Closes #ISSUE` line at the top of the PR body.\n  </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<p align=\"right\">\n  Generated by :no_entry_sign: <a href=\"https://danger.systems/js\">dangerJS</a> against 9ef3854ed4309a71b4893c56e67b96a8d1a2f6fb\n</p>\n"
    }, {
      "numberIssue" : 38821,
      "numberCommentInIssue" : 2,
      "authorComment" : "secondl1ght",
      "commentText" : "Awesome! I am looking forward to this functionality being included in Zed again when this fix gets released."
    }, {
      "numberIssue" : 38821,
      "numberCommentInIssue" : 3,
      "authorComment" : "secondl1ght",
      "commentText" : "Will this be included in tomorrow's release?"
    } ]
  }, {
    "issueNumber" : 38822,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38822,
      "numberCommentInIssue" : 1,
      "authorComment" : "smitbarmase",
      "commentText" : "Hey, thanks for the investigation and all the valuable info. It'll be helpful in fixing the issue. \n\nI've marked this as a duplicate of the original issue since it was created a week ago."
    } ]
  }, {
    "issueNumber" : 38823,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38823,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "Sorry about that, this was fixed in v0.206.1"
    } ]
  }, {
    "issueNumber" : 38826,
    "commentsCount" : 5,
    "comments" : [ {
      "numberIssue" : 38826,
      "numberCommentInIssue" : 1,
      "authorComment" : "ConradIrwin",
      "commentText" : "@leonqadirie Thanks for reporting.\n\nHow could we shell out to Claude correctly in nushell?"
    }, {
      "numberIssue" : 38826,
      "numberCommentInIssue" : 2,
      "authorComment" : "leonqadirie",
      "commentText" : "I believe this should work from e.g., `zsh` or `bash`:\n```\nnu -c '^\"/Users/user/Library/Application Support/Zed/node/node-v22.5.1-darwin-arm64/bin/node\" \"/Users/user/Library/Application Support/Zed/external_agents/claude-code-acp/0.4.4/node_modules/@anthropic-ai/claude-code/cli.js\" \"/login\"'\n```\n\nFrom `nu` it could be\n```\n^\"/Users/user/Library/Application Support/Zed/node/node-v22.5.1-darwin-arm64/bin/node\" \"/Users/user/Library/Application Support/Zed/external_agents/claude-code-acp/0.4.4/node_modules/@anthropic-ai/claude-code/cli.js\" \"/login\"\n```"
    }, {
      "numberIssue" : 38826,
      "numberCommentInIssue" : 3,
      "authorComment" : "ConradIrwin",
      "commentText" : "Makes sense. I know we have some support for nushell, but clearly doesn't extend this far :D.\n\nIs the only thing needed to add the `^` at the start? If so, do you want to take a pass at figuring out where we should do that?\n\nDo normal zed tasks (like the play buttons to run tests) work for you, or do you add the caret manually if you're configuring a task."
    }, {
      "numberIssue" : 38826,
      "numberCommentInIssue" : 4,
      "authorComment" : "leonqadirie",
      "commentText" : "`^`  does suffice and is the easiest solution.\nIt simply [forces the execution as external command](https://www.nushell.sh/book/running_externals.html).\n\nI will gladly take a pass to figure it out once my deadline crunch is over, might take some days/maybe weeks, but will be on it.\n\nThe test play button used to be broken due to incorrectly accessing  `nu`'s `PATH` variables but I just noticed this apparently was fixed in the last months, nice!"
    }, {
      "numberIssue" : 38826,
      "numberCommentInIssue" : 5,
      "authorComment" : "yeskunall",
      "commentText" : "Hey, @leonqadirie we just tried to reproduce this but were unable to do so. We’ve made some improvements around our integrated terminal, including Nushell. If you try it again and it does not work, feel free to reopen this issue."
    } ]
  }, {
    "issueNumber" : 38830,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38830,
      "numberCommentInIssue" : 1,
      "authorComment" : "SomeoneToIgnore",
      "commentText" : "This is needed, but quite an undertaking and the PR stays untouched, failing for quite some time, hence closing."
    } ]
  }, {
    "issueNumber" : 38831,
    "commentsCount" : 1,
    "comments" : [ {
      "numberIssue" : 38831,
      "numberCommentInIssue" : 1,
      "authorComment" : "probably-neb",
      "commentText" : "See https://github.com/zed-industries/zed/pull/38819#issuecomment-3334589640"
    } ]
  } ]
}